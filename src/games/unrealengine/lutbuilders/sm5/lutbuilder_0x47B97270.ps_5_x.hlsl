#include "../../common.hlsl"

// Found in Hogwarts Legacy

static const float _23[5] = { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f };
static const float4 _489[17] = { float4(-4.0f, -0.718548238277435302734375f, -4.97062206268310546875f, 0.80891323089599609375f), float4(-4.0f, 2.0810306072235107421875f, -3.0293781757354736328125f, 1.19108676910400390625f), float4(-3.1573765277862548828125f, 3.66812419891357421875f, -2.1261999607086181640625f, 1.5683000087738037109375f), float4(-0.485249996185302734375f, 4.0f, -1.5104999542236328125f, 1.94830000400543212890625f), float4(1.84773242473602294921875f, 4.0f, -1.0578000545501708984375f, 2.308300018310546875f), float4(1.84773242473602294921875f, 4.0f, -0.4668000042438507080078125f, 2.63840007781982421875f), float4(-2.3010299205780029296875f, 0.801995217800140380859375f, 0.11937999725341796875f, 2.85949993133544921875f), float4(-2.3010299205780029296875f, 1.19800484180450439453125f, 0.7088134288787841796875f, 2.9872608184814453125f), float4(-1.9312000274658203125f, 1.5943000316619873046875f, 1.2911865711212158203125f, 3.0127391815185546875f), float4(-1.5204999446868896484375f, 1.99730002880096435546875f, 1.2911865711212158203125f, 3.0127391815185546875f), float4(-1.0578000545501708984375f, 2.3782999515533447265625f, 0.0f, 0.0f), float4(-0.4668000042438507080078125f, 2.7683999538421630859375f, 0.0f, 0.0f), float4(0.11937999725341796875f, 3.0515000820159912109375f, 0.0f, 0.0f), float4(0.7088134288787841796875f, 3.2746293544769287109375f, 0.0f, 0.0f), float4(1.2911865711212158203125f, 3.32743072509765625f, 0.0f, 0.0f), float4(1.2911865711212158203125f, 3.32743072509765625f, 0.0f, 0.0f), 0.0f.xxxx };

cbuffer CB0_buf : register(b0)
{
    uint4 CB0_m[68] : packoffset(c0);
};


static uint gl_Layer;
static float2 TEXCOORD;
static float4 SV_Target;

struct SPIRV_Cross_Input
{
    noperspective float2 TEXCOORD : TEXCOORD0;
    float4 SV_Position : SV_Position0;
    uint gl_Layer : SV_RenderTargetArrayIndex;
};

struct SPIRV_Cross_Output
{
    float4 SV_Target : SV_Target0;
};

static float x0[5] = _23;
static float x1[5] = _23;

float dp2_f32(float2 a, float2 b)
{
    precise float _565 = a.x * b.x;
    return mad(a.y, b.y, _565);
}

float dp3_f32(float3 a, float3 b)
{
    precise float _550 = a.x * b.x;
    return mad(a.z, b.z, mad(a.y, b.y, _550));
}

int cvt_f32_i32(float v)
{
    return isnan(v) ? 0 : ((v < (-2147483648.0f)) ? int(0x80000000) : ((v > 2147483520.0f) ? 2147483647 : int(v)));
}

void frag_main()
{
    float _573 = float(uint(gl_Layer));
    float _623;
    float _624;
    float _625;
    float _626;
    float _627;
    float _628;
    float _629;
    float _630;
    float _631;
    if (CB0_m[65u].w == 1u)
    {
        _623 = 1.047759532928466796875f;
        _624 = -0.0454653985798358917236328125f;
        _625 = -0.00215925858356058597564697265625f;
        _626 = -0.012962051667273044586181640625f;
        _627 = 1.0822923183441162109375f;
        _628 = -0.06933529675006866455078125f;
        _629 = -0.0703467428684234619140625f;
        _630 = -0.3088507354259490966796875f;
        _631 = 1.37915885448455810546875f;
    }
    else
    {
        float _614;
        float _615;
        float _616;
        float _617;
        float _618;
        float _619;
        float _620;
        float _621;
        float _622;
        if (CB0_m[65u].w == 2u)
        {
            _614 = 1.03044021129608154296875f;
            _615 = -0.025293387472629547119140625f;
            _616 = -0.005014003254473209381103515625f;
            _617 = -0.00235231337137520313262939453125f;
            _618 = 1.0045826435089111328125f;
            _619 = -0.00223502493463456630706787109375f;
            _620 = -0.005771367810666561126708984375f;
            _621 = -0.02005250938236713409423828125f;
            _622 = 1.025799274444580078125f;
        }
        else
        {
            float _605;
            float _606;
            float _607;
            float _608;
            float _609;
            float _610;
            float _611;
            float _612;
            float _613;
            if (CB0_m[65u].w == 3u)
            {
                _605 = 1.00150072574615478515625f;
                _606 = 0.0040252101607620716094970703125f;
                _607 = -0.0055258828215301036834716796875f;
                _608 = 0.095534317195415496826171875f;
                _609 = 0.859671115875244140625f;
                _610 = 0.0447945632040500640869140625f;
                _611 = 0.16386906802654266357421875f;
                _612 = 0.140678703784942626953125f;
                _613 = 0.695452213287353515625f;
            }
            else
            {
                bool _595;
                if (CB0_m[65u].w == 4u)
                {
                    _595 = true;
                }
                else
                {
                    _595 = false;
                }
                _605 = _595 ? 1.0f : 1.152971744537353515625f;
                _606 = _595 ? 0.0f : (-0.128968775272369384765625f);
                _607 = _595 ? 0.0f : (-0.024003274738788604736328125f);
                _608 = _595 ? 0.0f : (-0.0105485282838344573974609375f);
                _609 = _595 ? 1.0f : 1.140802860260009765625f;
                _610 = _595 ? 0.0f : (-0.13025714457035064697265625f);
                _611 = _595 ? 0.0f : (-0.083258397877216339111328125f);
                _612 = _595 ? 0.0f : (-0.621790707111358642578125f);
                _613 = _595 ? 1.0f : 1.70505154132843017578125f;
            }
            _614 = _605;
            _615 = _606;
            _616 = _607;
            _617 = _608;
            _618 = _609;
            _619 = _610;
            _620 = _611;
            _621 = _612;
            _622 = _613;
        }
        _623 = _614;
        _624 = _615;
        _625 = _616;
        _626 = _617;
        _627 = _618;
        _628 = _619;
        _629 = _620;
        _630 = _621;
        _631 = _622;
    }
    float _698;
    float _699;
    float _700;
    if (CB0_m[65u].z >= 3u)
    {
        float _653 = exp2(log2((TEXCOORD.x - 0.015625f) * 1.03225803375244140625f) * 0.0126833133399486541748046875f);
        float _654 = exp2(log2((TEXCOORD.y - 0.015625f) * 1.03225803375244140625f) * 0.0126833133399486541748046875f);
        float _655 = exp2(log2(_573 * 0.0322580635547637939453125f) * 0.0126833133399486541748046875f);
        _698 = exp2(log2(max(_655 - 0.8359375f, 0.0f) / mad(_655, -18.6875f, 18.8515625f)) * 6.277394771575927734375f) * 100.0f;
        _699 = exp2(log2(max(_654 - 0.8359375f, 0.0f) / mad(_654, -18.6875f, 18.8515625f)) * 6.277394771575927734375f) * 100.0f;
        _700 = exp2(log2(max(_653 - 0.8359375f, 0.0f) / mad(_653, -18.6875f, 18.8515625f)) * 6.277394771575927734375f) * 100.0f;
    }
    else
    {
        _698 = mad(exp2(mad(_573, 0.0322580635547637939453125f, -0.434017598628997802734375f) * 14.0f), 0.180000007152557373046875f, -0.00266771926544606685638427734375f);
        _699 = mad(exp2((mad(TEXCOORD.y, 1.03225803375244140625f, -0.01612903177738189697265625f) - 0.434017598628997802734375f) * 14.0f), 0.180000007152557373046875f, -0.00266771926544606685638427734375f);
        _700 = mad(exp2((mad(TEXCOORD.x, 1.03225803375244140625f, -0.01612903177738189697265625f) - 0.434017598628997802734375f) * 14.0f), 0.180000007152557373046875f, -0.00266771926544606685638427734375f);
    }
    float _703 = asfloat(CB0_m[44u].z);
    float _705 = 1.0f / (_703 * 1.00055634975433349609375f);
    float _713 = (_703 <= 6996.10791015625f) ? mad(_705, mad(_705, mad(_705, -4607000064.0f, 2967800.0f), 99.1100006103515625f), 0.24406300485134124755859375f) : mad(_705, mad(_705, mad(_705, -2006400000.0f, 1901800.0f), 247.4799957275390625f), 0.23703999817371368408203125f);
    float _722 = _703 * _703;
    float _726 = mad(_722, 1.2864121856637211749330163002014e-07f, mad(_703, 0.00015411825734190642833709716796875f, 0.860117733478546142578125f)) / mad(_722, 7.0814513719597016461193561553955e-07f, mad(_703, 0.0008424202096648514270782470703125f, 1.0f));
    float _731 = mad(_722, 4.2048167614439080352894961833954e-08f, mad(_703, 4.2280626075807958841323852539063e-05f, 0.317398726940155029296875f)) / mad(_722, 1.6145605741257895715534687042236e-07f, mad(_703, -2.8974181986995972692966461181641e-05f, 1.0f));
    float _735 = mad(_731, -8.0f, _726 + _726) + 4.0f;
    float _736 = (_726 * 3.0f) / _735;
    float _738 = (_731 + _731) / _735;
    bool _739 = _703 < 4000.0f;
    float _746 = (_722 + (_703 * 1189.6199951171875f)) + 1412139.875f;
    float _748 = mad(_722, -1.5317699909210205078125f, mad(_703, -1916156.25f, -1137581184.0f)) / (_746 * _746);
    float _751 = (_722 + (_703 * (-179.45599365234375f))) + 6193636.0f;
    float _753 = mad(_722, -308.60699462890625f, mad(_703, -705674.0f, 1974715392.0f)) / (_751 * _751);
    float2 _754 = float2(_748, _753);
    float _756 = rsqrt(dp2_f32(_754, _754));
    float _761 = asfloat(CB0_m[44u].w);
    float _763 = mad(_761 * (_753 * _756), 0.0500000007450580596923828125f, _726);
    float _765 = mad((_748 * _756) * _761, -0.0500000007450580596923828125f, _731);
    float _769 = mad(_765, -8.0f, _763 + _763) + 4.0f;
    float _775 = (((_763 * 3.0f) / _769) - _736) + (_739 ? _736 : _713);
    float _776 = (((_765 + _765) / _769) - _738) + (_739 ? _738 : (((_713 * 2.86999988555908203125f) + ((_713 * _713) * (-3.0f))) - 0.2750000059604644775390625f));
    float _783;
    float _784;
    float _785;
    float _786;
    if (CB0_m[44u].x == 0u)
    {
        _783 = _775;
        _784 = _776;
        _785 = 0.3127000033855438232421875f;
        _786 = 0.328999996185302734375f;
    }
    else
    {
        _783 = 0.3127000033855438232421875f;
        _784 = 0.328999996185302734375f;
        _785 = _775;
        _786 = _776;
    }
    float _787 = max(_786, 1.0000000133514319600180897396058e-10f);
    float _792 = max(_784, 1.0000000133514319600180897396058e-10f);
    float3 _797 = float3(_785 / _787, 1.0f, ((1.0f - _785) - _786) / _787);
    float3 _801 = float3(_783 / _792, 1.0f, ((1.0f - _783) - _784) / _792);
    float _805 = dp3_f32(float3(0.89509999752044677734375f, 0.2664000093936920166015625f, -0.16140000522136688232421875f), _801) / dp3_f32(float3(0.89509999752044677734375f, 0.2664000093936920166015625f, -0.16140000522136688232421875f), _797);
    float _806 = dp3_f32(float3(-0.750199973583221435546875f, 1.71350002288818359375f, 0.0366999991238117218017578125f), _801) / dp3_f32(float3(-0.750199973583221435546875f, 1.71350002288818359375f, 0.0366999991238117218017578125f), _797);
    float _807 = dp3_f32(float3(0.0388999991118907928466796875f, -0.06849999725818634033203125f, 1.02960002422332763671875f), _801) / dp3_f32(float3(0.0388999991118907928466796875f, -0.06849999725818634033203125f, 1.02960002422332763671875f), _797);
    float3 _817 = float3(_805 * 0.89509999752044677734375f, _806 * (-0.750199973583221435546875f), _807 * 0.0388999991118907928466796875f);
    float3 _819 = float3(_805 * 0.2664000093936920166015625f, _806 * 1.71350002288818359375f, _807 * (-0.06849999725818634033203125f));
    float3 _821 = float3(_805 * (-0.16140000522136688232421875f), _806 * 0.0366999991238117218017578125f, _807 * 1.02960002422332763671875f);
    float3 _829 = float3(dp3_f32(float3(0.986992895603179931640625f, -0.14705429971218109130859375f, 0.15996269881725311279296875f), _817), dp3_f32(float3(0.986992895603179931640625f, -0.14705429971218109130859375f, 0.15996269881725311279296875f), _819), dp3_f32(float3(0.986992895603179931640625f, -0.14705429971218109130859375f, 0.15996269881725311279296875f), _821));
    float3 _833 = float3(dp3_f32(float3(0.4323053061962127685546875f, 0.518360316753387451171875f, 0.049291200935840606689453125f), _817), dp3_f32(float3(0.4323053061962127685546875f, 0.518360316753387451171875f, 0.049291200935840606689453125f), _819), dp3_f32(float3(0.4323053061962127685546875f, 0.518360316753387451171875f, 0.049291200935840606689453125f), _821));
    float3 _837 = float3(dp3_f32(float3(-0.00852870009839534759521484375f, 0.0400427989661693572998046875f, 0.968486726284027099609375f), _817), dp3_f32(float3(-0.00852870009839534759521484375f, 0.0400427989661693572998046875f, 0.968486726284027099609375f), _819), dp3_f32(float3(-0.00852870009839534759521484375f, 0.0400427989661693572998046875f, 0.968486726284027099609375f), _821));
    float3 _841 = float3(dp3_f32(_829, float3(0.41245639324188232421875f, 0.21267290413379669189453125f, 0.01933390088379383087158203125f)), dp3_f32(_833, float3(0.41245639324188232421875f, 0.21267290413379669189453125f, 0.01933390088379383087158203125f)), dp3_f32(_837, float3(0.41245639324188232421875f, 0.21267290413379669189453125f, 0.01933390088379383087158203125f)));
    float3 _843 = float3(dp3_f32(_829, float3(0.3575761020183563232421875f, 0.715152204036712646484375f, 0.119191996753215789794921875f)), dp3_f32(_833, float3(0.3575761020183563232421875f, 0.715152204036712646484375f, 0.119191996753215789794921875f)), dp3_f32(_837, float3(0.3575761020183563232421875f, 0.715152204036712646484375f, 0.119191996753215789794921875f)));
    float3 _845 = float3(dp3_f32(_829, float3(0.180437505245208740234375f, 0.072175003588199615478515625f, 0.950304090976715087890625f)), dp3_f32(_833, float3(0.180437505245208740234375f, 0.072175003588199615478515625f, 0.950304090976715087890625f)), dp3_f32(_837, float3(0.180437505245208740234375f, 0.072175003588199615478515625f, 0.950304090976715087890625f)));
    float3 _854 = float3(_700, _699, _698);
    float3 _860 = float3(dp3_f32(float3(dp3_f32(float3(3.2409698963165283203125f, -1.53738319873809814453125f, -0.4986107647418975830078125f), _841), dp3_f32(float3(3.2409698963165283203125f, -1.53738319873809814453125f, -0.4986107647418975830078125f), _843), dp3_f32(float3(3.2409698963165283203125f, -1.53738319873809814453125f, -0.4986107647418975830078125f), _845)), _854), dp3_f32(float3(dp3_f32(float3(-0.96924364566802978515625f, 1.875967502593994140625f, 0.0415550582110881805419921875f), _841), dp3_f32(float3(-0.96924364566802978515625f, 1.875967502593994140625f, 0.0415550582110881805419921875f), _843), dp3_f32(float3(-0.96924364566802978515625f, 1.875967502593994140625f, 0.0415550582110881805419921875f), _845)), _854), dp3_f32(float3(dp3_f32(float3(0.055630080401897430419921875f, -0.2039769589900970458984375f, 1.05697154998779296875f), _841), dp3_f32(float3(0.055630080401897430419921875f, -0.2039769589900970458984375f, 1.05697154998779296875f), _843), dp3_f32(float3(0.055630080401897430419921875f, -0.2039769589900970458984375f, 1.05697154998779296875f), _845)), _854));
    float _861 = dp3_f32(float3(0.61319148540496826171875f, 0.3395120799541473388671875f, 0.0473663322627544403076171875f), _860);
    float _862 = dp3_f32(float3(0.070206902921199798583984375f, 0.9163358211517333984375f, 0.01345001161098480224609375f), _860);
    float _863 = dp3_f32(float3(0.02061887085437774658203125f, 0.109567292034626007080078125f, 0.8696067333221435546875f), _860);

    SetUngradedAP1(float3(_861, _862, _863));

    float _901;
    float _902;
    float _903;
    if (CB0_m[44u].y == 0u)
    {
        float3 _870 = float3(_861, _862, _863);
        float _871 = dp3_f32(_870, float3(0.272228717803955078125f, 0.674081742763519287109375f, 0.053689517080783843994140625f));
        float3 _878 = float3((_861 / _871) - 1.0f, (_862 / _871) - 1.0f, (_863 / _871) - 1.0f);
        float _891 = (1.0f - exp2(((_871 * _871) * asfloat(CB0_m[67u].x)) * (-4.0f))) * (1.0f - exp2(dp3_f32(_878, _878) * (-4.0f)));
        _901 = mad(_891, dp3_f32(float3(-0.0257932581007480621337890625f, -0.098625637590885162353515625f, 1.20369434356689453125f), _870) - _863, _863);
        _902 = mad(_891, dp3_f32(float3(-0.083434186875820159912109375f, 1.0970909595489501953125f, -0.010861572809517383575439453125f), _870) - _862, _862);
        _903 = mad(_891, dp3_f32(float3(1.37041270732879638671875f, -0.3292913138866424560546875f, -0.0636827647686004638671875f), _870) - _861, _861);
    }
    else
    {
        _901 = _863;
        _902 = _862;
        _903 = _861;
    }
    float _905 = dp3_f32(float3(_903, _902, _901), float3(0.272228717803955078125f, 0.674081742763519287109375f, 0.053689517080783843994140625f));
    float _913 = asfloat(CB0_m[45u].x);
    float _914 = asfloat(CB0_m[45u].y);
    float _915 = asfloat(CB0_m[45u].z);
    float _916 = asfloat(CB0_m[45u].w);
    float _930 = _916 * asfloat(CB0_m[50u].w);
    float _937 = asfloat(CB0_m[46u].x);
    float _938 = asfloat(CB0_m[46u].y);
    float _939 = asfloat(CB0_m[46u].z);
    float _940 = asfloat(CB0_m[46u].w);
    float _954 = _940 * asfloat(CB0_m[51u].w);
    float _961 = asfloat(CB0_m[47u].x);
    float _962 = asfloat(CB0_m[47u].y);
    float _963 = asfloat(CB0_m[47u].z);
    float _964 = asfloat(CB0_m[47u].w);
    float _978 = _964 * asfloat(CB0_m[52u].w);
    float _985 = asfloat(CB0_m[48u].x);
    float _986 = asfloat(CB0_m[48u].y);
    float _987 = asfloat(CB0_m[48u].z);
    float _988 = asfloat(CB0_m[48u].w);
    float _1002 = _988 * asfloat(CB0_m[53u].w);
    float _1009 = asfloat(CB0_m[49u].x);
    float _1010 = asfloat(CB0_m[49u].y);
    float _1011 = asfloat(CB0_m[49u].z);
    float _1012 = asfloat(CB0_m[49u].w);
    float _1026 = _1012 + asfloat(CB0_m[54u].w);
    float _1030 = _903 - _905;
    float _1031 = _902 - _905;
    float _1032 = _901 - _905;
    float _1086 = clamp(_905 * (1.0f / asfloat(CB0_m[65u].x)), 0.0f, 1.0f);
    float _1087 = mad(_1086, -2.0f, 3.0f);
    float _1088 = _1086 * _1086;
    float _1090 = mad(-_1087, _1088, 1.0f);
    float _1104 = _916 * asfloat(CB0_m[60u].w);
    float _1118 = _940 * asfloat(CB0_m[61u].w);
    float _1132 = _964 * asfloat(CB0_m[62u].w);
    float _1146 = _988 * asfloat(CB0_m[63u].w);
    float _1160 = _1012 + asfloat(CB0_m[64u].w);
    float _1214 = asfloat(CB0_m[65u].y);
    float _1219 = clamp((_905 - _1214) * (1.0f / (1.0f - _1214)), 0.0f, 1.0f);
    float _1220 = mad(_1219, -2.0f, 3.0f);
    float _1221 = _1219 * _1219;
    float _1222 = _1220 * _1221;
    float _1236 = _916 * asfloat(CB0_m[55u].w);
    float _1250 = _940 * asfloat(CB0_m[56u].w);
    float _1264 = _964 * asfloat(CB0_m[57u].w);
    float _1278 = _988 * asfloat(CB0_m[58u].w);
    float _1292 = _1012 + asfloat(CB0_m[59u].w);
    float _1347 = mad(-_1220, _1221, mad(_1087, _1088, -1.0f) + 1.0f);
    float _1357 = mad(mad(exp2((1.0f / ((_961 * asfloat(CB0_m[62u].x)) * _1132)) * log2(exp2(((_937 * asfloat(CB0_m[61u].x)) * _1118) * log2(max(mad(_1030, (_913 * asfloat(CB0_m[60u].x)) * _1104, _905), 0.0f) * 5.5555553436279296875f)) * 0.180000007152557373046875f)), (_985 * asfloat(CB0_m[63u].x)) * _1146, (_1009 + asfloat(CB0_m[64u].x)) + _1160), _1222, (mad(exp2((1.0f / ((_961 * asfloat(CB0_m[57u].x)) * _1264)) * log2(exp2(((_937 * asfloat(CB0_m[56u].x)) * _1250) * log2(max(mad(_1030, (_913 * asfloat(CB0_m[55u].x)) * _1236, _905), 0.0f) * 5.5555553436279296875f)) * 0.180000007152557373046875f)), (_985 * asfloat(CB0_m[58u].x)) * _1278, (_1009 + asfloat(CB0_m[59u].x)) + _1292) * _1347) + (mad(exp2((1.0f / ((_961 * asfloat(CB0_m[52u].x)) * _978)) * log2(exp2(((_937 * asfloat(CB0_m[51u].x)) * _954) * log2(max(mad((_913 * asfloat(CB0_m[50u].x)) * _930, _1030, _905), 0.0f) * 5.5555553436279296875f)) * 0.180000007152557373046875f)), (_985 * asfloat(CB0_m[53u].x)) * _1002, (_1009 + asfloat(CB0_m[54u].x)) + _1026) * _1090));
    float _1358 = mad(_1222, mad(_1146 * (_986 * asfloat(CB0_m[63u].y)), exp2((1.0f / (_1132 * (_962 * asfloat(CB0_m[62u].y)))) * log2(exp2(((_938 * asfloat(CB0_m[61u].y)) * _1118) * log2(max(mad((_914 * asfloat(CB0_m[60u].y)) * _1104, _1031, _905), 0.0f) * 5.5555553436279296875f)) * 0.180000007152557373046875f)), (_1010 + asfloat(CB0_m[64u].y)) + _1160), (_1347 * mad((_986 * asfloat(CB0_m[58u].y)) * _1278, exp2(log2(exp2((_1250 * (_938 * asfloat(CB0_m[56u].y))) * log2(max(mad(_1236 * (_914 * asfloat(CB0_m[55u].y)), _1031, _905), 0.0f) * 5.5555553436279296875f)) * 0.180000007152557373046875f) * (1.0f / ((_962 * asfloat(CB0_m[57u].y)) * _1264))), _1292 + (_1010 + asfloat(CB0_m[59u].y)))) + (_1090 * mad(exp2(log2(exp2(log2(max(mad(_930 * (_914 * asfloat(CB0_m[50u].y)), _1031, _905), 0.0f) * 5.5555553436279296875f) * (_954 * (_938 * asfloat(CB0_m[51u].y)))) * 0.180000007152557373046875f) * (1.0f / (_978 * (_962 * asfloat(CB0_m[52u].y))))), _1002 * (_986 * asfloat(CB0_m[53u].y)), (_1010 + asfloat(CB0_m[54u].y)) + _1026)));
    float _1359 = mad(_1222, mad(exp2((1.0f / (_1132 * (_963 * asfloat(CB0_m[62u].z)))) * log2(exp2(log2(max(mad((_915 * asfloat(CB0_m[60u].z)) * _1104, _1032, _905), 0.0f) * 5.5555553436279296875f) * ((_939 * asfloat(CB0_m[61u].z)) * _1118)) * 0.180000007152557373046875f)), (_987 * asfloat(CB0_m[63u].z)) * _1146, (_1011 + asfloat(CB0_m[64u].z)) + _1160), (_1347 * mad((_987 * asfloat(CB0_m[58u].z)) * _1278, exp2(log2(exp2((_1250 * (_939 * asfloat(CB0_m[56u].z))) * log2(max(mad(_1236 * (_915 * asfloat(CB0_m[55u].z)), _1032, _905), 0.0f) * 5.5555553436279296875f)) * 0.180000007152557373046875f) * (1.0f / (_1264 * (_963 * asfloat(CB0_m[57u].z))))), _1292 + (_1011 + asfloat(CB0_m[59u].z)))) + (_1090 * mad(exp2(log2(exp2(log2(max(mad(_930 * (_915 * asfloat(CB0_m[50u].z)), _1032, _905), 0.0f) * 5.5555553436279296875f) * (_954 * (_939 * asfloat(CB0_m[51u].z)))) * 0.180000007152557373046875f) * (1.0f / (_978 * (_963 * asfloat(CB0_m[52u].z))))), (_987 * asfloat(CB0_m[53u].z)) * _1002, (_1011 + asfloat(CB0_m[54u].z)) + _1026)));
    float3 _1360 = float3(_1357, _1358, _1359);
    
    SetUntonemappedAP1(_1360);
    
    float _1361 = dp3_f32(float3(1.70505154132843017578125f, -0.621790707111358642578125f, -0.083258397877216339111328125f), _1360);
    float _1362 = dp3_f32(float3(-0.13025714457035064697265625f, 1.140802860260009765625f, -0.0105485282838344573974609375f), _1360);
    float _1363 = dp3_f32(float3(-0.024003274738788604736328125f, -0.128968775272369384765625f, 1.152971744537353515625f), _1360);
    float _1372 = asfloat(CB0_m[66u].w);
    float _1373 = mad(dp3_f32(float3(0.9386394023895263671875f, 1.0235956526827294510439969599247e-10f, 0.0613606236875057220458984375f), _1360) - _1357, _1372, _1357);
    float _1374 = mad(_1372, dp3_f32(float3(8.3600855405041585299841244705021e-11f, 0.830794155597686767578125f, 0.1692058742046356201171875f), _1360) - _1358, _1358);
    float _1375 = mad(_1372, dp3_f32(float3(2.1318736706521512758172320900485e-12f, -5.6330721337483069532936497125775e-12f, 1.0f), _1360) - _1359, _1359);
    float3 _1376 = float3(_1373, _1374, _1375);
    float _1377 = dp3_f32(float3(0.695452213287353515625f, 0.140678703784942626953125f, 0.16386906802654266357421875f), _1376);
    float _1378 = dp3_f32(float3(0.0447945632040500640869140625f, 0.859671115875244140625f, 0.095534317195415496826171875f), _1376);
    float _1379 = dp3_f32(float3(-0.005525882355868816375732421875f, 0.0040252101607620716094970703125f, 1.00150072574615478515625f), _1376);
    float _1383 = max(_1379, max(_1377, _1378));
    float _1388 = (max(_1383, 1.0000000133514319600180897396058e-10f) - max(min(_1379, min(_1377, _1378)), 1.0000000133514319600180897396058e-10f)) / max(_1383, 0.00999999977648258209228515625f);
    float _1399 = mad(sqrt(mad(_1377, _1377 - _1379, (_1379 * (_1379 - _1378)) + (_1378 * (_1378 - _1377)))), 1.75f, _1377 + (_1378 + _1379));
    float _1400 = _1388 - 0.4000000059604644775390625f;
    float _1404 = max(1.0f - abs(_1400 * 2.5f), 0.0f);
    float _1415 = mad(float(int(((_1400 < 0.0f) ? 4294967295u : 0u) + uint(_1400 > 0.0f))), mad(-_1404, _1404, 1.0f), 1.0f) * 0.02500000037252902984619140625f;
    float _1429;
    if (!(_1399 <= 0.1599999964237213134765625f))
    {
        float _1428;
        if (_1399 >= 0.4799999892711639404296875f)
        {
            _1428 = 0.0f;
        }
        else
        {
            _1428 = _1415 * ((0.07999999821186065673828125f / (_1399 * 0.3333333432674407958984375f)) - 0.5f);
        }
        _1429 = _1428;
    }
    else
    {
        _1429 = _1415;
    }
    float _1430 = _1429 + 1.0f;
    float _1431 = _1377 * _1430;
    float _1432 = _1378 * _1430;
    float _1433 = _1379 * _1430;
    float _1477;
    if ((_1431 == _1432) && (_1432 == _1433))
    {
        _1477 = 0.0f;
    }
    else
    {
        float _1441 = (_1432 - _1433) * 1.73205077648162841796875f;
        float _1443 = (_1431 * 2.0f) - _1432;
        float _1445 = mad(-_1379, _1430, _1443);
        float _1446 = abs(_1441);
        float _1447 = abs(_1445);
        float _1451 = min(_1446, _1447) * (1.0f / max(_1446, _1447));
        float _1452 = _1451 * _1451;
        float _1456 = mad(_1452, mad(_1452, mad(_1452, mad(_1452, 0.02083509974181652069091796875f, -0.08513300120830535888671875f), 0.1801410019397735595703125f), -0.33029949665069580078125f), 0.999866008758544921875f);
        float _1466 = mad(_1451, _1456, (_1446 > _1447) ? mad(_1451 * _1456, -2.0f, 1.57079637050628662109375f) : 0.0f) + ((_1445 < mad(_1379, _1430, -_1443)) ? (-3.1415927410125732421875f) : 0.0f);
        float _1467 = min(_1441, _1445);
        float _1468 = max(_1441, _1445);
        _1477 = (((_1467 < (-_1467)) && (_1468 >= (-_1468))) ? (-_1466) : _1466) * 57.295780181884765625f;
    }
    float _1482;
    if (_1477 < 0.0f)
    {
        _1482 = _1477 + 360.0f;
    }
    else
    {
        _1482 = _1477;
    }
    float _1483 = clamp(_1482, 0.0f, 360.0f);
    float _1488;
    if (_1483 > 180.0f)
    {
        _1488 = _1483 - 360.0f;
    }
    else
    {
        _1488 = _1483;
    }
    float _1492 = max(1.0f - abs(_1488 * 0.01481481455266475677490234375f), 0.0f);
    float _1495 = mad(_1492, -2.0f, 3.0f) * (_1492 * _1492);
    float3 _1503 = float3(_1431 + (((_1388 * (_1495 * _1495)) * mad(-_1377, _1430, 0.02999999932944774627685546875f)) * 0.180000007152557373046875f), _1432, _1433);
    float _1507 = max(dp3_f32(float3(1.45143926143646240234375f, -0.236510753631591796875f, -0.214928567409515380859375f), _1503), 0.0f);
    float _1508 = max(dp3_f32(float3(-0.07655377686023712158203125f, 1.1762297153472900390625f, -0.0996759235858917236328125f), _1503), 0.0f);
    float _1509 = max(dp3_f32(float3(0.0083161480724811553955078125f, -0.0060324496589601039886474609375f, 0.99771630764007568359375f), _1503), 0.0f);
    float _1511 = dp3_f32(float3(_1507, _1508, _1509), float3(0.272228717803955078125f, 0.674081742763519287109375f, 0.053689517080783843994140625f));
    float _1520 = asfloat(CB0_m[36u].w);
    float _1524 = asfloat(CB0_m[36u].y);
    float _1525 = (_1520 + 1.0f) - _1524;
    float _1529 = asfloat(CB0_m[37u].x) + 1.0f;
    float _1532 = asfloat(CB0_m[36u].z);
    float _1533 = _1529 - _1532;
    float _1557;
    if (_1524 > 0.800000011920928955078125f)
    {
        _1557 = ((0.819999992847442626953125f - _1524) / asfloat(CB0_m[36u].x)) - 0.74472749233245849609375f;
    }
    else
    {
        float _1545 = (_1520 + 0.180000007152557373046875f) / _1525;
        _1557 = mad(-(log2(_1545 / ((1.0f - _1545) + 1.0f)) * 0.3465735912322998046875f), _1525 / asfloat(CB0_m[36u].x), -0.74472749233245849609375f);
    }
    float _1561 = asfloat(CB0_m[36u].x);
    float _1562 = (1.0f - _1524) / _1561;
    float _1563 = _1562 - _1557;
    float _1566 = (_1532 / _1561) + (_1557 - _1562);
    float _1567 = log2(mad(_1507 - _1511, 0.959999978542327880859375f, _1511));
    float _1568 = log2(mad(_1508 - _1511, 0.959999978542327880859375f, _1511));
    float _1569 = log2(mad(_1509 - _1511, 0.959999978542327880859375f, _1511));
    float _1570 = _1567 * 0.3010300099849700927734375f;
    float _1571 = _1568 * 0.3010300099849700927734375f;
    float _1572 = _1569 * 0.3010300099849700927734375f;
    float _1576 = _1561 * mad(_1567, 0.3010300099849700927734375f, _1563);
    float _1577 = _1561 * mad(_1568, 0.3010300099849700927734375f, _1563);
    float _1578 = _1561 * mad(_1569, 0.3010300099849700927734375f, _1563);
    float _1579 = _1525 + _1525;
    float _1581 = (_1561 * (-2.0f)) / _1525;
    float _1583 = mad(_1567, 0.3010300099849700927734375f, -_1557);
    float _1585 = mad(_1568, 0.3010300099849700927734375f, -_1557);
    float _1587 = mad(_1569, 0.3010300099849700927734375f, -_1557);
    float _1606 = _1533 + _1533;
    float _1608 = (_1561 + _1561) / _1533;
    float _1636 = (_1570 < _1557) ? ((_1579 / (exp2((_1581 * _1583) * 1.44269502162933349609375f) + 1.0f)) - _1520) : _1576;
    float _1637 = (_1571 < _1557) ? ((_1579 / (exp2((_1581 * _1585) * 1.44269502162933349609375f) + 1.0f)) - _1520) : _1577;
    float _1638 = (_1572 < _1557) ? ((_1579 / (exp2((_1581 * _1587) * 1.44269502162933349609375f) + 1.0f)) - _1520) : _1578;
    float _1645 = _1566 - _1557;
    float _1649 = clamp(_1583 / _1645, 0.0f, 1.0f);
    float _1650 = clamp(_1585 / _1645, 0.0f, 1.0f);
    float _1651 = clamp(_1587 / _1645, 0.0f, 1.0f);
    bool _1652 = _1566 < _1557;
    float _1656 = _1652 ? (1.0f - _1649) : _1649;
    float _1657 = _1652 ? (1.0f - _1650) : _1650;
    float _1658 = _1652 ? (1.0f - _1651) : _1651;
    float _1671 = mad(mad(_1656, -2.0f, 3.0f) * (_1656 * _1656), ((_1566 < _1570) ? (_1529 - (_1606 / (exp2((_1608 * mad(_1567, 0.3010300099849700927734375f, -_1566)) * 1.44269502162933349609375f) + 1.0f))) : _1576) - _1636, _1636);
    float _1672 = mad(((_1566 < _1571) ? (_1529 - (_1606 / (exp2((_1608 * mad(_1568, 0.3010300099849700927734375f, -_1566)) * 1.44269502162933349609375f) + 1.0f))) : _1577) - _1637, mad(_1657, -2.0f, 3.0f) * (_1657 * _1657), _1637);
    float _1673 = mad(((_1566 < _1572) ? (_1529 - (_1606 / (exp2((_1608 * mad(_1569, 0.3010300099849700927734375f, -_1566)) * 1.44269502162933349609375f) + 1.0f))) : _1578) - _1638, mad(_1658, -2.0f, 3.0f) * (_1658 * _1658), _1638);
    float _1675 = dp3_f32(float3(_1671, _1672, _1673), float3(0.272228717803955078125f, 0.674081742763519287109375f, 0.053689517080783843994140625f));
    float _1690 = asfloat(CB0_m[67u].y);
    float _1691 = mad(max(mad(_1671 - _1675, 0.930000007152557373046875f, _1675), 0.0f) - _1373, _1690, _1373);
    float _1692 = mad(_1690, max(mad(_1672 - _1675, 0.930000007152557373046875f, _1675), 0.0f) - _1374, _1374);
    float _1693 = mad(_1690, max(mad(_1673 - _1675, 0.930000007152557373046875f, _1675), 0.0f) - _1375, _1375);
    float3 _1694 = float3(_1691, _1692, _1693);
    float _1851;
    float _1852;
    float _1853;
    float _1854;
    float _1855;
    float _1856;

    float3 tonemapped_bt709;

    if (CB0_m[44u].y != 0u)
    {
        float3 _1704 = float3(_1361, _1362, _1363);
        float _1746 = 1.0f / (dp3_f32(_1704, float3(asfloat(CB0_m[33u].x), asfloat(CB0_m[33u].y), asfloat(CB0_m[33u].z))) + 1.0f);
        float _1769 = max(dp3_f32(_1704, float3(asfloat(CB0_m[28u].x), asfloat(CB0_m[28u].y), asfloat(CB0_m[28u].z))) * mad(_1746, asfloat(CB0_m[35u].x), asfloat(CB0_m[34u].x)), 0.0f);
        float _1770 = max(dp3_f32(_1704, float3(asfloat(CB0_m[29u].x), asfloat(CB0_m[29u].y), asfloat(CB0_m[29u].z))) * mad(_1746, asfloat(CB0_m[35u].y), asfloat(CB0_m[34u].y)), 0.0f);
        float _1771 = max(dp3_f32(_1704, float3(asfloat(CB0_m[30u].x), asfloat(CB0_m[30u].y), asfloat(CB0_m[30u].z))) * mad(_1746, asfloat(CB0_m[35u].z), asfloat(CB0_m[34u].z)), 0.0f);
        float _1774 = asfloat(CB0_m[31u].x);
        float _1778 = max(_1774 - _1769, 0.0f);
        float _1779 = max(_1774 - _1770, 0.0f);
        float _1780 = max(_1774 - _1771, 0.0f);
        float _1783 = asfloat(CB0_m[31u].z);
        float _1784 = max(_1769, _1783);
        float _1785 = max(_1783, _1770);
        float _1786 = max(_1783, _1771);
        float _1792 = asfloat(CB0_m[32u].x);
        float _1795 = asfloat(CB0_m[32u].y);
        float _1801 = asfloat(CB0_m[31u].w);
        float _1810 = asfloat(CB0_m[28u].w);
        float _1811 = _1778 * _1810;
        float _1812 = _1810 * _1779;
        float _1813 = _1810 * _1780;
        float _1816 = asfloat(CB0_m[31u].y);
        float _1825 = asfloat(CB0_m[29u].w);
        float _1831 = asfloat(CB0_m[30u].w);
        _1851 = _1813;
        _1852 = _1812;
        _1853 = _1811;
        _1854 = mad(1.0f / (_1801 + _1786), mad(_1792, _1786, _1795), mad(_1831, clamp(_1774, _1771, _1783), mad(_1813, 1.0f / (_1816 + _1780), _1825))) - 0.00200000009499490261077880859375f;
        _1855 = mad(1.0f / (_1801 + _1785), mad(_1792, _1785, _1795), mad(_1831, clamp(_1774, _1770, _1783), mad(_1812, 1.0f / (_1816 + _1779), _1825))) - 0.00200000009499490261077880859375f;
        _1856 = mad(mad(_1784, _1792, _1795), 1.0f / (_1784 + _1801), mad(clamp(_1769, _1774, _1783), _1831, mad(_1811, 1.0f / (_1778 + _1816), _1825))) - 0.00200000009499490261077880859375f;

        tonemapped_bt709 = float3(_1856, _1855, _1854);
        SetTonemappedBT709(tonemapped_bt709);
        _1856 = tonemapped_bt709.r;
        _1855 = tonemapped_bt709.g;
        _1854 = tonemapped_bt709.b;
    }
    else
    {
        float3 _1844 = float3(mad(_1372, dp3_f32(float3(1.065374851226806640625f, 1.4467850633081980049610137939453e-06f, -0.0653710067272186279296875f), _1694) - _1691, _1691), mad(_1372, dp3_f32(float3(-3.4552559213807398919016122817993e-07f, 1.20366346836090087890625f, -0.20366771519184112548828125f), _1694) - _1692, _1692), mad(_1372, dp3_f32(float3(1.9865447953293369209859520196915e-08f, 2.1207958056379538902547210454941e-08f, 0.999999582767486572265625f), _1694) - _1693, _1693));
        _1851 = _1638;
        _1852 = _1637;
        _1853 = _1636;

        //_1854 = max(dp3_f32(float3(-0.024003274738788604736328125f, -0.128968775272369384765625f, 1.152971744537353515625f), _1844), 0.0f);
        //_1855 = max(dp3_f32(float3(-0.13025714457035064697265625f, 1.140802860260009765625f, -0.0105485282838344573974609375f), _1844), 0.0f);
        //_1856 = max(dp3_f32(float3(1.70505154132843017578125f, -0.621790707111358642578125f, -0.083258397877216339111328125f), _1844), 0.0f);
        _1854 = dp3_f32(float3(-0.024003274738788604736328125f, -0.128968775272369384765625f, 1.152971744537353515625f), _1844);
        _1855 = dp3_f32(float3(-0.13025714457035064697265625f, 1.140802860260009765625f, -0.0105485282838344573974609375f), _1844);
        _1856 = dp3_f32(float3(1.70505154132843017578125f, -0.621790707111358642578125f, -0.083258397877216339111328125f), _1844);
        tonemapped_bt709 =float3(_1856, _1855, _1854);
        SetTonemappedBT709(tonemapped_bt709);
        tonemapped_bt709 = max(0.0f, tonemapped_bt709);
        _1856 = tonemapped_bt709.r;
        _1855 = tonemapped_bt709.g;
        _1854 = tonemapped_bt709.b;
    }
    float _1862 = asfloat(CB0_m[26u].y);
    float _1868 = asfloat(CB0_m[26u].x);
    float _1877 = asfloat(CB0_m[26u].z);
    float _1878 = ((_1862 * _1856) + ((_1856 * _1856) * _1868)) + _1877;
    float _1879 = _1877 + ((_1862 * _1855) + (_1868 * (_1855 * _1855)));
    float _1880 = _1877 + ((_1862 * _1854) + (_1868 * (_1854 * _1854)));
    float _1886 = asfloat(CB0_m[42u].y);
    float _1887 = asfloat(CB0_m[42u].z);
    float _1888 = asfloat(CB0_m[42u].w);
    float _1897 = asfloat(CB0_m[43u].x);
    float _1898 = asfloat(CB0_m[43u].y);
    float _1899 = asfloat(CB0_m[43u].z);
    float _1908 = asfloat(CB0_m[43u].w);
    float _1912 = (_1878 * _1886) + (mad(-_1878, _1886, _1897) * _1908);
    float _1913 = (_1887 * _1879) + (_1908 * mad(-_1887, _1879, _1898));
    float _1914 = (_1888 * _1880) + (_1908 * mad(-_1888, _1880, _1899));
    float _1932 = asfloat(CB0_m[27u].y);
    float _1933 = log2(max(_1912, 0.0f)) * _1932;
    float _1934 = _1932 * log2(max(_1913, 0.0f));
    float _1935 = _1932 * log2(max(_1914, 0.0f));
    float _1936 = exp2(_1933);
    float _1937 = exp2(_1934);
    float _1938 = exp2(_1935);
    float _4808;
    float _4809;
    float _4810;

    if (RENODX_TONE_MAP_TYPE != 0) {
        SV_Target = GenerateOutput(float3(_1936, _1937, _1938), asuint(CB0_m[65u].z));
        return;
    }

    if (CB0_m[65u].z == 0u)
    {
        bool _1943 = _1936 < 0.00313066993840038776397705078125f;
        bool _1944 = _1937 < 0.00313066993840038776397705078125f;
        bool _1945 = _1938 < 0.00313066993840038776397705078125f;
        float _1950;
        if (_1943)
        {
            _1950 = _1936 * 12.9200000762939453125f;
        }
        else
        {
            _1950 = _1853;
        }
        float _1956;
        if (!_1943)
        {
            _1956 = mad(exp2(_1933 * 0.4166666567325592041015625f), 1.05499994754791259765625f, -0.054999999701976776123046875f);
        }
        else
        {
            _1956 = _1950;
        }
        float _1961;
        if (_1944)
        {
            _1961 = _1937 * 12.9200000762939453125f;
        }
        else
        {
            _1961 = _1852;
        }
        float _1967;
        if (!_1944)
        {
            _1967 = mad(exp2(_1934 * 0.4166666567325592041015625f), 1.05499994754791259765625f, -0.054999999701976776123046875f);
        }
        else
        {
            _1967 = _1961;
        }
        float _1972;
        if (_1945)
        {
            _1972 = _1938 * 12.9200000762939453125f;
        }
        else
        {
            _1972 = _1851;
        }
        float _1978;
        if (!_1945)
        {
            _1978 = mad(exp2(_1935 * 0.4166666567325592041015625f), 1.05499994754791259765625f, -0.054999999701976776123046875f);
        }
        else
        {
            _1978 = _1972;
        }
        _4808 = _1978;
        _4809 = _1967;
        _4810 = _1956;
    }
    else
    {
        float _4805;
        float _4806;
        float _4807;
        if (CB0_m[65u].z == 1u)
        {
            float3 _1983 = float3(_1936, _1937, _1938);
            float3 _1988 = float3(dp3_f32(float3(0.61319148540496826171875f, 0.3395120799541473388671875f, 0.0473663322627544403076171875f), _1983), dp3_f32(float3(0.070206902921199798583984375f, 0.9163358211517333984375f, 0.01345001161098480224609375f), _1983), dp3_f32(float3(0.02061887085437774658203125f, 0.109567292034626007080078125f, 0.8696067333221435546875f), _1983));
            float _1994 = max(dp3_f32(float3(_631, _630, _629), _1988), 6.1035199905745685100555419921875e-05f);
            float _1995 = max(dp3_f32(float3(_628, _627, _626), _1988), 6.1035199905745685100555419921875e-05f);
            float _1996 = max(dp3_f32(float3(_625, _624, _623), _1988), 6.1035199905745685100555419921875e-05f);
            _4805 = min(mad(exp2(log2(max(_1996, 0.017999999225139617919921875f)) * 0.449999988079071044921875f), 1.09899997711181640625f, -0.098999999463558197021484375f), _1996 * 4.5f);
            _4806 = min(mad(exp2(log2(max(_1995, 0.017999999225139617919921875f)) * 0.449999988079071044921875f), 1.09899997711181640625f, -0.098999999463558197021484375f), _1995 * 4.5f);
            _4807 = min(mad(exp2(log2(max(_1994, 0.017999999225139617919921875f)) * 0.449999988079071044921875f), 1.09899997711181640625f, -0.098999999463558197021484375f), _1994 * 4.5f);
        }
        else
        {
            float _2021 = (_1361 * _1886) + (_1908 * mad(-_1361, _1886, _1897));
            float _2022 = (_1908 * mad(-_1362, _1887, _1898)) + (_1362 * _1887);
            float _2023 = (_1363 * _1888) + (_1908 * mad(-_1363, _1888, _1899));
            float _4802;
            float _4803;
            float _4804;
            if ((CB0_m[65u].z == 3u) || (CB0_m[65u].z == 5u))
            {
                float3 _2033 = float3(_2021 * 1.5f, _2022 * 1.5f, _2023 * 1.5f);
                float _2034 = dp3_f32(float3(0.4397008121013641357421875f, 0.3829780519008636474609375f, 0.17733480036258697509765625f), _2033);
                float _2035 = dp3_f32(float3(0.089792303740978240966796875f, 0.81342315673828125f, 0.09676162898540496826171875f), _2033);
                float _2036 = dp3_f32(float3(0.01754398643970489501953125f, 0.11154405772686004638671875f, 0.870704114437103271484375f), _2033);
                float _2040 = max(_2036, max(_2034, _2035));
                float _2045 = (max(_2040, 1.0000000133514319600180897396058e-10f) - max(min(_2036, min(_2034, _2035)), 1.0000000133514319600180897396058e-10f)) / max(_2040, 0.00999999977648258209228515625f);
                float _2056 = mad(sqrt(mad(_2034, _2034 - _2036, (_2036 * (_2036 - _2035)) + (_2035 * (_2035 - _2034)))), 1.75f, _2034 + (_2035 + _2036));
                float _2057 = _2045 - 0.4000000059604644775390625f;
                float _2061 = max(1.0f - abs(_2057 * 2.5f), 0.0f);
                float _2072 = mad(float(int(((_2057 < 0.0f) ? 4294967295u : 0u) + uint(_2057 > 0.0f))), mad(-_2061, _2061, 1.0f), 1.0f) * 0.02500000037252902984619140625f;
                float _2086;
                if (!(_2056 <= 0.1599999964237213134765625f))
                {
                    float _2085;
                    if (_2056 >= 0.4799999892711639404296875f)
                    {
                        _2085 = 0.0f;
                    }
                    else
                    {
                        _2085 = _2072 * ((0.07999999821186065673828125f / (_2056 * 0.3333333432674407958984375f)) - 0.5f);
                    }
                    _2086 = _2085;
                }
                else
                {
                    _2086 = _2072;
                }
                float _2087 = _2086 + 1.0f;
                float _2088 = _2034 * _2087;
                float _2089 = _2035 * _2087;
                float _2090 = _2036 * _2087;
                float _2134;
                if ((_2088 == _2089) && (_2090 == _2089))
                {
                    _2134 = 0.0f;
                }
                else
                {
                    float _2098 = (_2089 - _2090) * 1.73205077648162841796875f;
                    float _2100 = (_2088 * 2.0f) - _2089;
                    float _2102 = mad(-_2036, _2087, _2100);
                    float _2103 = abs(_2098);
                    float _2104 = abs(_2102);
                    float _2108 = min(_2103, _2104) * (1.0f / max(_2103, _2104));
                    float _2109 = _2108 * _2108;
                    float _2113 = mad(_2109, mad(_2109, mad(_2109, mad(_2109, 0.02083509974181652069091796875f, -0.08513300120830535888671875f), 0.1801410019397735595703125f), -0.33029949665069580078125f), 0.999866008758544921875f);
                    float _2123 = mad(_2108, _2113, (_2103 > _2104) ? mad(_2108 * _2113, -2.0f, 1.57079637050628662109375f) : 0.0f) + ((_2102 < mad(_2036, _2087, -_2100)) ? (-3.1415927410125732421875f) : 0.0f);
                    float _2124 = min(_2098, _2102);
                    float _2125 = max(_2098, _2102);
                    _2134 = (((_2124 < (-_2124)) && (_2125 >= (-_2125))) ? (-_2123) : _2123) * 57.295780181884765625f;
                }
                float _2139;
                if (_2134 < 0.0f)
                {
                    _2139 = _2134 + 360.0f;
                }
                else
                {
                    _2139 = _2134;
                }
                float _2140 = clamp(_2139, 0.0f, 360.0f);
                float _2145;
                if (_2140 > 180.0f)
                {
                    _2145 = _2140 - 360.0f;
                }
                else
                {
                    _2145 = _2140;
                }
                float _2195;
                if ((_2145 > (-67.5f)) && (_2145 < 67.5f))
                {
                    float _2152 = _2145 + 67.5f;
                    float _2153 = _2152 * 0.0296296291053295135498046875f;
                    float _2157 = mad(_2152, 0.0296296291053295135498046875f, -trunc(_2153));
                    float _2158 = _2157 * _2157;
                    float _2159 = _2157 * _2158;
                    uint _2160 = uint(cvt_f32_i32(_2153));
                    float _2194;
                    if (_2160 == 3u)
                    {
                        _2194 = mad(_2157, -0.5f, (_2158 * 0.5f) + (_2159 * (-0.16666667163372039794921875f))) + 0.16666667163372039794921875f;
                    }
                    else
                    {
                        float _2193;
                        if (_2160 == 2u)
                        {
                            _2193 = ((_2159 * 0.5f) - _2158) + 0.666666686534881591796875f;
                        }
                        else
                        {
                            float _2192;
                            if (_2160 == 1u)
                            {
                                _2192 = mad(_2157, 0.5f, (_2158 * 0.5f) + (_2159 * (-0.5f))) + 0.16666667163372039794921875f;
                            }
                            else
                            {
                                float _2191;
                                if (_2160 == 0u)
                                {
                                    _2191 = _2159 * 0.16666667163372039794921875f;
                                }
                                else
                                {
                                    _2191 = 0.0f;
                                }
                                _2192 = _2191;
                            }
                            _2193 = _2192;
                        }
                        _2194 = _2193;
                    }
                    _2195 = _2194;
                }
                else
                {
                    _2195 = 0.0f;
                }
                float3 _2206 = float3(clamp(_2088 + ((((_2045 * _2195) * 1.5f) * mad(-_2034, _2087, 0.02999999932944774627685546875f)) * 0.180000007152557373046875f), 0.0f, 65535.0f), clamp(_2089, 0.0f, 65535.0f), clamp(_2090, 0.0f, 65535.0f));
                float _2210 = clamp(dp3_f32(float3(1.45143926143646240234375f, -0.236510753631591796875f, -0.214928567409515380859375f), _2206), 0.0f, 65535.0f);
                float _2211 = clamp(dp3_f32(float3(-0.07655377686023712158203125f, 1.1762297153472900390625f, -0.0996759235858917236328125f), _2206), 0.0f, 65535.0f);
                float _2212 = clamp(dp3_f32(float3(0.0083161480724811553955078125f, -0.0060324496589601039886474609375f, 0.99771630764007568359375f), _2206), 0.0f, 65535.0f);
                float _2214 = dp3_f32(float3(_2210, _2211, _2212), float3(0.272228717803955078125f, 0.674081742763519287109375f, 0.053689517080783843994140625f));
                float _2218 = mad(_2210 - _2214, 0.959999978542327880859375f, _2214);
                float _2219 = mad(_2211 - _2214, 0.959999978542327880859375f, _2214);
                float _2220 = mad(_2212 - _2214, 0.959999978542327880859375f, _2214);
                float _2227 = (_2218 <= 0.0f) ? (-14.0f) : log2(_2218);
                float _2228 = (_2219 <= 0.0f) ? (-14.0f) : log2(_2219);
                float _2229 = (_2220 <= 0.0f) ? (-14.0f) : log2(_2220);
                float _2317;
                if (_2227 <= (-17.4739322662353515625f))
                {
                    _2317 = -4.0f;
                }
                else
                {
                    float _2316;
                    if ((_2227 > (-17.4739322662353515625f)) && (_2227 < (-2.4739310741424560546875f)))
                    {
                        float _2242 = mad(_2227, 0.3010300099849700927734375f, 5.2601776123046875f);
                        float _2243 = _2242 * 0.6643855571746826171875f;
                        int _2244 = cvt_f32_i32(_2243);
                        float _2247 = mad(_2242, 0.6643855571746826171875f, -trunc(_2243));
                        uint _2254 = min(uint(_2244), 16u);
                        uint _2261 = min(uint(_2244 + 1), 16u);
                        uint _2265 = min(uint(_2244 + 2), 16u);
                        float2 _2271 = float2(_489[_2254].x, _489[_2261].x);
                        _2316 = dp3_f32(float3(_2247 * _2247, _2247, 1.0f), float3(dp3_f32(float3(_489[_2254].x, _489[_2265].x, _489[_2261].x), float3(0.5f, 0.5f, -1.0f)), dp2_f32(_2271, float2(-1.0f, 1.0f)), dp2_f32(_2271, 0.5f.xx)));
                    }
                    else
                    {
                        float _2315;
                        if ((_2227 >= (-2.4739310741424560546875f)) && (_2227 < 15.52606868743896484375f))
                        {
                            float _2283 = mad(_2227, 0.3010300099849700927734375f, 0.74472749233245849609375f);
                            float _2284 = _2283 * 0.55365467071533203125f;
                            int _2285 = cvt_f32_i32(_2284);
                            float _2288 = mad(_2283, 0.55365467071533203125f, -trunc(_2284));
                            uint _2295 = min(uint(_2285), 16u);
                            uint _2299 = min(uint(_2285 + 1), 16u);
                            uint _2303 = min(uint(_2285 + 2), 16u);
                            float2 _2309 = float2(_489[_2295].y, _489[_2299].y);
                            _2315 = dp3_f32(float3(_2288 * _2288, _2288, 1.0f), float3(dp3_f32(float3(_489[_2295].y, _489[_2303].y, _489[_2299].y), float3(0.5f, 0.5f, -1.0f)), dp2_f32(_2309, float2(-1.0f, 1.0f)), dp2_f32(_2309, 0.5f.xx)));
                        }
                        else
                        {
                            _2315 = 4.0f;
                        }
                        _2316 = _2315;
                    }
                    _2317 = _2316;
                }
                float _2401;
                if (_2228 <= (-17.4739322662353515625f))
                {
                    _2401 = -4.0f;
                }
                else
                {
                    float _2400;
                    if ((_2228 > (-17.4739322662353515625f)) && (_2228 < (-2.4739310741424560546875f)))
                    {
                        float _2329 = mad(_2228, 0.3010300099849700927734375f, 5.2601776123046875f);
                        float _2330 = _2329 * 0.6643855571746826171875f;
                        int _2331 = cvt_f32_i32(_2330);
                        float _2334 = mad(_2329, 0.6643855571746826171875f, -trunc(_2330));
                        uint _2341 = min(uint(_2331), 16u);
                        uint _2345 = min(uint(_2331 + 1), 16u);
                        uint _2349 = min(uint(_2331 + 2), 16u);
                        float2 _2355 = float2(_489[_2341].x, _489[_2345].x);
                        _2400 = dp3_f32(float3(_2334 * _2334, _2334, 1.0f), float3(dp3_f32(float3(_489[_2341].x, _489[_2349].x, _489[_2345].x), float3(0.5f, 0.5f, -1.0f)), dp2_f32(_2355, float2(-1.0f, 1.0f)), dp2_f32(_2355, 0.5f.xx)));
                    }
                    else
                    {
                        float _2399;
                        if ((_2228 >= (-2.4739310741424560546875f)) && (_2228 < 15.52606868743896484375f))
                        {
                            float _2367 = mad(_2228, 0.3010300099849700927734375f, 0.74472749233245849609375f);
                            float _2368 = _2367 * 0.55365467071533203125f;
                            int _2369 = cvt_f32_i32(_2368);
                            float _2372 = mad(_2367, 0.55365467071533203125f, -trunc(_2368));
                            uint _2379 = min(uint(_2369), 16u);
                            uint _2383 = min(uint(_2369 + 1), 16u);
                            uint _2387 = min(uint(_2369 + 2), 16u);
                            float2 _2393 = float2(_489[_2379].y, _489[_2383].y);
                            _2399 = dp3_f32(float3(_2372 * _2372, _2372, 1.0f), float3(dp3_f32(float3(_489[_2379].y, _489[_2387].y, _489[_2383].y), float3(0.5f, 0.5f, -1.0f)), dp2_f32(_2393, float2(-1.0f, 1.0f)), dp2_f32(_2393, 0.5f.xx)));
                        }
                        else
                        {
                            _2399 = 4.0f;
                        }
                        _2400 = _2399;
                    }
                    _2401 = _2400;
                }
                float _2485;
                if (_2229 <= (-17.4739322662353515625f))
                {
                    _2485 = -4.0f;
                }
                else
                {
                    float _2484;
                    if ((_2229 > (-17.4739322662353515625f)) && (_2229 < (-2.4739310741424560546875f)))
                    {
                        float _2413 = mad(_2229, 0.3010300099849700927734375f, 5.2601776123046875f);
                        float _2414 = _2413 * 0.6643855571746826171875f;
                        int _2415 = cvt_f32_i32(_2414);
                        float _2418 = mad(_2413, 0.6643855571746826171875f, -trunc(_2414));
                        uint _2425 = min(uint(_2415), 16u);
                        uint _2429 = min(uint(_2415 + 1), 16u);
                        uint _2433 = min(uint(_2415 + 2), 16u);
                        float2 _2439 = float2(_489[_2425].x, _489[_2429].x);
                        _2484 = dp3_f32(float3(_2418 * _2418, _2418, 1.0f), float3(dp3_f32(float3(_489[_2425].x, _489[_2433].x, _489[_2429].x), float3(0.5f, 0.5f, -1.0f)), dp2_f32(_2439, float2(-1.0f, 1.0f)), dp2_f32(_2439, 0.5f.xx)));
                    }
                    else
                    {
                        float _2483;
                        if ((_2229 >= (-2.4739310741424560546875f)) && (_2229 < 15.52606868743896484375f))
                        {
                            float _2451 = mad(_2229, 0.3010300099849700927734375f, 0.74472749233245849609375f);
                            float _2452 = _2451 * 0.55365467071533203125f;
                            int _2453 = cvt_f32_i32(_2452);
                            float _2456 = mad(_2451, 0.55365467071533203125f, -trunc(_2452));
                            uint _2463 = min(uint(_2453), 16u);
                            uint _2467 = min(uint(_2453 + 1), 16u);
                            uint _2471 = min(uint(_2453 + 2), 16u);
                            float2 _2477 = float2(_489[_2463].y, _489[_2467].y);
                            _2483 = dp3_f32(float3(_2456 * _2456, _2456, 1.0f), float3(dp3_f32(float3(_489[_2463].y, _489[_2471].y, _489[_2467].y), float3(0.5f, 0.5f, -1.0f)), dp2_f32(_2477, float2(-1.0f, 1.0f)), dp2_f32(_2477, 0.5f.xx)));
                        }
                        else
                        {
                            _2483 = 4.0f;
                        }
                        _2484 = _2483;
                    }
                    _2485 = _2484;
                }
                float3 _2488 = float3(exp2(_2317 * 3.3219280242919921875f), exp2(_2401 * 3.3219280242919921875f), exp2(_2485 * 3.3219280242919921875f));
                float3 _2492 = float3(dp3_f32(float3(0.695452213287353515625f, 0.140678703784942626953125f, 0.16386906802654266357421875f), _2488), dp3_f32(float3(0.0447945632040500640869140625f, 0.859671115875244140625f, 0.095534317195415496826171875f), _2488), dp3_f32(float3(-0.0055258828215301036834716796875f, 0.0040252101607620716094970703125f, 1.00150072574615478515625f), _2488));
                float _2493 = dp3_f32(float3(1.45143926143646240234375f, -0.236510753631591796875f, -0.214928567409515380859375f), _2492);
                float _2494 = dp3_f32(float3(-0.07655377686023712158203125f, 1.1762297153472900390625f, -0.0996759235858917236328125f), _2492);
                float _2495 = dp3_f32(float3(0.0083161480724811553955078125f, -0.0060324496589601039886474609375f, 0.99771630764007568359375f), _2492);
                float _2498 = (_2493 <= 0.0f) ? (-13.28771209716796875f) : log2(_2493);
                float _2583;
                if (_2498 <= (-12.78386783599853515625f))
                {
                    _2583 = mad(_2498, 0.903090000152587890625f, 7.54498291015625f);
                }
                else
                {
                    float _2582;
                    if ((_2498 > (-12.78386783599853515625f)) && (_2498 < 2.2630345821380615234375f))
                    {
                        float _2510 = mad(_2498, 0.3010300099849700927734375f, 3.84832763671875f);
                        float _2511 = _2510 * 1.54540097713470458984375f;
                        int _2512 = cvt_f32_i32(_2511);
                        float _2515 = mad(_2510, 1.54540097713470458984375f, -trunc(_2511));
                        uint _2522 = min(uint(_2512), 16u);
                        uint _2526 = min(uint(_2512 + 1), 16u);
                        uint _2530 = min(uint(_2512 + 2), 16u);
                        float2 _2536 = float2(_489[_2522].z, _489[_2526].z);
                        _2582 = dp3_f32(float3(_2515 * _2515, _2515, 1.0f), float3(dp3_f32(float3(_489[_2522].z, _489[_2530].z, _489[_2526].z), float3(0.5f, 0.5f, -1.0f)), dp2_f32(_2536, float2(-1.0f, 1.0f)), dp2_f32(_2536, 0.5f.xx)));
                    }
                    else
                    {
                        float _2581;
                        if ((_2498 >= 2.2630345821380615234375f) && (_2498 < 12.13733673095703125f))
                        {
                            float _2548 = mad(_2498, 0.3010300099849700927734375f, -0.6812412738800048828125f);
                            float _2549 = _2548 * 2.35495090484619140625f;
                            int _2550 = cvt_f32_i32(_2549);
                            float _2553 = mad(_2548, 2.35495090484619140625f, -trunc(_2549));
                            uint _2560 = min(uint(_2550), 16u);
                            uint _2564 = min(uint(_2550 + 1), 16u);
                            uint _2568 = min(uint(_2550 + 2), 16u);
                            float2 _2574 = float2(_489[_2560].w, _489[_2564].w);
                            _2581 = dp3_f32(float3(_2553 * _2553, _2553, 1.0f), float3(dp3_f32(float3(_489[_2560].w, _489[_2568].w, _489[_2564].w), float3(0.5f, 0.5f, -1.0f)), dp2_f32(_2574, float2(-1.0f, 1.0f)), dp2_f32(_2574, 0.5f.xx)));
                        }
                        else
                        {
                            _2581 = mad(_2498, 0.01806179992854595184326171875f, 2.78077793121337890625f);
                        }
                        _2582 = _2581;
                    }
                    _2583 = _2582;
                }
                float _2588 = (_2494 <= 0.0f) ? (-13.28771209716796875f) : log2(_2494);
                float _2673;
                if (_2588 <= (-12.78386783599853515625f))
                {
                    _2673 = mad(_2588, 0.903090000152587890625f, 7.54498291015625f);
                }
                else
                {
                    float _2672;
                    if ((_2588 > (-12.78386783599853515625f)) && (_2588 < 2.2630345821380615234375f))
                    {
                        float _2600 = mad(_2588, 0.3010300099849700927734375f, 3.84832763671875f);
                        float _2601 = _2600 * 1.54540097713470458984375f;
                        int _2602 = cvt_f32_i32(_2601);
                        float _2605 = mad(_2600, 1.54540097713470458984375f, -trunc(_2601));
                        uint _2612 = min(uint(_2602), 16u);
                        uint _2616 = min(uint(_2602 + 1), 16u);
                        uint _2620 = min(uint(_2602 + 2), 16u);
                        float2 _2626 = float2(_489[_2612].z, _489[_2616].z);
                        _2672 = dp3_f32(float3(_2605 * _2605, _2605, 1.0f), float3(dp3_f32(float3(_489[_2612].z, _489[_2620].z, _489[_2616].z), float3(0.5f, 0.5f, -1.0f)), dp2_f32(_2626, float2(-1.0f, 1.0f)), dp2_f32(_2626, 0.5f.xx)));
                    }
                    else
                    {
                        float _2671;
                        if ((_2588 >= 2.2630345821380615234375f) && (_2588 < 12.13733673095703125f))
                        {
                            float _2638 = mad(_2588, 0.3010300099849700927734375f, -0.6812412738800048828125f);
                            float _2639 = _2638 * 2.35495090484619140625f;
                            int _2640 = cvt_f32_i32(_2639);
                            float _2643 = mad(_2638, 2.35495090484619140625f, -trunc(_2639));
                            uint _2650 = min(uint(_2640), 16u);
                            uint _2654 = min(uint(_2640 + 1), 16u);
                            uint _2658 = min(uint(_2640 + 2), 16u);
                            float2 _2664 = float2(_489[_2650].w, _489[_2654].w);
                            _2671 = dp3_f32(float3(_2643 * _2643, _2643, 1.0f), float3(dp3_f32(float3(_489[_2650].w, _489[_2658].w, _489[_2654].w), float3(0.5f, 0.5f, -1.0f)), dp2_f32(_2664, float2(-1.0f, 1.0f)), dp2_f32(_2664, 0.5f.xx)));
                        }
                        else
                        {
                            _2671 = mad(_2588, 0.01806179992854595184326171875f, 2.78077793121337890625f);
                        }
                        _2672 = _2671;
                    }
                    _2673 = _2672;
                }
                float _2678 = (_2495 <= 0.0f) ? (-13.28771209716796875f) : log2(_2495);
                float _2763;
                if (_2678 <= (-12.78386783599853515625f))
                {
                    _2763 = mad(_2678, 0.903090000152587890625f, 7.54498291015625f);
                }
                else
                {
                    float _2762;
                    if ((_2678 > (-12.78386783599853515625f)) && (_2678 < 2.2630345821380615234375f))
                    {
                        float _2690 = mad(_2678, 0.3010300099849700927734375f, 3.84832763671875f);
                        float _2691 = _2690 * 1.54540097713470458984375f;
                        int _2692 = cvt_f32_i32(_2691);
                        float _2695 = mad(_2690, 1.54540097713470458984375f, -trunc(_2691));
                        uint _2702 = min(uint(_2692), 16u);
                        uint _2706 = min(uint(_2692 + 1), 16u);
                        uint _2710 = min(uint(_2692 + 2), 16u);
                        float2 _2716 = float2(_489[_2702].z, _489[_2706].z);
                        _2762 = dp3_f32(float3(_2695 * _2695, _2695, 1.0f), float3(dp3_f32(float3(_489[_2702].z, _489[_2710].z, _489[_2706].z), float3(0.5f, 0.5f, -1.0f)), dp2_f32(_2716, float2(-1.0f, 1.0f)), dp2_f32(_2716, 0.5f.xx)));
                    }
                    else
                    {
                        float _2761;
                        if ((_2678 >= 2.2630345821380615234375f) && (_2678 < 12.13733673095703125f))
                        {
                            float _2728 = mad(_2678, 0.3010300099849700927734375f, -0.6812412738800048828125f);
                            float _2729 = _2728 * 2.35495090484619140625f;
                            int _2730 = cvt_f32_i32(_2729);
                            float _2733 = mad(_2728, 2.35495090484619140625f, -trunc(_2729));
                            uint _2740 = min(uint(_2730), 16u);
                            uint _2744 = min(uint(_2730 + 1), 16u);
                            uint _2748 = min(uint(_2730 + 2), 16u);
                            float2 _2754 = float2(_489[_2740].w, _489[_2744].w);
                            _2761 = dp3_f32(float3(_2733 * _2733, _2733, 1.0f), float3(dp3_f32(float3(_489[_2740].w, _489[_2748].w, _489[_2744].w), float3(0.5f, 0.5f, -1.0f)), dp2_f32(_2754, float2(-1.0f, 1.0f)), dp2_f32(_2754, 0.5f.xx)));
                        }
                        else
                        {
                            _2761 = mad(_2678, 0.01806179992854595184326171875f, 2.78077793121337890625f);
                        }
                        _2762 = _2761;
                    }
                    _2763 = _2762;
                }
                float3 _2770 = float3(exp2(_2583 * 3.3219280242919921875f) - 3.5073844628641381859779357910156e-05f, exp2(_2673 * 3.3219280242919921875f) - 3.5073844628641381859779357910156e-05f, exp2(_2763 * 3.3219280242919921875f) - 3.5073844628641381859779357910156e-05f);
                float _2785 = exp2(log2(dp3_f32(float3(_631, _630, _629), _2770) * 9.9999997473787516355514526367188e-05f) * 0.1593017578125f);
                float _2786 = exp2(log2(dp3_f32(float3(_628, _627, _626), _2770) * 9.9999997473787516355514526367188e-05f) * 0.1593017578125f);
                float _2787 = exp2(log2(dp3_f32(float3(_625, _624, _623), _2770) * 9.9999997473787516355514526367188e-05f) * 0.1593017578125f);
                _4802 = exp2(log2((1.0f / mad(_2787, 18.6875f, 1.0f)) * mad(_2787, 18.8515625f, 0.8359375f)) * 78.84375f);
                _4803 = exp2(log2((1.0f / mad(_2786, 18.6875f, 1.0f)) * mad(_2786, 18.8515625f, 0.8359375f)) * 78.84375f);
                _4804 = exp2(log2((1.0f / mad(_2785, 18.6875f, 1.0f)) * mad(_2785, 18.8515625f, 0.8359375f)) * 78.84375f);
            }
            else
            {
                float _4799;
                float _4800;
                float _4801;
                if ((CB0_m[65u].z == 4u) || (CB0_m[65u].z == 6u))
                {
                    float3 _2818 = float3(_2021 * 1.5f, _2022 * 1.5f, _2023 * 1.5f);
                    float _2819 = dp3_f32(float3(0.4397008121013641357421875f, 0.3829780519008636474609375f, 0.17733480036258697509765625f), _2818);
                    float _2820 = dp3_f32(float3(0.089792303740978240966796875f, 0.81342315673828125f, 0.09676162898540496826171875f), _2818);
                    float _2821 = dp3_f32(float3(0.01754398643970489501953125f, 0.11154405772686004638671875f, 0.870704114437103271484375f), _2818);
                    float _2825 = max(_2821, max(_2819, _2820));
                    float _2830 = (max(_2825, 1.0000000133514319600180897396058e-10f) - max(min(_2821, min(_2819, _2820)), 1.0000000133514319600180897396058e-10f)) / max(_2825, 0.00999999977648258209228515625f);
                    float _2841 = mad(sqrt(mad(_2819, _2819 - _2821, (_2821 * (_2821 - _2820)) + (_2820 * (_2820 - _2819)))), 1.75f, _2819 + (_2820 + _2821));
                    float _2842 = _2830 - 0.4000000059604644775390625f;
                    float _2846 = max(1.0f - abs(_2842 * 2.5f), 0.0f);
                    float _2857 = mad(float(int(((_2842 < 0.0f) ? 4294967295u : 0u) + uint(_2842 > 0.0f))), mad(-_2846, _2846, 1.0f), 1.0f) * 0.02500000037252902984619140625f;
                    float _2871;
                    if (!(_2841 <= 0.1599999964237213134765625f))
                    {
                        float _2870;
                        if (_2841 >= 0.4799999892711639404296875f)
                        {
                            _2870 = 0.0f;
                        }
                        else
                        {
                            _2870 = _2857 * ((0.07999999821186065673828125f / (_2841 * 0.3333333432674407958984375f)) - 0.5f);
                        }
                        _2871 = _2870;
                    }
                    else
                    {
                        _2871 = _2857;
                    }
                    float _2872 = _2871 + 1.0f;
                    float _2873 = _2819 * _2872;
                    float _2874 = _2820 * _2872;
                    float _2875 = _2821 * _2872;
                    float _2919;
                    if ((_2873 == _2874) && (_2875 == _2874))
                    {
                        _2919 = 0.0f;
                    }
                    else
                    {
                        float _2883 = (_2874 - _2875) * 1.73205077648162841796875f;
                        float _2885 = (_2873 * 2.0f) - _2874;
                        float _2887 = mad(-_2821, _2872, _2885);
                        float _2888 = abs(_2883);
                        float _2889 = abs(_2887);
                        float _2893 = min(_2888, _2889) * (1.0f / max(_2888, _2889));
                        float _2894 = _2893 * _2893;
                        float _2898 = mad(_2894, mad(_2894, mad(_2894, mad(_2894, 0.02083509974181652069091796875f, -0.08513300120830535888671875f), 0.1801410019397735595703125f), -0.33029949665069580078125f), 0.999866008758544921875f);
                        float _2908 = mad(_2893, _2898, (_2888 > _2889) ? mad(_2893 * _2898, -2.0f, 1.57079637050628662109375f) : 0.0f) + ((_2887 < mad(_2821, _2872, -_2885)) ? (-3.1415927410125732421875f) : 0.0f);
                        float _2909 = min(_2883, _2887);
                        float _2910 = max(_2883, _2887);
                        _2919 = (((_2909 < (-_2909)) && (_2910 >= (-_2910))) ? (-_2908) : _2908) * 57.295780181884765625f;
                    }
                    float _2924;
                    if (_2919 < 0.0f)
                    {
                        _2924 = _2919 + 360.0f;
                    }
                    else
                    {
                        _2924 = _2919;
                    }
                    float _2925 = clamp(_2924, 0.0f, 360.0f);
                    float _2930;
                    if (_2925 > 180.0f)
                    {
                        _2930 = _2925 - 360.0f;
                    }
                    else
                    {
                        _2930 = _2925;
                    }
                    float _2980;
                    if ((_2930 > (-67.5f)) && (_2930 < 67.5f))
                    {
                        float _2937 = _2930 + 67.5f;
                        float _2938 = _2937 * 0.0296296291053295135498046875f;
                        float _2942 = mad(_2937, 0.0296296291053295135498046875f, -trunc(_2938));
                        float _2943 = _2942 * _2942;
                        float _2944 = _2942 * _2943;
                        uint _2945 = uint(cvt_f32_i32(_2938));
                        float _2979;
                        if (_2945 == 3u)
                        {
                            _2979 = mad(_2942, -0.5f, (_2943 * 0.5f) + (_2944 * (-0.16666667163372039794921875f))) + 0.16666667163372039794921875f;
                        }
                        else
                        {
                            float _2978;
                            if (_2945 == 2u)
                            {
                                _2978 = ((_2944 * 0.5f) - _2943) + 0.666666686534881591796875f;
                            }
                            else
                            {
                                float _2977;
                                if (_2945 == 1u)
                                {
                                    _2977 = mad(_2942, 0.5f, (_2943 * 0.5f) + (_2944 * (-0.5f))) + 0.16666667163372039794921875f;
                                }
                                else
                                {
                                    float _2976;
                                    if (_2945 == 0u)
                                    {
                                        _2976 = _2944 * 0.16666667163372039794921875f;
                                    }
                                    else
                                    {
                                        _2976 = 0.0f;
                                    }
                                    _2977 = _2976;
                                }
                                _2978 = _2977;
                            }
                            _2979 = _2978;
                        }
                        _2980 = _2979;
                    }
                    else
                    {
                        _2980 = 0.0f;
                    }
                    float3 _2991 = float3(clamp(_2873 + ((((_2830 * _2980) * 1.5f) * mad(-_2819, _2872, 0.02999999932944774627685546875f)) * 0.180000007152557373046875f), 0.0f, 65535.0f), clamp(_2874, 0.0f, 65535.0f), clamp(_2875, 0.0f, 65535.0f));
                    float _2995 = clamp(dp3_f32(float3(1.45143926143646240234375f, -0.236510753631591796875f, -0.214928567409515380859375f), _2991), 0.0f, 65535.0f);
                    float _2996 = clamp(dp3_f32(float3(-0.07655377686023712158203125f, 1.1762297153472900390625f, -0.0996759235858917236328125f), _2991), 0.0f, 65535.0f);
                    float _2997 = clamp(dp3_f32(float3(0.0083161480724811553955078125f, -0.0060324496589601039886474609375f, 0.99771630764007568359375f), _2991), 0.0f, 65535.0f);
                    float _2999 = dp3_f32(float3(_2995, _2996, _2997), float3(0.272228717803955078125f, 0.674081742763519287109375f, 0.053689517080783843994140625f));
                    float _3003 = mad(_2995 - _2999, 0.959999978542327880859375f, _2999);
                    float _3004 = mad(_2996 - _2999, 0.959999978542327880859375f, _2999);
                    float _3005 = mad(_2997 - _2999, 0.959999978542327880859375f, _2999);
                    float _3012 = (_3003 <= 0.0f) ? (-14.0f) : log2(_3003);
                    float _3013 = (_3004 <= 0.0f) ? (-14.0f) : log2(_3004);
                    float _3014 = (_3005 <= 0.0f) ? (-14.0f) : log2(_3005);
                    float _3099;
                    if (_3012 <= (-17.4739322662353515625f))
                    {
                        _3099 = -4.0f;
                    }
                    else
                    {
                        float _3098;
                        if ((_3012 > (-17.4739322662353515625f)) && (_3012 < (-2.4739310741424560546875f)))
                        {
                            float _3027 = mad(_3012, 0.3010300099849700927734375f, 5.2601776123046875f);
                            float _3028 = _3027 * 0.6643855571746826171875f;
                            int _3029 = cvt_f32_i32(_3028);
                            float _3032 = mad(_3027, 0.6643855571746826171875f, -trunc(_3028));
                            uint _3039 = min(uint(_3029), 16u);
                            uint _3043 = min(uint(_3029 + 1), 16u);
                            uint _3047 = min(uint(_3029 + 2), 16u);
                            float2 _3053 = float2(_489[_3039].x, _489[_3043].x);
                            _3098 = dp3_f32(float3(_3032 * _3032, _3032, 1.0f), float3(dp3_f32(float3(_489[_3039].x, _489[_3047].x, _489[_3043].x), float3(0.5f, 0.5f, -1.0f)), dp2_f32(_3053, float2(-1.0f, 1.0f)), dp2_f32(_3053, 0.5f.xx)));
                        }
                        else
                        {
                            float _3097;
                            if ((_3012 >= (-2.4739310741424560546875f)) && (_3012 < 15.52606868743896484375f))
                            {
                                float _3065 = mad(_3012, 0.3010300099849700927734375f, 0.74472749233245849609375f);
                                float _3066 = _3065 * 0.55365467071533203125f;
                                int _3067 = cvt_f32_i32(_3066);
                                float _3070 = mad(_3065, 0.55365467071533203125f, -trunc(_3066));
                                uint _3077 = min(uint(_3067), 16u);
                                uint _3081 = min(uint(_3067 + 1), 16u);
                                uint _3085 = min(uint(_3067 + 2), 16u);
                                float2 _3091 = float2(_489[_3077].y, _489[_3081].y);
                                _3097 = dp3_f32(float3(_3070 * _3070, _3070, 1.0f), float3(dp3_f32(float3(_489[_3077].y, _489[_3085].y, _489[_3081].y), float3(0.5f, 0.5f, -1.0f)), dp2_f32(_3091, float2(-1.0f, 1.0f)), dp2_f32(_3091, 0.5f.xx)));
                            }
                            else
                            {
                                _3097 = 4.0f;
                            }
                            _3098 = _3097;
                        }
                        _3099 = _3098;
                    }
                    float _3183;
                    if (_3013 <= (-17.4739322662353515625f))
                    {
                        _3183 = -4.0f;
                    }
                    else
                    {
                        float _3182;
                        if ((_3013 > (-17.4739322662353515625f)) && (_3013 < (-2.4739310741424560546875f)))
                        {
                            float _3111 = mad(_3013, 0.3010300099849700927734375f, 5.2601776123046875f);
                            float _3112 = _3111 * 0.6643855571746826171875f;
                            int _3113 = cvt_f32_i32(_3112);
                            float _3116 = mad(_3111, 0.6643855571746826171875f, -trunc(_3112));
                            uint _3123 = min(uint(_3113), 16u);
                            uint _3127 = min(uint(_3113 + 1), 16u);
                            uint _3131 = min(uint(_3113 + 2), 16u);
                            float2 _3137 = float2(_489[_3123].x, _489[_3127].x);
                            _3182 = dp3_f32(float3(_3116 * _3116, _3116, 1.0f), float3(dp3_f32(float3(_489[_3123].x, _489[_3131].x, _489[_3127].x), float3(0.5f, 0.5f, -1.0f)), dp2_f32(_3137, float2(-1.0f, 1.0f)), dp2_f32(_3137, 0.5f.xx)));
                        }
                        else
                        {
                            float _3181;
                            if ((_3013 >= (-2.4739310741424560546875f)) && (_3013 < 15.52606868743896484375f))
                            {
                                float _3149 = mad(_3013, 0.3010300099849700927734375f, 0.74472749233245849609375f);
                                float _3150 = _3149 * 0.55365467071533203125f;
                                int _3151 = cvt_f32_i32(_3150);
                                float _3154 = mad(_3149, 0.55365467071533203125f, -trunc(_3150));
                                uint _3161 = min(uint(_3151), 16u);
                                uint _3165 = min(uint(_3151 + 1), 16u);
                                uint _3169 = min(uint(_3151 + 2), 16u);
                                float2 _3175 = float2(_489[_3161].y, _489[_3165].y);
                                _3181 = dp3_f32(float3(_3154 * _3154, _3154, 1.0f), float3(dp3_f32(float3(_489[_3161].y, _489[_3169].y, _489[_3165].y), float3(0.5f, 0.5f, -1.0f)), dp2_f32(_3175, float2(-1.0f, 1.0f)), dp2_f32(_3175, 0.5f.xx)));
                            }
                            else
                            {
                                _3181 = 4.0f;
                            }
                            _3182 = _3181;
                        }
                        _3183 = _3182;
                    }
                    float _3267;
                    if (_3014 <= (-17.4739322662353515625f))
                    {
                        _3267 = -4.0f;
                    }
                    else
                    {
                        float _3266;
                        if ((_3014 > (-17.4739322662353515625f)) && (_3014 < (-2.4739310741424560546875f)))
                        {
                            float _3195 = mad(_3014, 0.3010300099849700927734375f, 5.2601776123046875f);
                            float _3196 = _3195 * 0.6643855571746826171875f;
                            int _3197 = cvt_f32_i32(_3196);
                            float _3200 = mad(_3195, 0.6643855571746826171875f, -trunc(_3196));
                            uint _3207 = min(uint(_3197), 16u);
                            uint _3211 = min(uint(_3197 + 1), 16u);
                            uint _3215 = min(uint(_3197 + 2), 16u);
                            float2 _3221 = float2(_489[_3207].x, _489[_3211].x);
                            _3266 = dp3_f32(float3(_3200 * _3200, _3200, 1.0f), float3(dp3_f32(float3(_489[_3207].x, _489[_3215].x, _489[_3211].x), float3(0.5f, 0.5f, -1.0f)), dp2_f32(_3221, float2(-1.0f, 1.0f)), dp2_f32(_3221, 0.5f.xx)));
                        }
                        else
                        {
                            float _3265;
                            if ((_3014 >= (-2.4739310741424560546875f)) && (_3014 < 15.52606868743896484375f))
                            {
                                float _3233 = mad(_3014, 0.3010300099849700927734375f, 0.74472749233245849609375f);
                                float _3234 = _3233 * 0.55365467071533203125f;
                                int _3235 = cvt_f32_i32(_3234);
                                float _3238 = mad(_3233, 0.55365467071533203125f, -trunc(_3234));
                                uint _3245 = min(uint(_3235), 16u);
                                uint _3249 = min(uint(_3235 + 1), 16u);
                                uint _3253 = min(uint(_3235 + 2), 16u);
                                float2 _3259 = float2(_489[_3245].y, _489[_3249].y);
                                _3265 = dp3_f32(float3(_3238 * _3238, _3238, 1.0f), float3(dp3_f32(float3(_489[_3245].y, _489[_3253].y, _489[_3249].y), float3(0.5f, 0.5f, -1.0f)), dp2_f32(_3259, float2(-1.0f, 1.0f)), dp2_f32(_3259, 0.5f.xx)));
                            }
                            else
                            {
                                _3265 = 4.0f;
                            }
                            _3266 = _3265;
                        }
                        _3267 = _3266;
                    }
                    float3 _3270 = float3(exp2(_3099 * 3.3219280242919921875f), exp2(_3183 * 3.3219280242919921875f), exp2(_3267 * 3.3219280242919921875f));
                    float3 _3274 = float3(dp3_f32(float3(0.695452213287353515625f, 0.140678703784942626953125f, 0.16386906802654266357421875f), _3270), dp3_f32(float3(0.0447945632040500640869140625f, 0.859671115875244140625f, 0.095534317195415496826171875f), _3270), dp3_f32(float3(-0.0055258828215301036834716796875f, 0.0040252101607620716094970703125f, 1.00150072574615478515625f), _3270));
                    float _3275 = dp3_f32(float3(1.45143926143646240234375f, -0.236510753631591796875f, -0.214928567409515380859375f), _3274);
                    float _3276 = dp3_f32(float3(-0.07655377686023712158203125f, 1.1762297153472900390625f, -0.0996759235858917236328125f), _3274);
                    float _3277 = dp3_f32(float3(0.0083161480724811553955078125f, -0.0060324496589601039886474609375f, 0.99771630764007568359375f), _3274);
                    float _3280 = (_3275 <= 0.0f) ? (-13.28771209716796875f) : log2(_3275);
                    float _3370;
                    if (_3280 <= (-12.78386783599853515625f))
                    {
                        _3370 = -2.3010299205780029296875f;
                    }
                    else
                    {
                        float _3369;
                        if ((_3280 > (-12.78386783599853515625f)) && (_3280 < 2.2630345821380615234375f))
                        {
                            float _3291 = mad(_3280, 0.3010300099849700927734375f, 3.84832763671875f);
                            float _3292 = _3291 * 1.54540097713470458984375f;
                            int _3293 = cvt_f32_i32(_3292);
                            float _3296 = mad(_3291, 1.54540097713470458984375f, -trunc(_3292));
                            uint _3302 = min(uint(_3293 + 6), 16u);
                            uint _3308 = min(uint((_3293 + 1) + 6), 16u);
                            uint _3314 = min(uint((_3293 + 2) + 6), 16u);
                            float2 _3320 = float2(_489[_3302].x, _489[_3308].x);
                            _3369 = dp3_f32(float3(_3296 * _3296, _3296, 1.0f), float3(dp3_f32(float3(_489[_3302].x, _489[_3314].x, _489[_3308].x), float3(0.5f, 0.5f, -1.0f)), dp2_f32(_3320, float2(-1.0f, 1.0f)), dp2_f32(_3320, 0.5f.xx)));
                        }
                        else
                        {
                            float _3368;
                            if ((_3280 >= 2.2630345821380615234375f) && (_3280 < 12.4948215484619140625f))
                            {
                                float _3332 = mad(_3280, 0.3010300099849700927734375f, -0.6812412738800048828125f);
                                float _3333 = _3332 * 2.272672176361083984375f;
                                int _3334 = cvt_f32_i32(_3333);
                                float _3337 = mad(_3332, 2.272672176361083984375f, -trunc(_3333));
                                uint _3343 = min(uint(_3334 + 6), 16u);
                                uint _3349 = min(uint((_3334 + 1) + 6), 16u);
                                uint _3355 = min(uint((_3334 + 2) + 6), 16u);
                                float2 _3361 = float2(_489[_3343].y, _489[_3349].y);
                                _3368 = dp3_f32(float3(_3337 * _3337, _3337, 1.0f), float3(dp3_f32(float3(_489[_3343].y, _489[_3355].y, _489[_3349].y), float3(0.5f, 0.5f, -1.0f)), dp2_f32(_3361, float2(-1.0f, 1.0f)), dp2_f32(_3361, 0.5f.xx)));
                            }
                            else
                            {
                                _3368 = mad(_3280, 0.0361235998570919036865234375f, 2.8496720790863037109375f);
                            }
                            _3369 = _3368;
                        }
                        _3370 = _3369;
                    }
                    float _3375 = (_3276 <= 0.0f) ? (-13.28771209716796875f) : log2(_3276);
                    float _3465;
                    if (_3375 <= (-12.78386783599853515625f))
                    {
                        _3465 = -2.3010299205780029296875f;
                    }
                    else
                    {
                        float _3464;
                        if ((_3375 > (-12.78386783599853515625f)) && (_3375 < 2.2630345821380615234375f))
                        {
                            float _3386 = mad(_3375, 0.3010300099849700927734375f, 3.84832763671875f);
                            float _3387 = _3386 * 1.54540097713470458984375f;
                            int _3388 = cvt_f32_i32(_3387);
                            float _3391 = mad(_3386, 1.54540097713470458984375f, -trunc(_3387));
                            uint _3397 = min(uint(_3388 + 6), 16u);
                            uint _3403 = min(uint((_3388 + 1) + 6), 16u);
                            uint _3409 = min(uint((_3388 + 2) + 6), 16u);
                            float2 _3415 = float2(_489[_3397].x, _489[_3403].x);
                            _3464 = dp3_f32(float3(_3391 * _3391, _3391, 1.0f), float3(dp3_f32(float3(_489[_3397].x, _489[_3409].x, _489[_3403].x), float3(0.5f, 0.5f, -1.0f)), dp2_f32(_3415, float2(-1.0f, 1.0f)), dp2_f32(_3415, 0.5f.xx)));
                        }
                        else
                        {
                            float _3463;
                            if ((_3375 >= 2.2630345821380615234375f) && (_3375 < 12.4948215484619140625f))
                            {
                                float _3427 = mad(_3375, 0.3010300099849700927734375f, -0.6812412738800048828125f);
                                float _3428 = _3427 * 2.272672176361083984375f;
                                int _3429 = cvt_f32_i32(_3428);
                                float _3432 = mad(_3427, 2.272672176361083984375f, -trunc(_3428));
                                uint _3438 = min(uint(_3429 + 6), 16u);
                                uint _3444 = min(uint((_3429 + 1) + 6), 16u);
                                uint _3450 = min(uint((_3429 + 2) + 6), 16u);
                                float2 _3456 = float2(_489[_3438].y, _489[_3444].y);
                                _3463 = dp3_f32(float3(_3432 * _3432, _3432, 1.0f), float3(dp3_f32(float3(_489[_3438].y, _489[_3450].y, _489[_3444].y), float3(0.5f, 0.5f, -1.0f)), dp2_f32(_3456, float2(-1.0f, 1.0f)), dp2_f32(_3456, 0.5f.xx)));
                            }
                            else
                            {
                                _3463 = mad(_3375, 0.0361235998570919036865234375f, 2.8496720790863037109375f);
                            }
                            _3464 = _3463;
                        }
                        _3465 = _3464;
                    }
                    float _3470 = (_3277 <= 0.0f) ? (-13.28771209716796875f) : log2(_3277);
                    float _3560;
                    if (_3470 <= (-12.78386783599853515625f))
                    {
                        _3560 = -2.3010299205780029296875f;
                    }
                    else
                    {
                        float _3559;
                        if ((_3470 > (-12.78386783599853515625f)) && (_3470 < 2.2630345821380615234375f))
                        {
                            float _3481 = mad(_3470, 0.3010300099849700927734375f, 3.84832763671875f);
                            float _3482 = _3481 * 1.54540097713470458984375f;
                            int _3483 = cvt_f32_i32(_3482);
                            float _3486 = mad(_3481, 1.54540097713470458984375f, -trunc(_3482));
                            uint _3492 = min(uint(_3483 + 6), 16u);
                            uint _3498 = min(uint((_3483 + 1) + 6), 16u);
                            uint _3504 = min(uint((_3483 + 2) + 6), 16u);
                            float2 _3510 = float2(_489[_3492].x, _489[_3498].x);
                            _3559 = dp3_f32(float3(_3486 * _3486, _3486, 1.0f), float3(dp3_f32(float3(_489[_3492].x, _489[_3504].x, _489[_3498].x), float3(0.5f, 0.5f, -1.0f)), dp2_f32(_3510, float2(-1.0f, 1.0f)), dp2_f32(_3510, 0.5f.xx)));
                        }
                        else
                        {
                            float _3558;
                            if ((_3470 >= 2.2630345821380615234375f) && (_3470 < 12.4948215484619140625f))
                            {
                                float _3522 = mad(_3470, 0.3010300099849700927734375f, -0.6812412738800048828125f);
                                float _3523 = _3522 * 2.272672176361083984375f;
                                int _3524 = cvt_f32_i32(_3523);
                                float _3527 = mad(_3522, 2.272672176361083984375f, -trunc(_3523));
                                uint _3533 = min(uint(_3524 + 6), 16u);
                                uint _3539 = min(uint((_3524 + 1) + 6), 16u);
                                uint _3545 = min(uint((_3524 + 2) + 6), 16u);
                                float2 _3551 = float2(_489[_3533].y, _489[_3539].y);
                                _3558 = dp3_f32(float3(_3527 * _3527, _3527, 1.0f), float3(dp3_f32(float3(_489[_3533].y, _489[_3545].y, _489[_3539].y), float3(0.5f, 0.5f, -1.0f)), dp2_f32(_3551, float2(-1.0f, 1.0f)), dp2_f32(_3551, 0.5f.xx)));
                            }
                            else
                            {
                                _3558 = mad(_3470, 0.0361235998570919036865234375f, 2.8496720790863037109375f);
                            }
                            _3559 = _3558;
                        }
                        _3560 = _3559;
                    }
                    float3 _3564 = float3(exp2(_3370 * 3.3219280242919921875f), exp2(_3465 * 3.3219280242919921875f), exp2(_3560 * 3.3219280242919921875f));
                    float _3579 = exp2(log2(dp3_f32(float3(_631, _630, _629), _3564) * 9.9999997473787516355514526367188e-05f) * 0.1593017578125f);
                    float _3580 = exp2(log2(dp3_f32(float3(_628, _627, _626), _3564) * 9.9999997473787516355514526367188e-05f) * 0.1593017578125f);
                    float _3581 = exp2(log2(dp3_f32(float3(_625, _624, _623), _3564) * 9.9999997473787516355514526367188e-05f) * 0.1593017578125f);
                    _4799 = exp2(log2(mad(_3581, 18.8515625f, 0.8359375f) * (1.0f / mad(_3581, 18.6875f, 1.0f))) * 78.84375f);
                    _4800 = exp2(log2(mad(_3580, 18.8515625f, 0.8359375f) * (1.0f / mad(_3580, 18.6875f, 1.0f))) * 78.84375f);
                    _4801 = exp2(log2(mad(_3579, 18.8515625f, 0.8359375f) * (1.0f / mad(_3579, 18.6875f, 1.0f))) * 78.84375f);
                }
                else
                {
                    float _4796;
                    float _4797;
                    float _4798;
                    if (CB0_m[65u].z == 7u)
                    {
                        float3 _3607 = float3(_2021, _2022, _2023);
                        float3 _3612 = float3(dp3_f32(float3(0.61319148540496826171875f, 0.3395120799541473388671875f, 0.0473663322627544403076171875f), _3607), dp3_f32(float3(0.070206902921199798583984375f, 0.9163358211517333984375f, 0.01345001161098480224609375f), _3607), dp3_f32(float3(0.02061887085437774658203125f, 0.109567292034626007080078125f, 0.8696067333221435546875f), _3607));
                        float _3627 = exp2(log2(dp3_f32(float3(_631, _630, _629), _3612) * 9.9999997473787516355514526367188e-05f) * 0.1593017578125f);
                        float _3628 = exp2(log2(dp3_f32(float3(_628, _627, _626), _3612) * 9.9999997473787516355514526367188e-05f) * 0.1593017578125f);
                        float _3629 = exp2(log2(dp3_f32(float3(_625, _624, _623), _3612) * 9.9999997473787516355514526367188e-05f) * 0.1593017578125f);
                        _4796 = exp2(log2((1.0f / mad(_3629, 18.6875f, 1.0f)) * mad(_3629, 18.8515625f, 0.8359375f)) * 78.84375f);
                        _4797 = exp2(log2((1.0f / mad(_3628, 18.6875f, 1.0f)) * mad(_3628, 18.8515625f, 0.8359375f)) * 78.84375f);
                        _4798 = exp2(log2(mad(_3627, 18.8515625f, 0.8359375f) * (1.0f / mad(_3627, 18.6875f, 1.0f))) * 78.84375f);
                    }
                    else
                    {
                        float _4793;
                        float _4794;
                        float _4795;
                        if (CB0_m[65u].z != 8u)
                        {
                            float _4790;
                            float _4791;
                            float _4792;
                            if (CB0_m[65u].z == 9u)
                            {
                                float3 _3658 = float3(_1912, _1913, _1914);
                                float3 _3663 = float3(dp3_f32(float3(0.61319148540496826171875f, 0.3395120799541473388671875f, 0.0473663322627544403076171875f), _3658), dp3_f32(float3(0.070206902921199798583984375f, 0.9163358211517333984375f, 0.01345001161098480224609375f), _3658), dp3_f32(float3(0.02061887085437774658203125f, 0.109567292034626007080078125f, 0.8696067333221435546875f), _3658));
                                _4790 = dp3_f32(float3(_625, _624, _623), _3663);
                                _4791 = dp3_f32(float3(_628, _627, _626), _3663);
                                _4792 = dp3_f32(float3(_631, _630, _629), _3663);
                            }
                            else
                            {
                                float _4787;
                                float _4788;
                                float _4789;
                                if ((CB0_m[65u].z == 11u) || (CB0_m[65u].z == 10u))
                                {
                                    float3 _3678 = float3(_2021 * 1.5f, _2022 * 1.5f, _2023 * 1.5f);
                                    float _3679 = dp3_f32(float3(0.4397008121013641357421875f, 0.3829780519008636474609375f, 0.17733480036258697509765625f), _3678);
                                    float _3680 = dp3_f32(float3(0.089792303740978240966796875f, 0.81342315673828125f, 0.09676162898540496826171875f), _3678);
                                    float _3681 = dp3_f32(float3(0.01754398643970489501953125f, 0.11154405772686004638671875f, 0.870704114437103271484375f), _3678);
                                    float _3688 = log2(asfloat(CB0_m[66u].x));
                                    float _3689 = log2(asfloat(CB0_m[66u].z));
                                    float _3690 = _3688 * 0.3010300099849700927734375f;
                                    float _3691 = _3689 * 0.3010300099849700927734375f;
                                    float _3693 = clamp(_3691, 1.6812412738800048828125f, 4.0f);
                                    float _3694 = clamp(_3690, -4.0f, -1.69896996021270751953125f) + 4.0f;
                                    float _3705 = exp2((_3694 * (-2.8248217105865478515625f)) + (mad(_3694, -0.434587955474853515625f, 1.0f) * (-15.0f)));
                                    float _3706 = exp2(((_3693 - 1.6812412738800048828125f) * 7.76277446746826171875f) + (mad(1.6812412738800048828125f - _3693, 0.43126523494720458984375f, 1.0f) * 6.5f));
                                    float _3711 = log2(_3705 * 0.180000007152557373046875f);
                                    float _3713 = log2(_3706 * 0.180000007152557373046875f);
                                    float _3715 = _3711 * 0.3010300099849700927734375f;
                                    float _3717 = mad(_3711, -0.3010300099849700927734375f, -0.744727432727813720703125f);
                                    float _3718 = _3717 * 0.16666667163372039794921875f;
                                    float _3722 = mad(mad(mad(-_3711, -0.3010300099849700927734375f, 0.744727432727813720703125f), 0.16666667163372039794921875f, -0.744727432727813720703125f), 1.5499999523162841796875f, 1.83556878566741943359375f);
                                    float _3724 = mad(mad(_3717, 0.16666667163372039794921875f, -0.744727432727813720703125f), 1.5499999523162841796875f, 1.83556878566741943359375f);
                                    float _3726 = clamp(log2(_3706 * 1.0f), 6.5f, 18.0f);
                                    float _3727 = clamp(log2(_3705 * 1.0f), -15.0f, -6.5f) + 15.0f;
                                    float _3728 = _3726 - 6.5f;
                                    float _3733 = mad(6.5f - _3726, 0.086956523358821868896484375f, 1.0f);
                                    float _3740 = _3690 + (((mad(_3727, -0.117647059261798858642578125f, 1.0f) * 0.180000007152557373046875f) + (_3727 * 0.0411764718592166900634765625f)) * mad(_3688, -0.3010300099849700927734375f, 0.6812412738800048828125f));
                                    float _3742 = mad(_3713, 0.3010300099849700927734375f, 0.744727432727813720703125f);
                                    float _3743 = _3742 * 0.16666667163372039794921875f;
                                    float _3745 = mad(mad(_3742, -0.16666667163372039794921875f, -0.744727432727813720703125f), 1.5499999523162841796875f, 1.83556878566741943359375f);
                                    float _3747 = mad(mad(_3742, 0.16666667163372039794921875f, -0.744727432727813720703125f), 1.5499999523162841796875f, 1.83556878566741943359375f);
                                    float _3749 = mad(mad(_3689, 0.3010300099849700927734375f, -0.6812412738800048828125f), (_3733 * 0.88999998569488525390625f) + (_3728 * 0.0782608687877655029296875f), 0.6812412738800048828125f);
                                    uint _3752;
                                    uint _3755;
                                    uint _3757;
                                    uint _3751 = 0u;
                                    uint _3754 = 0u;
                                    uint _3756 = 0u;
                                    float _3758;
                                    float _3759;
                                    for (;;)
                                    {
                                        _3758 = asfloat(_3754);
                                        _3759 = asfloat(_3751);
                                        if (int(_3756) >= 4)
                                        {
                                            break;
                                        }
                                        _3757 = _3756 + 1u;
                                        bool _3783 = _3757 == 2u;
                                        bool _3784 = _3757 == 3u;
                                        _3755 = _3783 ? 1065353216u : 0u;
                                        _3752 = _3784 ? 1065353216u : 0u;
                                        if (_3756 < 4u)
                                        {
                                            x0[_3756] = (mad(_3724, float(_3756 == 4u), mad(_3722, float(_3756 == 3u), mad(_3740, float(_3756 == 2u), dp2_f32(float2(float(_3756 == 1u), float(_3756 == 0u)), _3690.xx)))) + mad(_3724, float(_3757 == 5u), mad(_3724, float(_3757 == 4u), mad(_3722, float(_3784), (_3690 * float(_3757 == 1u)) + (_3740 * float(_3783)))))) * 0.5f;
                                        }
                                        _3751 = _3752;
                                        _3754 = _3755;
                                        _3756 = _3757;
                                        continue;
                                    }
                                    float _3805;
                                    float _3808;
                                    _3805 = _3759;
                                    _3808 = _3758;
                                    float _3806;
                                    float _3809;
                                    uint _3811;
                                    uint _3810 = 0u;
                                    for (;;)
                                    {
                                        if (int(_3810) >= 4)
                                        {
                                            break;
                                        }
                                        _3811 = _3810 + 1u;
                                        _3809 = float(_3811 == 2u);
                                        _3806 = float(_3811 == 3u);
                                        if (_3810 < 4u)
                                        {
                                            x1[_3810] = (mad(float(_3810 == 4u), _3691, mad(float(_3810 == 3u), _3691, mad(_3749, float(_3810 == 2u), (_3747 * float(_3810 == 1u)) + (_3745 * float(_3810 == 0u))))) + mad(float(_3811 == 5u), _3691, mad(float(_3811 == 4u), _3691, mad(_3806, _3691, dp2_f32(float2(float(_3811 == 1u), _3809), float2(_3747, _3749)))))) * 0.5f;
                                        }
                                        _3805 = _3806;
                                        _3808 = _3809;
                                        _3810 = _3811;
                                        continue;
                                    }
                                    float _3858 = log2(max(asfloat(CB0_m[66u].y), 1.0000000133514319600180897396058e-10f));
                                    float _3859 = _3858 * 0.3010300099849700927734375f;
                                    float _3998;
                                    if (!(_3690 >= _3859))
                                    {
                                        float _3997;
                                        if ((_3690 < _3859) && (_3858 <= 2.2630345821380615234375f))
                                        {
                                            uint _3910;
                                            float _3911;
                                            float _3912;
                                            float _3913;
                                            if ((x0[0u] < _3859) && (_3859 <= x0[1u]))
                                            {
                                                _3910 = 0u;
                                                _3911 = _3740;
                                                _3912 = _3690;
                                                _3913 = _3690;
                                            }
                                            else
                                            {
                                                bool _3884 = _3859 <= x0[2u];
                                                uint _3906;
                                                float _3907;
                                                float _3908;
                                                float _3909;
                                                if ((_3859 > x0[1u]) && _3884)
                                                {
                                                    _3906 = 1u;
                                                    _3907 = _3722;
                                                    _3908 = _3740;
                                                    _3909 = _3690;
                                                }
                                                else
                                                {
                                                    bool _3900;
                                                    float _3901;
                                                    float _3902;
                                                    uint _3903;
                                                    if ((_3859 > x0[2u]) && (_3859 <= x0[3u]))
                                                    {
                                                        _3900 = true;
                                                        _3901 = mad(_3718, 1.5499999523162841796875f, 0.6812412738800048828125f);
                                                        _3902 = mad(_3718, -1.5499999523162841796875f, 0.6812412738800048828125f);
                                                        _3903 = asuint(_3740);
                                                    }
                                                    else
                                                    {
                                                        _3900 = false;
                                                        _3901 = _3805;
                                                        _3902 = _3808;
                                                        _3903 = _3884 ? 4294967295u : 0u;
                                                    }
                                                    _3906 = _3900 ? 2u : 0u;
                                                    _3907 = _3901;
                                                    _3908 = _3902;
                                                    _3909 = asfloat(_3903);
                                                }
                                                _3910 = _3906;
                                                _3911 = _3907;
                                                _3912 = _3908;
                                                _3913 = _3909;
                                            }
                                            float2 _3916 = float2(_3913, _3912);
                                            float _3917 = dp2_f32(_3916, float2(-1.0f, 1.0f));
                                            float _3919 = mad(_3858, -0.3010300099849700927734375f, dp2_f32(_3916, 0.5f.xx));
                                            _3997 = _3715 + ((_3717 * 0.3333333432674407958984375f) * (float(_3910) - ((_3919 + _3919) / (_3917 + sqrt((_3917 * _3917) - ((dp3_f32(float3(_3913, _3911, _3912), float3(0.5f, 0.5f, -1.0f)) * _3919) * 4.0f))))));
                                        }
                                        else
                                        {
                                            float _3996;
                                            if ((_3858 > 2.2630345821380615234375f) && (_3859 < _3691))
                                            {
                                                uint _3975;
                                                float _3976;
                                                float _3977;
                                                float _3978;
                                                if ((x1[0u] <= _3859) && (_3859 <= x1[1u]))
                                                {
                                                    _3975 = 0u;
                                                    _3976 = _3749;
                                                    _3977 = mad(_3743, 1.5499999523162841796875f, 0.6812412738800048828125f);
                                                    _3978 = mad(_3743, -1.5499999523162841796875f, 0.6812412738800048828125f);
                                                }
                                                else
                                                {
                                                    uint _3971;
                                                    float _3972;
                                                    float _3973;
                                                    float _3974;
                                                    if ((_3859 > x1[1u]) && (_3859 <= x1[2u]))
                                                    {
                                                        _3971 = 1u;
                                                        _3972 = _3691;
                                                        _3973 = _3749;
                                                        _3974 = _3747;
                                                    }
                                                    else
                                                    {
                                                        bool _3967;
                                                        float _3968;
                                                        float _3969;
                                                        if ((_3859 > x1[2u]) && (_3859 <= x1[3u]))
                                                        {
                                                            _3967 = true;
                                                            _3968 = _3691;
                                                            _3969 = _3749;
                                                        }
                                                        else
                                                        {
                                                            _3967 = false;
                                                            _3968 = _3728;
                                                            _3969 = _3733;
                                                        }
                                                        _3971 = _3967 ? 2u : 0u;
                                                        _3972 = _3968;
                                                        _3973 = _3968;
                                                        _3974 = _3969;
                                                    }
                                                    _3975 = _3971;
                                                    _3976 = _3972;
                                                    _3977 = _3973;
                                                    _3978 = _3974;
                                                }
                                                float2 _3981 = float2(_3978, _3977);
                                                float _3982 = dp2_f32(_3981, float2(-1.0f, 1.0f));
                                                float _3984 = mad(_3858, -0.3010300099849700927734375f, dp2_f32(_3981, 0.5f.xx));
                                                _3996 = mad(_3742 * 0.3333333432674407958984375f, float(_3975) - ((_3984 + _3984) / (_3982 + sqrt((_3982 * _3982) - ((dp3_f32(float3(_3978, _3976, _3977), float3(0.5f, 0.5f, -1.0f)) * _3984) * 4.0f)))), -0.744727432727813720703125f);
                                            }
                                            else
                                            {
                                                _3996 = _3713 * 0.3010300099849700927734375f;
                                            }
                                            _3997 = _3996;
                                        }
                                        _3998 = _3997;
                                    }
                                    else
                                    {
                                        _3998 = _3715;
                                    }
                                    float _3999 = mad(_3998, 3.3219280242919921875f, 2.4739310741424560546875f);
                                    float _4000 = (-2.4739310741424560546875f) - _3999;
                                    float _4002 = _3713 - _3999;
                                    float _4006 = max(_3681, max(_3679, _3680));
                                    float _4011 = (max(_4006, 1.0000000133514319600180897396058e-10f) - max(min(_3681, min(_3679, _3680)), 1.0000000133514319600180897396058e-10f)) / max(_4006, 0.00999999977648258209228515625f);
                                    float _4022 = mad(sqrt(mad(_3679, _3679 - _3681, (_3681 * (_3681 - _3680)) + (_3680 * (_3680 - _3679)))), 1.75f, _3679 + (_3680 + _3681));
                                    float _4023 = _4011 - 0.4000000059604644775390625f;
                                    float _4027 = max(1.0f - abs(_4023 * 2.5f), 0.0f);
                                    float _4038 = mad(float(int(((_4023 < 0.0f) ? 4294967295u : 0u) + uint(_4023 > 0.0f))), mad(-_4027, _4027, 1.0f), 1.0f) * 0.02500000037252902984619140625f;
                                    float _4052;
                                    if (!(_4022 <= 0.1599999964237213134765625f))
                                    {
                                        float _4051;
                                        if (_4022 >= 0.4799999892711639404296875f)
                                        {
                                            _4051 = 0.0f;
                                        }
                                        else
                                        {
                                            _4051 = _4038 * ((0.07999999821186065673828125f / (_4022 * 0.3333333432674407958984375f)) - 0.5f);
                                        }
                                        _4052 = _4051;
                                    }
                                    else
                                    {
                                        _4052 = _4038;
                                    }
                                    float _4053 = _4052 + 1.0f;
                                    float _4054 = _3679 * _4053;
                                    float _4055 = _3680 * _4053;
                                    float _4056 = _3681 * _4053;
                                    float _4100;
                                    if ((_4054 == _4055) && (_4055 == _4056))
                                    {
                                        _4100 = 0.0f;
                                    }
                                    else
                                    {
                                        float _4064 = (_4055 - _4056) * 1.73205077648162841796875f;
                                        float _4066 = (_4054 * 2.0f) - _4055;
                                        float _4068 = mad(-_3681, _4053, _4066);
                                        float _4069 = abs(_4064);
                                        float _4070 = abs(_4068);
                                        float _4074 = min(_4069, _4070) * (1.0f / max(_4069, _4070));
                                        float _4075 = _4074 * _4074;
                                        float _4079 = mad(_4075, mad(_4075, mad(_4075, mad(_4075, 0.02083509974181652069091796875f, -0.08513300120830535888671875f), 0.1801410019397735595703125f), -0.33029949665069580078125f), 0.999866008758544921875f);
                                        float _4089 = mad(_4074, _4079, (_4069 > _4070) ? mad(_4074 * _4079, -2.0f, 1.57079637050628662109375f) : 0.0f) + ((_4068 < mad(_3681, _4053, -_4066)) ? (-3.1415927410125732421875f) : 0.0f);
                                        float _4090 = min(_4064, _4068);
                                        float _4091 = max(_4064, _4068);
                                        _4100 = (((_4090 < (-_4090)) && (_4091 >= (-_4091))) ? (-_4089) : _4089) * 57.295780181884765625f;
                                    }
                                    float _4105;
                                    if (_4100 < 0.0f)
                                    {
                                        _4105 = _4100 + 360.0f;
                                    }
                                    else
                                    {
                                        _4105 = _4100;
                                    }
                                    float _4106 = clamp(_4105, 0.0f, 360.0f);
                                    float _4111;
                                    if (_4106 > 180.0f)
                                    {
                                        _4111 = _4106 - 360.0f;
                                    }
                                    else
                                    {
                                        _4111 = _4106;
                                    }
                                    float _4161;
                                    if ((_4111 > (-67.5f)) && (_4111 < 67.5f))
                                    {
                                        float _4118 = _4111 + 67.5f;
                                        float _4119 = _4118 * 0.0296296291053295135498046875f;
                                        float _4123 = mad(_4118, 0.0296296291053295135498046875f, -trunc(_4119));
                                        float _4124 = _4123 * _4123;
                                        float _4125 = _4123 * _4124;
                                        uint _4126 = uint(cvt_f32_i32(_4119));
                                        float _4160;
                                        if (_4126 == 3u)
                                        {
                                            _4160 = mad(_4123, -0.5f, (_4124 * 0.5f) + (_4125 * (-0.16666667163372039794921875f))) + 0.16666667163372039794921875f;
                                        }
                                        else
                                        {
                                            float _4159;
                                            if (_4126 == 2u)
                                            {
                                                _4159 = ((_4125 * 0.5f) - _4124) + 0.666666686534881591796875f;
                                            }
                                            else
                                            {
                                                float _4158;
                                                if (_4126 == 1u)
                                                {
                                                    _4158 = mad(_4123, 0.5f, (_4124 * 0.5f) + (_4125 * (-0.5f))) + 0.16666667163372039794921875f;
                                                }
                                                else
                                                {
                                                    float _4157;
                                                    if (_4126 == 0u)
                                                    {
                                                        _4157 = _4125 * 0.16666667163372039794921875f;
                                                    }
                                                    else
                                                    {
                                                        _4157 = 0.0f;
                                                    }
                                                    _4158 = _4157;
                                                }
                                                _4159 = _4158;
                                            }
                                            _4160 = _4159;
                                        }
                                        _4161 = _4160;
                                    }
                                    else
                                    {
                                        _4161 = 0.0f;
                                    }
                                    float _4163 = (_3711 - _3999) * 0.3010300099849700927734375f;
                                    float3 _4173 = float3(clamp(_4054 + ((mad(-_3679, _4053, 0.02999999932944774627685546875f) * ((_4011 * _4161) * 1.5f)) * 0.180000007152557373046875f), 0.0f, 65535.0f), clamp(_4055, 0.0f, 65535.0f), clamp(_4056, 0.0f, 65535.0f));
                                    float3 _4180 = float3(clamp(dp3_f32(float3(1.45143926143646240234375f, -0.236510753631591796875f, -0.214928567409515380859375f), _4173), 0.0f, 65535.0f), clamp(dp3_f32(float3(-0.07655377686023712158203125f, 1.1762297153472900390625f, -0.0996759235858917236328125f), _4173), 0.0f, 65535.0f), clamp(dp3_f32(float3(0.0083161480724811553955078125f, -0.0060324496589601039886474609375f, 0.99771630764007568359375f), _4173), 0.0f, 65535.0f));
                                    float _4186 = log2(max(dp3_f32(float3(0.970889151096343994140625f, 0.02696328423917293548583984375f, 0.0021475818939507007598876953125f), _4180), 6.1035199905745685100555419921875e-05f)) * 0.3010300099849700927734375f;
                                    float _4361;
                                    if (_4163 >= _4186)
                                    {
                                        _4361 = _3690;
                                    }
                                    else
                                    {
                                        float _4192 = _4000 * 0.3010300099849700927734375f;
                                        float _4360;
                                        if ((_4163 < _4186) && (_4186 < _4192))
                                        {
                                            float _4201 = ((_4186 - _4163) * 3.0f) / (_4192 - _4163);
                                            int _4202 = cvt_f32_i32(_4201);
                                            float _4204 = _4201 - trunc(_4201);
                                            uint _4205 = uint(_4202);
                                            float2 _4215 = _3690.xx;
                                            float _4224 = mad(_3724, float(_4205 == 5u), mad(_3724, float(_4205 == 4u), mad(_3722, float(_4205 == 3u), mad(_3740, float(_4205 == 2u), dp2_f32(float2(float(_4205 == 1u), float(_4205 == 0u)), _4215)))));
                                            uint _4226 = uint(_4202 + 1);
                                            uint _4228 = uint(_4202 + 2);
                                            float _4248 = mad(_3724, float(_4226 == 5u), mad(_3724, float(_4226 == 4u), mad(_3722, float(_4226 == 3u), mad(_3740, float(_4226 == 2u), dp2_f32(float2(float(_4226 == 1u), float(_4226 == 0u)), _4215)))));
                                            float2 _4268 = float2(_4224, _4248);
                                            _4360 = dp3_f32(float3(_4204 * _4204, _4204, 1.0f), float3(dp3_f32(float3(_4224, mad(_3724, float(_4228 == 5u), mad(_3724, float(_4228 == 4u), mad(_3722, float(_4228 == 3u), mad(_3740, float(_4228 == 2u), dp2_f32(float2(float(_4228 == 1u), float(_4228 == 0u)), _4215))))), _4248), float3(0.5f, 0.5f, -1.0f)), dp2_f32(_4268, float2(-1.0f, 1.0f)), dp2_f32(_4268, 0.5f.xx)));
                                        }
                                        else
                                        {
                                            float _4275 = _4002 * 0.3010300099849700927734375f;
                                            float _4359;
                                            if ((_4186 >= _4192) && (_4186 < _4275))
                                            {
                                                float _4284 = ((_4186 - _4192) * 3.0f) / (_4275 - _4192);
                                                int _4285 = cvt_f32_i32(_4284);
                                                float _4287 = _4284 - trunc(_4284);
                                                uint _4288 = uint(_4285);
                                                float _4307 = mad(_3691, float(_4288 == 5u), mad(_3691, float(_4288 == 4u), mad(_3691, float(_4288 == 3u), mad(_3749, float(_4288 == 2u), (_3747 * float(_4288 == 1u)) + (_3745 * float(_4288 == 0u))))));
                                                uint _4309 = uint(_4285 + 1);
                                                uint _4311 = uint(_4285 + 2);
                                                float _4332 = mad(_3691, float(_4309 == 5u), mad(_3691, float(_4309 == 4u), mad(_3691, float(_4309 == 3u), mad(_3749, float(_4309 == 2u), (_3747 * float(_4309 == 1u)) + (_3745 * float(_4309 == 0u))))));
                                                float2 _4353 = float2(_4307, _4332);
                                                _4359 = dp3_f32(float3(_4287 * _4287, _4287, 1.0f), float3(dp3_f32(float3(_4307, mad(_3691, float(_4311 == 5u), mad(_3691, float(_4311 == 4u), mad(_3691, float(_4311 == 3u), mad(_3749, float(_4311 == 2u), (_3747 * float(_4311 == 1u)) + (_3745 * float(_4311 == 0u)))))), _4332), float3(0.5f, 0.5f, -1.0f)), dp2_f32(_4353, float2(-1.0f, 1.0f)), dp2_f32(_4353, 0.5f.xx)));
                                            }
                                            else
                                            {
                                                _4359 = _3691;
                                            }
                                            _4360 = _4359;
                                        }
                                        _4361 = _4360;
                                    }
                                    float _4366 = log2(max(dp3_f32(float3(0.010889154858887195587158203125f, 0.9869632720947265625f, 0.0021475818939507007598876953125f), _4180), 6.1035199905745685100555419921875e-05f)) * 0.3010300099849700927734375f;
                                    float _4541;
                                    if (_4163 >= _4366)
                                    {
                                        _4541 = _3690;
                                    }
                                    else
                                    {
                                        float _4372 = _4000 * 0.3010300099849700927734375f;
                                        float _4540;
                                        if ((_4163 < _4366) && (_4366 < _4372))
                                        {
                                            float _4381 = ((_4366 - _4163) * 3.0f) / (_4372 - _4163);
                                            int _4382 = cvt_f32_i32(_4381);
                                            float _4384 = _4381 - trunc(_4381);
                                            uint _4385 = uint(_4382);
                                            float2 _4395 = _3690.xx;
                                            float _4404 = mad(_3724, float(_4385 == 5u), mad(_3724, float(_4385 == 4u), mad(_3722, float(_4385 == 3u), mad(_3740, float(_4385 == 2u), dp2_f32(float2(float(_4385 == 1u), float(_4385 == 0u)), _4395)))));
                                            uint _4406 = uint(_4382 + 1);
                                            uint _4408 = uint(_4382 + 2);
                                            float _4428 = mad(_3724, float(_4406 == 5u), mad(_3724, float(_4406 == 4u), mad(_3722, float(_4406 == 3u), mad(_3740, float(_4406 == 2u), dp2_f32(float2(float(_4406 == 1u), float(_4406 == 0u)), _4395)))));
                                            float2 _4448 = float2(_4404, _4428);
                                            _4540 = dp3_f32(float3(_4384 * _4384, _4384, 1.0f), float3(dp3_f32(float3(_4404, mad(_3724, float(_4408 == 5u), mad(_3724, float(_4408 == 4u), mad(_3722, float(_4408 == 3u), mad(_3740, float(_4408 == 2u), dp2_f32(float2(float(_4408 == 1u), float(_4408 == 0u)), _4395))))), _4428), float3(0.5f, 0.5f, -1.0f)), dp2_f32(_4448, float2(-1.0f, 1.0f)), dp2_f32(_4448, 0.5f.xx)));
                                        }
                                        else
                                        {
                                            float _4455 = _4002 * 0.3010300099849700927734375f;
                                            float _4539;
                                            if ((_4366 >= _4372) && (_4366 < _4455))
                                            {
                                                float _4464 = ((_4366 - _4372) * 3.0f) / (_4455 - _4372);
                                                int _4465 = cvt_f32_i32(_4464);
                                                float _4467 = _4464 - trunc(_4464);
                                                uint _4468 = uint(_4465);
                                                float _4487 = mad(_3691, float(_4468 == 5u), mad(_3691, float(_4468 == 4u), mad(_3691, float(_4468 == 3u), mad(_3749, float(_4468 == 2u), (_3747 * float(_4468 == 1u)) + (_3745 * float(_4468 == 0u))))));
                                                uint _4489 = uint(_4465 + 1);
                                                uint _4491 = uint(_4465 + 2);
                                                float _4512 = mad(_3691, float(_4489 == 5u), mad(_3691, float(_4489 == 4u), mad(_3691, float(_4489 == 3u), mad(_3749, float(_4489 == 2u), (_3747 * float(_4489 == 1u)) + (_3745 * float(_4489 == 0u))))));
                                                float2 _4533 = float2(_4487, _4512);
                                                _4539 = dp3_f32(float3(_4467 * _4467, _4467, 1.0f), float3(dp3_f32(float3(_4487, mad(_3691, float(_4491 == 5u), mad(_3691, float(_4491 == 4u), mad(_3691, float(_4491 == 3u), mad(_3749, float(_4491 == 2u), (_3747 * float(_4491 == 1u)) + (_3745 * float(_4491 == 0u)))))), _4512), float3(0.5f, 0.5f, -1.0f)), dp2_f32(_4533, float2(-1.0f, 1.0f)), dp2_f32(_4533, 0.5f.xx)));
                                            }
                                            else
                                            {
                                                _4539 = _3691;
                                            }
                                            _4540 = _4539;
                                        }
                                        _4541 = _4540;
                                    }
                                    float _4546 = log2(max(dp3_f32(float3(0.010889154858887195587158203125f, 0.02696328423917293548583984375f, 0.962147533893585205078125f), _4180), 6.1035199905745685100555419921875e-05f)) * 0.3010300099849700927734375f;
                                    float _4721;
                                    if (!(_4163 >= _4546))
                                    {
                                        float _4552 = _4000 * 0.3010300099849700927734375f;
                                        float _4720;
                                        if ((_4163 < _4546) && (_4546 < _4552))
                                        {
                                            float _4561 = ((_4546 - _4163) * 3.0f) / (_4552 - _4163);
                                            int _4562 = cvt_f32_i32(_4561);
                                            float _4564 = _4561 - trunc(_4561);
                                            uint _4565 = uint(_4562);
                                            float2 _4575 = _3690.xx;
                                            float _4584 = mad(_3724, float(_4565 == 5u), mad(_3724, float(_4565 == 4u), mad(_3722, float(_4565 == 3u), mad(_3740, float(_4565 == 2u), dp2_f32(float2(float(_4565 == 1u), float(_4565 == 0u)), _4575)))));
                                            uint _4586 = uint(_4562 + 1);
                                            uint _4588 = uint(_4562 + 2);
                                            float _4608 = mad(_3724, float(_4586 == 5u), mad(_3724, float(_4586 == 4u), mad(_3722, float(_4586 == 3u), mad(_3740, float(_4586 == 2u), dp2_f32(float2(float(_4586 == 1u), float(_4586 == 0u)), _4575)))));
                                            float2 _4628 = float2(_4584, _4608);
                                            _4720 = dp3_f32(float3(_4564 * _4564, _4564, 1.0f), float3(dp3_f32(float3(_4584, mad(_3724, float(_4588 == 5u), mad(_3724, float(_4588 == 4u), mad(_3722, float(_4588 == 3u), mad(_3740, float(_4588 == 2u), dp2_f32(float2(float(_4588 == 1u), float(_4588 == 0u)), _4575))))), _4608), float3(0.5f, 0.5f, -1.0f)), dp2_f32(_4628, float2(-1.0f, 1.0f)), dp2_f32(_4628, 0.5f.xx)));
                                        }
                                        else
                                        {
                                            float _4635 = _4002 * 0.3010300099849700927734375f;
                                            float _4719;
                                            if ((_4546 >= _4552) && (_4546 < _4635))
                                            {
                                                float _4644 = ((_4546 - _4552) * 3.0f) / (_4635 - _4552);
                                                int _4645 = cvt_f32_i32(_4644);
                                                float _4647 = _4644 - trunc(_4644);
                                                uint _4648 = uint(_4645);
                                                float _4667 = mad(_3691, float(_4648 == 5u), mad(_3691, float(_4648 == 4u), mad(_3691, float(_4648 == 3u), mad(_3749, float(_4648 == 2u), (_3747 * float(_4648 == 1u)) + (_3745 * float(_4648 == 0u))))));
                                                uint _4669 = uint(_4645 + 1);
                                                uint _4671 = uint(_4645 + 2);
                                                float _4692 = mad(_3691, float(_4669 == 5u), mad(_3691, float(_4669 == 4u), mad(_3691, float(_4669 == 3u), mad(_3749, float(_4669 == 2u), (_3747 * float(_4669 == 1u)) + (_3745 * float(_4669 == 0u))))));
                                                float2 _4713 = float2(_4667, _4692);
                                                _4719 = dp3_f32(float3(_4647 * _4647, _4647, 1.0f), float3(dp3_f32(float3(_4667, mad(_3691, float(_4671 == 5u), mad(_3691, float(_4671 == 4u), mad(_3691, float(_4671 == 3u), mad(_3749, float(_4671 == 2u), (_3747 * float(_4671 == 1u)) + (_3745 * float(_4671 == 0u)))))), _4692), float3(0.5f, 0.5f, -1.0f)), dp2_f32(_4713, float2(-1.0f, 1.0f)), dp2_f32(_4713, 0.5f.xx)));
                                            }
                                            else
                                            {
                                                _4719 = _3691;
                                            }
                                            _4720 = _4719;
                                        }
                                        _4721 = _4720;
                                    }
                                    else
                                    {
                                        _4721 = _3690;
                                    }
                                    float3 _4725 = float3(exp2(_4361 * 3.3219280242919921875f), exp2(_4541 * 3.3219280242919921875f), exp2(_4721 * 3.3219280242919921875f));
                                    float _4740 = exp2(log2(dp3_f32(float3(_631, _630, _629), _4725) * 9.9999997473787516355514526367188e-05f) * 0.1593017578125f);
                                    float _4741 = exp2(log2(dp3_f32(float3(_628, _627, _626), _4725) * 9.9999997473787516355514526367188e-05f) * 0.1593017578125f);
                                    float _4742 = exp2(log2(dp3_f32(float3(_625, _624, _623), _4725) * 9.9999997473787516355514526367188e-05f) * 0.1593017578125f);
                                    _4787 = exp2(log2((1.0f / mad(_4742, 18.6875f, 1.0f)) * mad(_4742, 18.8515625f, 0.8359375f)) * 78.84375f);
                                    _4788 = exp2(log2((1.0f / mad(_4741, 18.6875f, 1.0f)) * mad(_4741, 18.8515625f, 0.8359375f)) * 78.84375f);
                                    _4789 = exp2(log2(mad(_4740, 18.8515625f, 0.8359375f) * (1.0f / mad(_4740, 18.6875f, 1.0f))) * 78.84375f);
                                }
                                else
                                {
                                    float3 _4764 = float3(_1936, _1937, _1938);
                                    float3 _4769 = float3(dp3_f32(float3(0.61319148540496826171875f, 0.3395120799541473388671875f, 0.0473663322627544403076171875f), _4764), dp3_f32(float3(0.070206902921199798583984375f, 0.9163358211517333984375f, 0.01345001161098480224609375f), _4764), dp3_f32(float3(0.02061887085437774658203125f, 0.109567292034626007080078125f, 0.8696067333221435546875f), _4764));
                                    float _4780 = asfloat(CB0_m[27u].z);
                                    _4787 = exp2(log2(dp3_f32(float3(_625, _624, _623), _4769)) * _4780);
                                    _4788 = exp2(log2(dp3_f32(float3(_628, _627, _626), _4769)) * _4780);
                                    _4789 = exp2(log2(dp3_f32(float3(_631, _630, _629), _4769)) * _4780);
                                }
                                _4790 = _4787;
                                _4791 = _4788;
                                _4792 = _4789;
                            }
                            _4793 = _4790;
                            _4794 = _4791;
                            _4795 = _4792;
                        }
                        else
                        {
                            _4793 = _2023;
                            _4794 = _2022;
                            _4795 = _2021;
                        }
                        _4796 = _4793;
                        _4797 = _4794;
                        _4798 = _4795;
                    }
                    _4799 = _4796;
                    _4800 = _4797;
                    _4801 = _4798;
                }
                _4802 = _4799;
                _4803 = _4800;
                _4804 = _4801;
            }
            _4805 = _4802;
            _4806 = _4803;
            _4807 = _4804;
        }
        _4808 = _4805;
        _4809 = _4806;
        _4810 = _4807;
    }
    SV_Target.x = _4810 * 0.95238101482391357421875f;
    SV_Target.y = _4809 * 0.95238101482391357421875f;
    SV_Target.z = _4808 * 0.95238101482391357421875f;
    SV_Target.w = 0.0f;

    SV_Target = saturate(SV_Target);
}

SPIRV_Cross_Output main(SPIRV_Cross_Input stage_input)
{
    gl_Layer = stage_input.gl_Layer;
    TEXCOORD = stage_input.TEXCOORD;
    frag_main();
    SPIRV_Cross_Output stage_output;
    stage_output.SV_Target = SV_Target;
    return stage_output;
}
