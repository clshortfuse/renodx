cbuffer SceneInfoUBO : register(b0, space0)
{
    float4 SceneInfo_m0[39] : packoffset(c0);
};

cbuffer HDRMappingUBO : register(b1, space0)
{
    float4 HDRMapping_m0[15] : packoffset(c0);
};

cbuffer GUIConstantUBO : register(b2, space0)
{
    float4 GUIConstant_m0[18] : packoffset(c0);
};

Texture2D<float4> GUIImage : register(t0, space0);
RWTexture2D<float4> RWResult : register(u0, space0);
SamplerState PointClamp : register(s1, space32);

static uint3 gl_WorkGroupID;
static uint3 gl_LocalInvocationID;
struct SPIRV_Cross_Input
{
    uint3 gl_WorkGroupID : SV_GroupID;
    uint3 gl_LocalInvocationID : SV_GroupThreadID;
};

void comp_main()
{
    uint _48 = uint(gl_LocalInvocationID.x);
    uint _51 = _48 >> 1u;
    uint _55 = _48 >> 2u;
    uint _59 = _48 >> 3u;
    uint _70 = ((((_48 & 1u) | (uint(gl_WorkGroupID.x) << 4u)) | (_51 & 2u)) | (_55 & 4u)) | (_59 & 8u);
    uint _75 = ((((_51 & 1u) | (uint(gl_WorkGroupID.y) << 4u)) | (_55 & 2u)) | (_59 & 4u)) | ((_48 >> 4u) & 8u);
    float4 _94 = GUIImage.SampleLevel(PointClamp, float2((float(_70) + 0.5f) * SceneInfo_m0[23u].z, (float(_75) + 0.5f) * SceneInfo_m0[23u].w), 0.0f);
    float _100 = _94.w;
    float _105 = 1.0f / _100;
    float _111 = clamp(_94.x * _105, 0.0f, 1.0f);
    float _112 = clamp(_94.y * _105, 0.0f, 1.0f);
    float _113 = clamp(_94.z * _105, 0.0f, 1.0f);
    float _155 = (exp2(log2((_111 + 0.054999999701976776123046875f) * 0.947867333889007568359375f) * 2.400000095367431640625f) * float(_111 > 0.040449999272823333740234375f)) + ((_111 * 0.077399380505084991455078125f) * float(_111 <= 0.040449999272823333740234375f));
    float _156 = (exp2(log2((_112 + 0.054999999701976776123046875f) * 0.947867333889007568359375f) * 2.400000095367431640625f) * float(_112 > 0.040449999272823333740234375f)) + ((_112 * 0.077399380505084991455078125f) * float(_112 <= 0.040449999272823333740234375f));
    float _157 = (exp2(log2((_113 + 0.054999999701976776123046875f) * 0.947867333889007568359375f) * 2.400000095367431640625f) * float(_113 > 0.040449999272823333740234375f)) + ((_113 * 0.077399380505084991455078125f) * float(_113 <= 0.040449999272823333740234375f));
    if (!((_100 + (-0.0030000000260770320892333984375f)) < 0.0f))
    {
        float _175;
        float _176;
        float _177;
        if (_100 > 0.0f)
        {
            float _171 = 1.0f / ((float((asuint(GUIConstant_m0[15u]).w >> 8u) & 1u) * (1.0f - _100)) + _100);
            _175 = _171 * _155;
            _176 = _171 * _156;
            _177 = _171 * _157;
        }
        else
        {
            _175 = _155;
            _176 = _156;
            _177 = _157;
        }
        bool _180 = max(max(_175, _176), _177) == 0.0f;
        bool _181 = _100 == 0.0f;
        if (!(_181 && _180))
        {
            float _189;
            float _191;
            float _193;
            if (asuint(HDRMapping_m0[14u]).y == 0u)
            {
                _189 = _175;
                _191 = _176;
                _193 = _177;
            }
            else
            {
                float _222 = exp2(log2(mad(0.0810546875f, _177, mad(0.623046875f, _176, _175 * 0.295654296875f)) * 0.00999999977648258209228515625f) * 0.1593017578125f);
                float _235 = clamp(exp2(log2(((_222 * 18.8515625f) + 0.8359375f) / ((_222 * 18.6875f) + 1.0f)) * 78.84375f), 0.0f, 1.0f);
                float _239 = exp2(log2(mad(0.116455078125f, _177, mad(0.727294921875f, _176, _175 * 0.15625f)) * 0.00999999977648258209228515625f) * 0.1593017578125f);
                float _248 = clamp(exp2(log2(((_239 * 18.8515625f) + 0.8359375f) / ((_239 * 18.6875f) + 1.0f)) * 78.84375f), 0.0f, 1.0f);
                float _252 = exp2(log2(mad(0.808349609375f, _177, mad(0.156494140625f, _176, _175 * 0.03515625f)) * 0.00999999977648258209228515625f) * 0.1593017578125f);
                float _261 = clamp(exp2(log2(((_252 * 18.8515625f) + 0.8359375f) / ((_252 * 18.6875f) + 1.0f)) * 78.84375f), 0.0f, 1.0f);
                float _263 = (_248 + _235) * 0.5f;
                float _284 = exp2(log2(clamp(_263, 0.0f, 1.0f)) * 0.0126833133399486541748046875f);
                float _295 = exp2(log2(max(0.0f, _284 + (-0.8359375f)) / (18.8515625f - (_284 * 18.6875f))) * 6.277394771575927734375f) * 100.0f;
                float _310 = exp2(log2(((HDRMapping_m0[14u].z * 0.00999999977648258209228515625f) * _295) * ((((HDRMapping_m0[14u].z + (-1.0f)) * _100) * _295) + 1.0f)) * 0.1593017578125f);
                float _319 = clamp(exp2(log2(((_310 * 18.8515625f) + 0.8359375f) / ((_310 * 18.6875f) + 1.0f)) * 78.84375f), 0.0f, 1.0f);
                float _322 = min(_263 / _319, _319 / _263);
                float _323 = ((dot(float3(_235, _248, _261), float3(6610.0f, -13613.0f, 7003.0f)) * 0.000244140625f) * HDRMapping_m0[14u].w) * _322;
                float _324 = ((dot(float3(_235, _248, _261), float3(17933.0f, -17390.0f, -543.0f)) * 0.000244140625f) * HDRMapping_m0[14u].w) * _322;
                float _340 = exp2(log2(clamp(mad(0.111000001430511474609375f, _324, mad(0.0089999996125698089599609375f, _323, _319)), 0.0f, 1.0f)) * 0.0126833133399486541748046875f);
                float _348 = exp2(log2(max(0.0f, _340 + (-0.8359375f)) / (18.8515625f - (_340 * 18.6875f))) * 6.277394771575927734375f);
                float _352 = exp2(log2(clamp(mad(-0.111000001430511474609375f, _324, mad(-0.0089999996125698089599609375f, _323, _319)), 0.0f, 1.0f)) * 0.0126833133399486541748046875f);
                float _361 = exp2(log2(max(0.0f, _352 + (-0.8359375f)) / (18.8515625f - (_352 * 18.6875f))) * 6.277394771575927734375f) * 100.0f;
                float _365 = exp2(log2(clamp(mad(-0.3210000097751617431640625f, _324, mad(0.560000002384185791015625f, _323, _319)), 0.0f, 1.0f)) * 0.0126833133399486541748046875f);
                float _374 = exp2(log2(max(0.0f, _365 + (-0.8359375f)) / (18.8515625f - (_365 * 18.6875f))) * 6.277394771575927734375f) * 100.0f;
                float _379 = mad(0.20700000226497650146484375f, _374, mad(-1.32700002193450927734375f, _361, _348 * 207.100006103515625f));
                float _385 = mad(-0.04500000178813934326171875f, _374, mad(0.6809999942779541015625f, _361, _348 * 36.5f));
                float _391 = mad(1.1879999637603759765625f, _374, mad(-0.0500000007450580596923828125f, _361, _348 * (-4.900000095367431640625f)));
                _189 = mad(-0.498610794544219970703125f, _391, mad(-1.53738319873809814453125f, _385, _379 * 3.2409698963165283203125f));
                _191 = mad(0.0415550954639911651611328125f, _391, mad(1.8759677410125732421875f, _385, _379 * (-0.969243705272674560546875f)));
                _193 = mad(1.05697143077850341796875f, _391, mad(-0.2039768397808074951171875f, _385, _379 * 0.0556300692260265350341796875f));
            }
            float _506;
            float _510;
            float _514;
            if (_100 == 1.0f)
            {
                float _416 = mad(0.043313600122928619384765625f, _193, mad(0.329281985759735107421875f, _191, _189 * 0.6274039745330810546875f));
                float _422 = mad(0.0113612003624439239501953125f, _193, mad(0.919539988040924072265625f, _191, _189 * 0.06909699738025665283203125f));
                float _428 = mad(0.895595014095306396484375f, _193, mad(0.0880132019519805908203125f, _191, _189 * 0.01639159955084323883056640625f));
                float _455 = 10000.0f / HDRMapping_m0[10u].y;
                float _465 = exp2(log2(clamp(exp2(log2((HDRMapping_m0[8u].y * (_189 - _416)) + _416) * HDRMapping_m0[7u].y) / _455, 0.0f, 1.0f)) * 0.1593017578125f);
                float _474 = clamp(exp2(log2(((_465 * 18.8515625f) + 0.8359375f) / ((_465 * 18.6875f) + 1.0f)) * 78.84375f), 0.0f, 1.0f);
                float _477 = exp2(log2(clamp(exp2(log2((HDRMapping_m0[8u].y * (_191 - _422)) + _422) * HDRMapping_m0[7u].y) / _455, 0.0f, 1.0f)) * 0.1593017578125f);
                float _486 = clamp(exp2(log2(((_477 * 18.8515625f) + 0.8359375f) / ((_477 * 18.6875f) + 1.0f)) * 78.84375f), 0.0f, 1.0f);
                float _489 = exp2(log2(clamp(exp2(log2((HDRMapping_m0[8u].y * (_193 - _428)) + _428) * HDRMapping_m0[7u].y) / _455, 0.0f, 1.0f)) * 0.1593017578125f);
                float _498 = clamp(exp2(log2(((_489 * 18.8515625f) + 0.8359375f) / ((_489 * 18.6875f) + 1.0f)) * 78.84375f), 0.0f, 1.0f);
                float frontier_phi_10_8_ladder;
                float frontier_phi_10_8_ladder_1;
                float frontier_phi_10_8_ladder_2;
                if ((asuint(HDRMapping_m0[7u]).x & 2u) == 0u)
                {
                    frontier_phi_10_8_ladder = _474;
                    frontier_phi_10_8_ladder_1 = _486;
                    frontier_phi_10_8_ladder_2 = _498;
                }
                else
                {
                    float _532 = exp2(log2(clamp(HDRMapping_m0[0u].z * 9.9999997473787516355514526367188e-05f, 0.0f, 1.0f)) * 0.1593017578125f);
                    float _541 = clamp(exp2(log2(((_532 * 18.8515625f) + 0.8359375f) / ((_532 * 18.6875f) + 1.0f)) * 78.84375f), 0.0f, 1.0f);
                    float _547 = exp2(log2(clamp(HDRMapping_m0[0u].w * 9.9999997473787516355514526367188e-05f, 0.0f, 1.0f)) * 0.1593017578125f);
                    float _557 = _541 - clamp(exp2(log2(((_547 * 18.8515625f) + 0.8359375f) / ((_547 * 18.6875f) + 1.0f)) * 78.84375f), 0.0f, 1.0f);
                    float _561 = clamp(_474 / _541, 0.0f, 1.0f);
                    float _562 = clamp(_486 / _541, 0.0f, 1.0f);
                    float _563 = clamp(_498 / _541, 0.0f, 1.0f);
                    frontier_phi_10_8_ladder = min((((2.0f - (_561 + _561)) * _557) + (_561 * _541)) * _561, _474);
                    frontier_phi_10_8_ladder_1 = min((((2.0f - (_562 + _562)) * _557) + (_562 * _541)) * _562, _486);
                    frontier_phi_10_8_ladder_2 = min((((2.0f - (_563 + _563)) * _557) + (_563 * _541)) * _563, _498);
                }
                _506 = frontier_phi_10_8_ladder;
                _510 = frontier_phi_10_8_ladder_1;
                _514 = frontier_phi_10_8_ladder_2;
            }
            else
            {
                bool _584;
                if (_181)
                {
                    _584 = !_180;
                }
                else
                {
                    _584 = false;
                }
                float4 _589 = RWResult[uint2(uint(_70), uint(_75))].xxxx;
                float _603 = exp2(log2(clamp(_589.x, 0.0f, 1.0f)) * 0.0126833133399486541748046875f);
                float _604 = exp2(log2(clamp(_589.y, 0.0f, 1.0f)) * 0.0126833133399486541748046875f);
                float _605 = exp2(log2(clamp(_589.z, 0.0f, 1.0f)) * 0.0126833133399486541748046875f);
                float _633 = 10000.0f / HDRMapping_m0[10u].y;
                float _634 = _633 * exp2(log2(max(0.0f, _603 + (-0.8359375f)) / (18.8515625f - (_603 * 18.6875f))) * 6.277394771575927734375f);
                float _635 = _633 * exp2(log2(max(0.0f, _604 + (-0.8359375f)) / (18.8515625f - (_604 * 18.6875f))) * 6.277394771575927734375f);
                float _636 = _633 * exp2(log2(max(0.0f, _605 + (-0.8359375f)) / (18.8515625f - (_605 * 18.6875f))) * 6.277394771575927734375f);
                float _641 = mad(-0.07285170257091522216796875f, _636, mad(-0.587639987468719482421875f, _635, _634 * 1.66049098968505859375f));
                float _647 = mad(-0.008348000235855579376220703125f, _636, mad(1.1328999996185302734375f, _635, _634 * (-0.12454999983310699462890625f)));
                float _653 = mad(1.11872994899749755859375f, _636, mad(-0.100579001009464263916015625f, _635, _634 * (-0.01815100014209747314453125f)));
                float _655;
                float _657;
                float _659;
                if (_584)
                {
                    _655 = _189;
                    _657 = _191;
                    _659 = _193;
                }
                else
                {
                    _655 = (_189 - _641) * _100;
                    _657 = (_191 - _647) * _100;
                    _659 = (_193 - _653) * _100;
                }
                float _661 = _655 + _641;
                float _662 = _657 + _647;
                float _663 = _659 + _653;
                float _666 = mad(0.043313600122928619384765625f, _663, mad(0.329281985759735107421875f, _662, _661 * 0.6274039745330810546875f));
                float _669 = mad(0.0113612003624439239501953125f, _663, mad(0.919539988040924072265625f, _662, _661 * 0.06909699738025665283203125f));
                float _672 = mad(0.895595014095306396484375f, _663, mad(0.0880132019519805908203125f, _662, _661 * 0.01639159955084323883056640625f));
                float _705 = exp2(log2(clamp(exp2(log2((HDRMapping_m0[8u].y * (_661 - _666)) + _666) * HDRMapping_m0[7u].y) / _633, 0.0f, 1.0f)) * 0.1593017578125f);
                float _509 = clamp(exp2(log2(((_705 * 18.8515625f) + 0.8359375f) / ((_705 * 18.6875f) + 1.0f)) * 78.84375f), 0.0f, 1.0f);
                float _716 = exp2(log2(clamp(exp2(log2((HDRMapping_m0[8u].y * (_662 - _669)) + _669) * HDRMapping_m0[7u].y) / _633, 0.0f, 1.0f)) * 0.1593017578125f);
                float _513 = clamp(exp2(log2(((_716 * 18.8515625f) + 0.8359375f) / ((_716 * 18.6875f) + 1.0f)) * 78.84375f), 0.0f, 1.0f);
                float _727 = exp2(log2(clamp(exp2(log2((HDRMapping_m0[8u].y * (_663 - _672)) + _672) * HDRMapping_m0[7u].y) / _633, 0.0f, 1.0f)) * 0.1593017578125f);
                float _517 = clamp(exp2(log2(((_727 * 18.8515625f) + 0.8359375f) / ((_727 * 18.6875f) + 1.0f)) * 78.84375f), 0.0f, 1.0f);
                float frontier_phi_10_14_ladder;
                float frontier_phi_10_14_ladder_1;
                float frontier_phi_10_14_ladder_2;
                if ((asuint(HDRMapping_m0[7u]).x & 2u) == 0u)
                {
                    frontier_phi_10_14_ladder = _509;
                    frontier_phi_10_14_ladder_1 = _513;
                    frontier_phi_10_14_ladder_2 = _517;
                }
                else
                {
                    float _752 = exp2(log2(clamp(HDRMapping_m0[0u].z * 9.9999997473787516355514526367188e-05f, 0.0f, 1.0f)) * 0.1593017578125f);
                    float _761 = clamp(exp2(log2(((_752 * 18.8515625f) + 0.8359375f) / ((_752 * 18.6875f) + 1.0f)) * 78.84375f), 0.0f, 1.0f);
                    float _767 = exp2(log2(clamp(HDRMapping_m0[0u].w * 9.9999997473787516355514526367188e-05f, 0.0f, 1.0f)) * 0.1593017578125f);
                    float _777 = _761 - clamp(exp2(log2(((_767 * 18.8515625f) + 0.8359375f) / ((_767 * 18.6875f) + 1.0f)) * 78.84375f), 0.0f, 1.0f);
                    float _781 = clamp(_509 / _761, 0.0f, 1.0f);
                    float _782 = clamp(_513 / _761, 0.0f, 1.0f);
                    float _783 = clamp(_517 / _761, 0.0f, 1.0f);
                    frontier_phi_10_14_ladder = min((((2.0f - (_781 + _781)) * _777) + (_781 * _761)) * _781, _509);
                    frontier_phi_10_14_ladder_1 = min((((2.0f - (_782 + _782)) * _777) + (_782 * _761)) * _782, _513);
                    frontier_phi_10_14_ladder_2 = min((((2.0f - (_783 + _783)) * _777) + (_783 * _761)) * _783, _517);
                }
                _506 = frontier_phi_10_14_ladder;
                _510 = frontier_phi_10_14_ladder_1;
                _514 = frontier_phi_10_14_ladder_2;
            }
            RWResult[uint2(uint(_70), uint(_75))] = float4(_506, _510, _514, _94.a);
        }
    }
}

[numthreads(256, 1, 1)]
void main(SPIRV_Cross_Input stage_input)
{
    gl_WorkGroupID = stage_input.gl_WorkGroupID;
    gl_LocalInvocationID = stage_input.gl_LocalInvocationID;
    comp_main();
}
