#include "../common.hlsl"
struct _476
{
    uint2 _m0;
    uint _m1;
};

static const float _3096[30] = { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f };
static const float _66[10][30] = { { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f }, { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f }, { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f }, { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f }, { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f }, { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f }, { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f }, { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f }, { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f }, { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f } };
static const float _71[1] = { 0.0f };
static const float4 _390[11] = { float4(1.0f, 0.0f, 0.0f, 0.0f), float4(0.0f, 1.0f, 0.0f, 0.0f), float4(0.0f, 0.0f, 1.0f, 0.0f), float4(0.0f, 0.0f, 0.0f, 1.0f), float4(-4.0f, -0.718548238277435302734375f, 0.0f, 0.0f), float4(-4.0f, 2.0810306072235107421875f, 0.0f, 0.0f), float4(-3.1573765277862548828125f, 3.66812419891357421875f, 0.0f, 0.0f), float4(-0.485249996185302734375f, 4.0f, 0.0f, 0.0f), float4(1.84773242473602294921875f, 4.0f, 0.0f, 0.0f), float4(1.84773242473602294921875f, 4.0f, 0.0f, 0.0f), 0.0f.xxxx };

cbuffer cb0_buf : register(b0)
{
    uint4 cb0_m[44] : packoffset(c0);
};

cbuffer cb1_buf : register(b1)
{
    float4 cb1_m[4096] : packoffset(c0);
};

cbuffer cb2_buf : register(b2)
{
    float4 cb2_m[20] : packoffset(c0);
};

SamplerState s0 : register(s0);
SamplerState s1 : register(s1);
SamplerState s2 : register(s2);
SamplerState s3 : register(s3);
SamplerState s4 : register(s4);
SamplerState s5 : register(s5);
SamplerState s6 : register(s6);
SamplerState s7 : register(s7);
SamplerState s8 : register(s8);
Buffer<float4> t0 : register(t0);
Texture2D<float4> t1 : register(t1);
Texture2D<float4> t2 : register(t2);
Texture2D<float4> t3 : register(t3);
Texture2D<float4> t4 : register(t4);
Texture2D<float4> t5 : register(t5);
Texture2D<float4> t6 : register(t6);
Texture2D<float4> t7 : register(t7);
Texture2D<float4> t8 : register(t8);
Texture2D<float4> t9 : register(t9);
Texture2D<float4> t10 : register(t10);
Buffer<float4> t11 : register(t11);
Buffer<float4> t12 : register(t12);
RWTexture2D<float4> u0 : register(u0);
RWTexture2D<float4> u1 : register(u1);
RWTexture2D<float4> u2 : register(u2);
RWTexture2D<float4> u3 : register(u3);

static uint3 gl_LocalInvocationID;
static uint3 gl_GlobalInvocationID;
struct SPIRV_Cross_Input
{
    uint3 gl_LocalInvocationID : SV_GroupThreadID;
    uint3 gl_GlobalInvocationID : SV_DispatchThreadID;
};

groupshared float g0[10][30];
groupshared float g1[1];

uint2 spvImageSize(RWTexture2D<float4> Tex, out uint Param)
{
    uint2 ret;
    Tex.GetDimensions(ret.x, ret.y);
    Param = 0u;
    return ret;
}

uint spvBitfieldInsert(uint Base, uint Insert, uint Offset, uint Count)
{
    uint Mask = Count == 32 ? 0xffffffff : (((1u << Count) - 1) << (Offset & 31));
    return (Base & ~Mask) | ((Insert << Offset) & Mask);
}

uint2 spvBitfieldInsert(uint2 Base, uint2 Insert, uint Offset, uint Count)
{
    uint Mask = Count == 32 ? 0xffffffff : (((1u << Count) - 1) << (Offset & 31));
    return (Base & ~Mask) | ((Insert << Offset) & Mask);
}

uint3 spvBitfieldInsert(uint3 Base, uint3 Insert, uint Offset, uint Count)
{
    uint Mask = Count == 32 ? 0xffffffff : (((1u << Count) - 1) << (Offset & 31));
    return (Base & ~Mask) | ((Insert << Offset) & Mask);
}

uint4 spvBitfieldInsert(uint4 Base, uint4 Insert, uint Offset, uint Count)
{
    uint Mask = Count == 32 ? 0xffffffff : (((1u << Count) - 1) << (Offset & 31));
    return (Base & ~Mask) | ((Insert << Offset) & Mask);
}

uint spvBitfieldUExtract(uint Base, uint Offset, uint Count)
{
    uint Mask = Count == 32 ? 0xffffffff : ((1 << Count) - 1);
    return (Base >> Offset) & Mask;
}

uint2 spvBitfieldUExtract(uint2 Base, uint Offset, uint Count)
{
    uint Mask = Count == 32 ? 0xffffffff : ((1 << Count) - 1);
    return (Base >> Offset) & Mask;
}

uint3 spvBitfieldUExtract(uint3 Base, uint Offset, uint Count)
{
    uint Mask = Count == 32 ? 0xffffffff : ((1 << Count) - 1);
    return (Base >> Offset) & Mask;
}

uint4 spvBitfieldUExtract(uint4 Base, uint Offset, uint Count)
{
    uint Mask = Count == 32 ? 0xffffffff : ((1 << Count) - 1);
    return (Base >> Offset) & Mask;
}

int spvBitfieldSExtract(int Base, int Offset, int Count)
{
    int Mask = Count == 32 ? -1 : ((1 << Count) - 1);
    int Masked = (Base >> Offset) & Mask;
    int ExtendShift = (32 - Count) & 31;
    return (Masked << ExtendShift) >> ExtendShift;
}

int2 spvBitfieldSExtract(int2 Base, int Offset, int Count)
{
    int Mask = Count == 32 ? -1 : ((1 << Count) - 1);
    int2 Masked = (Base >> Offset) & Mask;
    int ExtendShift = (32 - Count) & 31;
    return (Masked << ExtendShift) >> ExtendShift;
}

int3 spvBitfieldSExtract(int3 Base, int Offset, int Count)
{
    int Mask = Count == 32 ? -1 : ((1 << Count) - 1);
    int3 Masked = (Base >> Offset) & Mask;
    int ExtendShift = (32 - Count) & 31;
    return (Masked << ExtendShift) >> ExtendShift;
}

int4 spvBitfieldSExtract(int4 Base, int Offset, int Count)
{
    int Mask = Count == 32 ? -1 : ((1 << Count) - 1);
    int4 Masked = (Base >> Offset) & Mask;
    int ExtendShift = (32 - Count) & 31;
    return (Masked << ExtendShift) >> ExtendShift;
}

float dp2_f32(float2 a, float2 b)
{
    precise float _467 = a.x * b.x;
    return mad(a.y, b.y, _467);
}

float dp3_f32(float3 a, float3 b)
{
    precise float _453 = a.x * b.x;
    return mad(a.z, b.z, mad(a.y, b.y, _453));
}

float dp4_f32(float4 a, float4 b)
{
    precise float _435 = a.x * b.x;
    return mad(a.w, b.w, mad(a.z, b.z, mad(a.y, b.y, _435)));
}

int cvt_f32_i32(float v)
{
    return isnan(v) ? 0 : ((v < (-2147483648.0f)) ? int(0x80000000) : ((v > 2147483520.0f) ? 2147483647 : int(v)));
}

void comp_main()
{
    uint _475_dummy_parameter;
    _476 _477 = { spvImageSize(u0, _475_dummy_parameter), 1u };
    uint _489 = gl_GlobalInvocationID.x - gl_LocalInvocationID.x;
    uint _490 = gl_GlobalInvocationID.y - gl_LocalInvocationID.y;
    uint _492 = gl_LocalInvocationID.x + (gl_LocalInvocationID.y * 8u);
    uint _493 = spvBitfieldUExtract(_492, 1u, 3u);
    uint _495 = spvBitfieldInsert(spvBitfieldUExtract(gl_LocalInvocationID.y, 0u, 29u), _492, 0u, 1u);
    uint _496 = _489 + _493;
    uint _497 = _495 + _490;
    float _502 = float(_477._m0.x);
    float _503 = float(_477._m0.y);
    float _504 = (float(_496) + 0.5f) / _502;
    float _505 = (float(_497) + 0.5f) / _503;
    bool _508 = (_477._m0.x < _496) || (_477._m0.y < _497);
    bool _513 = cb2_m[3u].y == 1.0f;
    if (((gl_LocalInvocationID.x == 0u) && _513) && (gl_LocalInvocationID.y == 0u))
    {
        g1[0u] = t8.Load(int3(uint2(0u, 0u), 0u)).x;
    }
    GroupMemoryBarrierWithGroupSync();
    if (_492 < 36u)
    {
        bool _541 = _492 < 4u;
        bool _542 = _492 < 12u;
        bool _543 = _492 < 20u;
        bool _544 = _492 < 28u;
        uint _555 = _541 ? ((_492 >> 1u) * 9u) : (_542 ? 0u : (_543 ? 9u : (_544 ? (((_492 - 20u) & 7u) + 1u) : (((_492 - 28u) & 7u) + 1u))));
        uint _556 = _541 ? ((_492 & 1u) * 9u) : (_542 ? (((_492 - 4u) & 7u) + 1u) : (_543 ? (((_492 - 12u) & 7u) + 1u) : (_544 ? 0u : 9u)));
        float _557 = 1.0f / _502;
        float _558 = 1.0f / _503;
        float _577 = clamp((_557 * (float(int(_555 - 1u)) + 0.5f)) + (_557 * float(int(_489))), 0.0f, 1.0f);
        float _578 = clamp((float(int(_490)) * _558) + ((float(int(_556 - 1u)) + 0.5f) * _558), 0.0f, 1.0f);
        float2 _581 = float2(_577, _578);
        float _586 = mad(t6.SampleLevel(s5, _581, 0.0f).x, 2.0f, -1.0f);
        float _601;
        if (_586 > 0.0f)
        {
            _601 = min(sqrt(_586), t0.Load(8u).x);
        }
        else
        {
            _601 = max(_586, -t0.Load(7u).x);
        }
        float4 _605 = t5.SampleLevel(s4, _581, 0.0f);
        float2 _615 = float2(_605.x * cb2_m[2u].z, _605.y * cb2_m[2u].w);
        bool _627 = (cb2_m[7u].z != 0.0f) && (cb2_m[7u].w != 0.0f);
        bool _631 = (cb2_m[6u].w != 0.0f) && (cb2_m[7u].x != 0.0f);
        float _643 = exp2(max(_627 ? clamp((sqrt(dp2_f32(_615, _615)) - 2.0f) * 0.0555555559694766998291015625f, 0.0f, 1.0f) : 0.0f, _631 ? clamp((abs(_601) - 0.0471399985253810882568359375f) * 1.0494720935821533203125f, 0.0f, 1.0f) : 0.0f) * (-4.3280849456787109375f));
        float _645 = _577 - 0.5f;
        float _646 = _578 - 0.5f;
        float2 _647 = float2(_645, _646);
        float _651 = mad(dp2_f32(_647, _647), cb2_m[18u].x, 1.0f);
        float _673 = mad(exp2(log2(clamp(cb2_m[18u].x, 0.0f, 1.0f)) * 0.75f), -0.339999973773956298828125f, 1.0f) * mad(cb2_m[18u].y, -0.089999973773956298828125f, 1.0f);
        float _674 = (_651 * mad(mad(cb2_m[18u].z, -0.001999996602535247802734375f, 0.092000000178813934326171875f), cb2_m[18u].y, 1.0f)) * _673;
        float _675 = _673 * (_651 * mad(mad(cb2_m[18u].z, 0.04500000178813934326171875f, 0.046999998390674591064453125f), cb2_m[18u].y, 1.0f));
        float _676 = _673 * (_651 * mad(mad(cb2_m[18u].z, 0.0f, 0.04500000178813934326171875f), cb2_m[18u].y, 1.0f));
        float _677 = mad(_645, _674, 0.5f);
        float _678 = mad(_674, _646, 0.5f);
        float _679 = mad(_645, _675, 0.5f);
        float _680 = mad(_675, _646, 0.5f);
        float2 _683 = float2(_677, _678);
        float4 _685 = t1.SampleLevel(s0, _683, 0.0f);
        float _686 = _685.x;
        bool _687 = _631 || _627;
        float _721;
        if (_687)
        {
            float4 _693 = t2.SampleLevel(s1, _683, 0.0f);
            float _694 = _693.x;
            float _702 = asfloat(cb0_m[43u].w) * 20.0f;
            float _718 = mad(mad(t9.SampleLevel(s7, float2(mad(_677, 30.0f, sin(_702)), mad(_678, 30.0f, cos(_702))), 0.0f).x, 0.00999999977648258209228515625f, -0.004999999888241291046142578125f), sqrt(max(max(_694, max(_693.y, _693.z)), 1.0000000133514319600180897396058e-10f)), _694);
            _721 = mad(_643, _686 - _718, _718);
        }
        else
        {
            _721 = _686;
        }
        float2 _722 = float2(_679, _680);
        float4 _724 = t1.SampleLevel(s0, _722, 0.0f);
        float _725 = _724.y;
        float _758;
        if (_687)
        {
            float4 _731 = t2.SampleLevel(s1, _722, 0.0f);
            float _733 = _731.y;
            float _739 = asfloat(cb0_m[43u].w) * 20.0f;
            float _755 = mad(mad(t9.SampleLevel(s7, float2(mad(_679, 30.0f, sin(_739)), mad(_680, 30.0f, cos(_739))), 0.0f).x, 0.00999999977648258209228515625f, -0.004999999888241291046142578125f), sqrt(max(max(_731.x, max(_733, _731.z)), 1.0000000133514319600180897396058e-10f)), _733);
            _758 = mad(_643, _725 - _755, _755);
        }
        else
        {
            _758 = _725;
        }
        float _759 = mad(_645, _676, 0.5f);
        float _760 = mad(_676, _646, 0.5f);
        float2 _761 = float2(_759, _760);
        float4 _763 = t1.SampleLevel(s0, _761, 0.0f);
        float _764 = _763.z;
        float _797;
        if (_687)
        {
            float4 _770 = t2.SampleLevel(s1, _761, 0.0f);
            float _773 = _770.z;
            float _778 = asfloat(cb0_m[43u].w) * 20.0f;
            float _794 = mad(mad(t9.SampleLevel(s7, float2(mad(_759, 30.0f, sin(_778)), mad(_760, 30.0f, cos(_778))), 0.0f).x, 0.00999999977648258209228515625f, -0.004999999888241291046142578125f), sqrt(max(max(_770.x, max(_770.y, _773)), 1.0000000133514319600180897396058e-10f)), _773);
            _797 = mad(_643, _764 - _794, _794);
        }
        else
        {
            _797 = _764;
        }
        float _802 = _513 ? g1[0u] : cb2_m[3u].x;
        float4 _806 = t7.SampleLevel(s6, _581, 0.0f);
        float _807 = _806.x;
        float _815 = max(cb2_m[3u].w - dp3_f32(float3(_807, _806.yz), float3(0.21269999444484710693359375f, 0.715200006961822509765625f, 0.07209999859333038330078125f)), 6.099999882280826568603515625e-05f);
        float _819 = mad(_721, _802, _807 / _815);
        float _820 = mad(_758, _802, _806.y / _815);
        float _821 = mad(_797, _802, _806.z / _815);
        float _825 = 1.0f / (max(_819, max(_821, _820)) + 1.0f);
        float _826 = _819 * _825;
        float _828 = _825 * _821;
        float3 _829 = float3(_826, _828, _825 * _820);
        uint _834 = (_556 * 12u) >> 2u;
        g0[_555][_834] = dp3_f32(_829, float3(0.25f, 0.25f, 0.5f));
        uint _837 = _834 + 1u;
        g0[_555][_837] = dp2_f32(float2(_826, _828), float2(0.5f, -0.5f));
        uint _840 = _834 + 2u;
        g0[_555][_840] = dp3_f32(_829, float3(-0.25f, -0.25f, 0.5f));
    }
    float2 _845 = float2(_504, _505);
    float _849 = mad(t6.SampleLevel(s5, _845, 0.0f).x, 2.0f, -1.0f);
    float _864;
    if (_849 > 0.0f)
    {
        _864 = min(sqrt(_849), t0.Load(8u).x);
    }
    else
    {
        _864 = max(_849, -t0.Load(7u).x);
    }
    float4 _868 = t5.SampleLevel(s4, _845, 0.0f);
    float _869 = _868.x;
    float _870 = _868.y;
    float2 _881 = float2(_869 * cb2_m[2u].z, _870 * cb2_m[2u].w);
    bool _893 = (cb2_m[7u].z != 0.0f) && (cb2_m[7u].w != 0.0f);
    bool _897 = (cb2_m[6u].w != 0.0f) && (cb2_m[7u].x != 0.0f);
    float _901 = abs(_864);
    float _909 = exp2(max(_893 ? clamp((sqrt(dp2_f32(_881, _881)) - 2.0f) * 0.0555555559694766998291015625f, 0.0f, 1.0f) : 0.0f, _897 ? clamp((_901 - 0.0471399985253810882568359375f) * 1.0494720935821533203125f, 0.0f, 1.0f) : 0.0f) * (-4.3280849456787109375f));
    float _910 = _504 - 0.5f;
    float _911 = _505 - 0.5f;
    float2 _912 = float2(_910, _911);
    float _913 = dp2_f32(_912, _912);
    float _916 = mad(_913, cb2_m[18u].x, 1.0f);
    float _938 = mad(exp2(log2(clamp(cb2_m[18u].x, 0.0f, 1.0f)) * 0.75f), -0.339999973773956298828125f, 1.0f) * mad(cb2_m[18u].y, -0.089999973773956298828125f, 1.0f);
    float _939 = (_916 * mad(mad(cb2_m[18u].z, -0.001999996602535247802734375f, 0.092000000178813934326171875f), cb2_m[18u].y, 1.0f)) * _938;
    float _940 = _938 * (_916 * mad(mad(cb2_m[18u].z, 0.04500000178813934326171875f, 0.046999998390674591064453125f), cb2_m[18u].y, 1.0f));
    float _941 = _938 * (_916 * mad(mad(cb2_m[18u].z, 0.0f, 0.04500000178813934326171875f), cb2_m[18u].y, 1.0f));
    float _942 = mad(_910, _939, 0.5f);
    float _943 = mad(_939, _911, 0.5f);
    float _944 = mad(_910, _940, 0.5f);
    float _945 = mad(_940, _911, 0.5f);
    float2 _948 = float2(_942, _943);
    float4 _950 = t1.SampleLevel(s0, _948, 0.0f);
    float _951 = _950.x;
    bool _952 = _897 || _893;
    float _985;
    if (_952)
    {
        float4 _958 = t2.SampleLevel(s1, _948, 0.0f);
        float _959 = _958.x;
        float _966 = asfloat(cb0_m[43u].w) * 20.0f;
        float _982 = mad(mad(t9.SampleLevel(s7, float2(mad(_942, 30.0f, sin(_966)), mad(_943, 30.0f, cos(_966))), 0.0f).x, 0.00999999977648258209228515625f, -0.004999999888241291046142578125f), sqrt(max(max(_959, max(_958.y, _958.z)), 1.0000000133514319600180897396058e-10f)), _959);
        _985 = mad(_909, _951 - _982, _982);
    }
    else
    {
        _985 = _951;
    }
    float2 _986 = float2(_944, _945);
    float4 _988 = t1.SampleLevel(s0, _986, 0.0f);
    float _989 = _988.y;
    float _1022;
    if (_952)
    {
        float4 _995 = t2.SampleLevel(s1, _986, 0.0f);
        float _997 = _995.y;
        float _1003 = asfloat(cb0_m[43u].w) * 20.0f;
        float _1019 = mad(mad(t9.SampleLevel(s7, float2(mad(_944, 30.0f, sin(_1003)), mad(_945, 30.0f, cos(_1003))), 0.0f).x, 0.00999999977648258209228515625f, -0.004999999888241291046142578125f), sqrt(max(max(_995.x, max(_997, _995.z)), 1.0000000133514319600180897396058e-10f)), _997);
        _1022 = mad(_909, _989 - _1019, _1019);
    }
    else
    {
        _1022 = _989;
    }
    float _1023 = mad(_910, _941, 0.5f);
    float _1024 = mad(_941, _911, 0.5f);
    float2 _1025 = float2(_1023, _1024);
    float4 _1027 = t1.SampleLevel(s0, _1025, 0.0f);
    float _1028 = _1027.z;
    float _1061;
    if (_952)
    {
        float4 _1034 = t2.SampleLevel(s1, _1025, 0.0f);
        float _1037 = _1034.z;
        float _1042 = asfloat(cb0_m[43u].w) * 20.0f;
        float _1058 = mad(mad(t9.SampleLevel(s7, float2(mad(_1023, 30.0f, sin(_1042)), mad(_1024, 30.0f, cos(_1042))), 0.0f).x, 0.00999999977648258209228515625f, -0.004999999888241291046142578125f), sqrt(max(max(_1034.x, max(_1034.y, _1037)), 1.0000000133514319600180897396058e-10f)), _1037);
        _1061 = mad(_909, _1028 - _1058, _1058);
    }
    else
    {
        _1061 = _1028;
    }
    float _1066 = _513 ? g1[0u] : cb2_m[3u].x;
    float4 _1070 = t7.SampleLevel(s6, _845, 0.0f);
    float _1071 = _1070.x;
    float _1079 = max(cb2_m[3u].w - dp3_f32(float3(_1071, _1070.yz), float3(0.21269999444484710693359375f, 0.715200006961822509765625f, 0.07209999859333038330078125f)), 6.099999882280826568603515625e-05f);
    float _1083 = mad(_985, _1066, _1071 / _1079);
    float _1084 = mad(_1022, _1066, _1070.y / _1079);
    float _1085 = mad(_1061, _1066, _1070.z / _1079);
    float _1089 = 1.0f / (max(_1083, max(_1085, _1084)) + 1.0f);
    float _1090 = _1083 * _1089;
    float _1092 = _1089 * _1085;
    float3 _1093 = float3(_1090, _1092, _1089 * _1084);
    float _1094 = dp3_f32(_1093, float3(0.25f, 0.25f, 0.5f));
    float _1095 = dp3_f32(_1093, float3(-0.25f, -0.25f, 0.5f));
    float _1097 = dp2_f32(float2(_1090, _1092), float2(0.5f, -0.5f));
    uint _1098 = _493 + 1u;
    uint _1099 = _493 + 2u;
    uint _1100 = _495 * 12u;
    uint _1103 = (_1100 + 12u) >> 2u;
    g0[_1098][_1103] = _1094;
    uint _1106 = _1103 + 1u;
    g0[_1098][_1106] = _1097;
    uint _1109 = _1103 + 2u;
    g0[_1098][_1109] = _1095;
    float2 _1112 = float2(_869 * cb2_m[2u].x, _870 * cb2_m[2u].y);
    float _1116 = min(sqrt(dp2_f32(_1112, _1112)) * 0.07500000298023223876953125f, 1.0f);
    float _1117 = _504 - _869;
    float _1118 = _505 - _870;
    float _1126 = (max(abs(mad(_1118, 2.0f, -1.0f)), abs(mad(_1117, 2.0f, -1.0f))) >= 1.0f) ? (-_1116) : _1116;
    float _1133 = floor(mad(_1117, cb2_m[2u].x, -0.5f));
    float _1134 = floor(mad(_1118, cb2_m[2u].y, -0.5f));
    float _1135 = _1133 + 0.5f;
    float _1136 = _1134 + 0.5f;
    float _1140 = mad(_1117, cb2_m[2u].x, -_1135);
    float _1142 = mad(_1118, cb2_m[2u].y, -_1136);
    float _1144 = mad(-_1117, cb2_m[2u].x, _1135);
    float _1146 = mad(-_1118, cb2_m[2u].y, _1136);
    float _1153 = mad(_1140, mad(_1144, 1.5f, 2.0f), 0.5f);
    float _1154 = mad(_1142, mad(_1146, 1.5f, 2.0f), 0.5f);
    float _1155 = _1140 * _1140;
    float _1156 = _1142 * _1142;
    float _1161 = _1155 * mad(_1140, 0.5f, -0.5f);
    float _1162 = mad(_1142, 0.5f, -0.5f) * _1156;
    float _1165 = _1140 * mad(_1140, mad(_1144, 0.5f, 1.0f), -0.5f);
    float _1166 = _1142 * mad(_1142, mad(_1146, 0.5f, 1.0f), -0.5f);
    float _1169 = mad(_1140, _1153, mad(_1155, mad(_1140, 1.5f, -2.5f), 1.0f));
    float _1170 = mad(_1142, _1154, mad(mad(_1142, 1.5f, -2.5f), _1156, 1.0f));
    float _1177 = (_1133 - 0.5f) / cb2_m[2u].x;
    float _1178 = (_1134 - 0.5f) / cb2_m[2u].y;
    float _1179 = (_1133 + 2.5f) / cb2_m[2u].x;
    float _1180 = (_1134 + 2.5f) / cb2_m[2u].y;
    float _1181 = (((_1142 * _1154) / _1170) + _1136) / cb2_m[2u].y;
    float _1182 = (_1135 + ((_1140 * _1153) / _1169)) / cb2_m[2u].x;
    float4 _1187 = t3.SampleLevel(s2, float2(_1177, _1178), 0.0f);
    float4 _1196 = t3.SampleLevel(s2, float2(_1179, _1178), 0.0f);
    float4 _1214 = t3.SampleLevel(s2, float2(_1182, _1178), 0.0f);
    float4 _1226 = t3.SampleLevel(s2, float2(_1177, _1181), 0.0f);
    float4 _1238 = t3.SampleLevel(s2, float2(_1182, _1181), 0.0f);
    float4 _1250 = t3.SampleLevel(s2, float2(_1179, _1181), 0.0f);
    float4 _1262 = t3.SampleLevel(s2, float2(_1177, _1180), 0.0f);
    float4 _1274 = t3.SampleLevel(s2, float2(_1182, _1180), 0.0f);
    float4 _1286 = t3.SampleLevel(s2, float2(_1179, _1180), 0.0f);
    float _1293 = mad(_1161 * _1286.x, _1162, mad(_1169 * _1274.x, _1162, mad(_1165 * _1262.x, _1162, mad(_1161 * _1250.x, _1170, mad(_1169 * _1238.x, _1170, mad(_1165 * _1226.x, _1170, mad(_1169 * _1214.x, _1166, ((_1161 * _1196.x) * _1166) + ((_1165 * _1187.x) * _1166))))))));
    float _1295 = mad(_1162, _1161 * _1286.z, mad(_1169 * _1274.z, _1162, mad(_1165 * _1262.z, _1162, mad(_1161 * _1250.z, _1170, mad(_1169 * _1238.z, _1170, mad(_1165 * _1226.z, _1170, mad(_1169 * _1214.z, _1166, ((_1161 * _1196.z) * _1166) + ((_1165 * _1187.z) * _1166))))))));
    float3 _1296 = float3(_1293, _1295, mad(_1162, _1161 * _1286.y, mad(_1169 * _1274.y, _1162, mad(_1165 * _1262.y, _1162, mad(_1161 * _1250.y, _1170, mad(_1169 * _1238.y, _1170, mad(_1165 * _1226.y, _1170, mad(_1169 * _1214.y, _1166, (_1166 * (_1165 * _1187.y)) + ((_1161 * _1196.y) * _1166)))))))));
    float _1297 = dp3_f32(_1296, float3(0.25f, 0.25f, 0.5f));
    float _1298 = dp3_f32(_1296, float3(-0.25f, -0.25f, 0.5f));
    float _1300 = dp2_f32(float2(_1293, _1295), float2(0.5f, -0.5f));
    GroupMemoryBarrierWithGroupSync();
    uint _1301 = _1100 >> 2u;
    uint _1305 = _1301 + 1u;
    uint _1309 = _1301 + 2u;
    uint _1395 = (_1100 + 24u) >> 2u;
    uint _1399 = _1395 + 1u;
    uint _1403 = _1395 + 2u;
    float _1424 = min(min(min(min(_1094, g0[_1098][_1301]), g0[_493][_1103]), g0[_1099][_1103]), g0[_1098][_1395]);
    float _1425 = max(max(max(max(_1094, g0[_1098][_1301]), g0[_493][_1103]), g0[_1099][_1103]), g0[_1098][_1395]);
    float _1443 = (((((((_1094 + g0[_1098][_1301]) + g0[_493][_1301]) + g0[_493][_1103]) + g0[_1099][_1301]) + g0[_1099][_1103]) + g0[_493][_1395]) + g0[_1098][_1395]) + g0[_1099][_1395];
    float _1457 = _1443 * 0.111111111938953399658203125f;
    float _1458 = (g0[_1099][_1399] + (g0[_1098][_1399] + (g0[_493][_1399] + (g0[_1099][_1106] + (g0[_1099][_1305] + (g0[_493][_1106] + (g0[_493][_1305] + (_1097 + g0[_1098][_1305])))))))) * 0.111111111938953399658203125f;
    float _1459 = (g0[_1099][_1403] + (g0[_1098][_1403] + (g0[_493][_1403] + (g0[_1099][_1109] + (g0[_1099][_1309] + (g0[_493][_1109] + (g0[_493][_1309] + (_1095 + g0[_1098][_1309])))))))) * 0.111111111938953399658203125f;
    float _1478 = mad(_1297 / max(mad(_1443, 0.111111111938953399658203125f, _1297), 1.0000000116860974230803549289703e-07f), 0.5f, 0.75f);
    float _1479 = sqrt(max((mad(g0[_1099][_1395], g0[_1099][_1395], mad(g0[_1098][_1395], g0[_1098][_1395], mad(g0[_493][_1395], g0[_493][_1395], mad(g0[_1099][_1103], g0[_1099][_1103], mad(g0[_1099][_1301], g0[_1099][_1301], mad(g0[_493][_1103], g0[_493][_1103], mad(g0[_493][_1301], g0[_493][_1301], (g0[_1098][_1301] * g0[_1098][_1301]) + (_1094 * _1094)))))))) * 0.111111111938953399658203125f) - (_1457 * _1457), 1.0000000133514319600180897396058e-10f)) * _1478;
    float _1480 = _1478 * sqrt(max((mad(g0[_1099][_1399], g0[_1099][_1399], mad(g0[_1098][_1399], g0[_1098][_1399], mad(g0[_493][_1399], g0[_493][_1399], mad(g0[_1099][_1106], g0[_1099][_1106], mad(g0[_1099][_1305], g0[_1099][_1305], mad(g0[_493][_1106], g0[_493][_1106], mad(g0[_493][_1305], g0[_493][_1305], (_1097 * _1097) + (g0[_1098][_1305] * g0[_1098][_1305])))))))) * 0.111111111938953399658203125f) - (_1458 * _1458), 1.0000000133514319600180897396058e-10f));
    float _1481 = _1478 * sqrt(max((mad(g0[_1099][_1403], g0[_1099][_1403], mad(g0[_1098][_1403], g0[_1098][_1403], mad(g0[_493][_1403], g0[_493][_1403], mad(g0[_1099][_1109], g0[_1099][_1109], mad(g0[_1099][_1309], g0[_1099][_1309], mad(g0[_493][_1109], g0[_493][_1109], mad(g0[_493][_1309], g0[_493][_1309], (_1095 * _1095) + (g0[_1098][_1309] * g0[_1098][_1309])))))))) * 0.111111111938953399658203125f) - (_1459 * _1459), 1.0000000133514319600180897396058e-10f));
    float _1485 = _1457 + _1479;
    float _1486 = _1480 + _1458;
    float _1487 = _1481 + _1459;
    float _1488 = (_1457 - _1479) + _1485;
    float _1489 = _1486 + (_1458 - _1480);
    float _1490 = _1487 + (_1459 - _1481);
    float _1500 = mad(_1488, -0.5f, _1297);
    float _1501 = mad(_1489, -0.5f, _1300);
    float _1502 = mad(_1490, -0.5f, _1298);
    float _1510 = max(max(abs(_1501 / mad((_1480 - _1458) + _1486, 0.5f, 9.9999997473787516355514526367188e-05f)), abs(_1500 / mad(_1485 + (_1479 - _1457), 0.5f, 9.9999997473787516355514526367188e-05f))), abs(_1502 / mad((_1481 - _1459) + _1487, 0.5f, 9.9999997473787516355514526367188e-05f)));
    bool _1511 = _1510 > 1.0f;
    uint2 _1529 = uint2(_496, _497);
    float _1533 = max((_1297 / ((_1297 + (mad(_1425, 0.5f, max(_1425 * 0.5f, max(max(max(max(_1094, g0[_493][_1301]), g0[_1099][_1301]), g0[_493][_1395]), g0[_1099][_1395]) * 0.5f)) - mad(_1424, 0.5f, min(_1424 * 0.5f, min(min(min(min(_1094, g0[_493][_1301]), g0[_1099][_1301]), g0[_493][_1395]), g0[_1099][_1395]) * 0.5f)))) + 1.0000000116860974230803549289703e-07f)) * mad(abs(_1126), 0.85000002384185791015625f, 0.100000001490116119384765625f), u2[_1529].x * 0.75f);
    bool _1534 = _1126 < 0.0f;
    float _1535 = _1534 ? _1094 : (_1511 ? mad(_1488, 0.5f, _1500 / _1510) : _1297);
    float _1536 = _1534 ? _1097 : (_1511 ? mad(_1489, 0.5f, _1501 / _1510) : _1300);
    float _1537 = _1534 ? _1095 : (_1511 ? mad(_1490, 0.5f, _1502 / _1510) : _1298);
    float _1545 = clamp(mad(t4.SampleLevel(s3, _845, 0.0f).y, 1.0f - _1533, _1533), 0.0039215688593685626983642578125f, 0.949999988079071044921875f);
    float _1549 = mad(1.0f - _1545, cb2_m[0u].x, _1545);
    float _1553 = mad(_1549, _1094 - _1535, _1535);
    float _1554 = mad(_1549, _1097 - _1536, _1536);
    float _1555 = mad(_1549, _1095 - _1537, _1537);
    float _1556 = _1553 - _1555;
    float _1557 = _1556 + _1554;
    float _1558 = _1553 + _1555;
    float _1559 = _1556 - _1554;
    u1[_1529] = float4(_1557, _1558, _1559, 0.0f);
    u2[_1529] = _1549.xxxx;
    u3[_1529] = float4(_1553, _1554, _1555, _1553);
    bool _1565 = !_508;
    float _1936;
    float _1937;
    float _1938;
    if (_1565)
    {
        float _1569 = dp3_f32(float3(_1557, _1558, _1559), float3(0.21269999444484710693359375f, 0.715200006961822509765625f, 0.07209999859333038330078125f));
        float _1576 = mad(-_901, cb2_m[7u].y, 1.0f) * cb2_m[6u].x;
        float _1580 = mad(_1576, _1557 - _1569, _1569);
        float _1581 = mad(_1576, _1558 - _1569, _1569);
        float _1582 = mad(_1576, _1559 - _1569, _1569);
        float _1583 = _911 + _911;
        float _1584 = _910 + _910;
        float _1585 = abs(_1584);
        float _1586 = abs(_1583);
        float _1590 = min(_1585, _1586) * (1.0f / max(_1585, _1586));
        float _1591 = _1590 * _1590;
        float _1595 = mad(_1591, mad(_1591, mad(_1591, mad(_1591, 0.02083509974181652069091796875f, -0.08513300120830535888671875f), 0.1801410019397735595703125f), -0.33029949665069580078125f), 0.999866008758544921875f);
        float _1604 = mad(_1590, _1595, (_1585 < _1586) ? mad(_1590 * _1595, -2.0f, 1.57079637050628662109375f) : 0.0f) + (((-_1584) > _1584) ? (-3.1415927410125732421875f) : 0.0f);
        float _1605 = min(_1583, _1584);
        float _1606 = max(_1583, _1584);
        float _1613 = ((_1605 < (-_1605)) && (_1606 >= (-_1606))) ? (-_1604) : _1604;
        float4 _1617 = t10.SampleLevel(s8, _845, 0.0f);
        float _1618 = _1617.x;
        float _1619 = _1617.y;
        float _1620 = _1617.z;
        float _1621 = _1617.w;
        float _1626 = (_1581 - _1582) * 1.73205077648162841796875f;
        float _1628 = mad(_1580, 2.0f, -_1581);
        float _1629 = _1628 - _1582;
        float _1630 = abs(_1626);
        float _1631 = abs(_1629);
        float _1635 = min(_1630, _1631) * (1.0f / max(_1630, _1631));
        float _1636 = _1635 * _1635;
        float _1640 = mad(_1636, mad(_1636, mad(_1636, mad(_1636, 0.02083509974181652069091796875f, -0.08513300120830535888671875f), 0.1801410019397735595703125f), -0.33029949665069580078125f), 0.999866008758544921875f);
        float _1649 = mad(_1635, _1640, (_1630 > _1631) ? mad(_1635 * _1640, -2.0f, 1.57079637050628662109375f) : 0.0f) + ((_1629 < (_1582 - _1628)) ? (-3.1415927410125732421875f) : 0.0f);
        float _1650 = min(_1626, _1629);
        float _1651 = max(_1626, _1629);
        float _1660 = ((_1580 == _1581) && (_1582 == _1581)) ? 0.0f : ((((_1650 < (-_1650)) && (_1651 >= (-_1651))) ? (-_1649) : _1649) * 57.295780181884765625f);
        float _1669 = mad(cb2_m[19u].y, -360.0f, (_1660 < 0.0f) ? (_1660 + 360.0f) : _1660);
        float _1679 = clamp(1.0f - (abs((_1669 < (-180.0f)) ? (_1669 + 360.0f) : ((_1669 > 180.0f) ? (_1669 - 360.0f) : _1669)) / (cb2_m[19u].z * 180.0f)), 0.0f, 1.0f);
        float _1684 = dp3_f32(float3(_1580, _1581, _1582), float3(0.21269999444484710693359375f, 0.715200006961822509765625f, 0.07209999859333038330078125f));
        float _1687 = (mad(_1679, -2.0f, 3.0f) * (_1679 * _1679)) * cb2_m[19u].w;
        float _1699 = mad(mad(_1687, _1580 - _1684, _1684) - _1580, cb2_m[18u].w, _1580);
        float _1700 = mad(cb2_m[18u].w, mad(_1687, _1581 - _1684, _1684) - _1581, _1581);
        float _1701 = mad(cb2_m[18u].w, mad(_1687, _1582 - _1684, _1684) - _1582, _1582);
        float _1703;
        _1703 = 0.0f;
        float _1704;
        uint _1707;
        uint _1706 = 0u;
        for (;;)
        {
            if (_1706 >= 8u)
            {
                break;
            }
            uint _1718 = min((_1706 & 3u), 10u);
            float _1738 = mad(float(_1706), 0.785398185253143310546875f, -_1613);
            float _1739 = _1738 + 1.57079637050628662109375f;
            _1704 = mad(_1621 * (dp4_f32(t11.Load((_1706 >> 2u) + 10u), float4(_390[_1718].x, _390[_1718].y, _390[_1718].z, _390[_1718].w)) * clamp((abs((_1739 > 3.1415927410125732421875f) ? (_1738 - 4.7123889923095703125f) : _1739) - 2.19911479949951171875f) * 2.1220657825469970703125f, 0.0f, 1.0f)), 1.0f - _1703, _1703);
            _1707 = _1706 + 1u;
            _1703 = _1704;
            _1706 = _1707;
            continue;
        }
        float _1750 = clamp(_1703, 0.0f, 1.0f);
        float _1763 = asfloat(cb0_m[43u].w);
        float _1769 = abs(t11.Load(8u).x);
        float2 _1772 = float2(_910 * 1.40999996662139892578125f, _911 * 1.40999996662139892578125f);
        float _1774 = sqrt(dp2_f32(_1772, _1772));
        float _1775 = min(_1774, 1.0f);
        float _1776 = _1775 * _1775;
        float _1781 = clamp(_1774 - 0.5f, 0.0f, 1.0f);
        float _1784 = (_1775 * _1776) + (mad(-_1775, _1776, 1.0f) * (_1781 * _1781));
        float _1785 = mad(mad(mad(sin(_1763 * 6.0f), 0.5f, 0.5f), 0.089999973773956298828125f, 0.910000026226043701171875f), _1769, -1.0f);
        float _1787 = _1619 + _1785;
        float _1789 = clamp((_1620 + _1785) * 1.53846156597137451171875f, 0.0f, 1.0f);
        float _1796 = clamp(_1787 + _1787, 0.0f, 1.0f);
        float _1813 = dp3_f32(float3(t12.Load(8u).xyz), float3(0.21269999444484710693359375f, 0.715200006961822509765625f, 0.07209999859333038330078125f));
        float _1819 = mad(sin(_1619 * 17.52899932861328125f) + 1.0f, -0.1149999797344207763671875f, 0.89999997615814208984375f) * mad(exp2(log2(abs(_1813)) * 0.699999988079071044921875f), 0.10000002384185791015625f, 0.89999997615814208984375f);
        float _1821 = _1819 * 0.02999999932944774627685546875f;
        float _1822 = mad(_1769, -0.3499999940395355224609375f, 0.3499999940395355224609375f);
        float _1826 = mad(mad(-_1784, _1784, 1.0f), 1.0f - _1822, _1822);
        float _1827 = min((exp2(log2(_1784) * 0.699999988079071044921875f) * (mad(_1796, -2.0f, 3.0f) * (_1796 * _1796))) + (mad(_1789, -2.0f, 3.0f) * (_1789 * _1789)), 1.0f);
        float _1837 = mad(_1827, mad(_1826, _1819 * 0.62000000476837158203125f, mad(_1699, _1750, -_1699)), mad(-_1699, _1750, _1699));
        float _1838 = mad(_1827, mad(_1826, _1821, mad(_1750, _1700, -_1700)), mad(-_1750, _1700, _1700));
        float _1839 = mad(_1827, mad(_1826, _1821, mad(_1750, _1701, -_1701)), mad(-_1750, _1701, _1701));
        float _1842 = mad(_1619, _1620 * (1.0f - _1621), _1621);
        float _1844;
        _1844 = 0.0f;
        float _1845;
        uint _1848;
        uint _1847 = 0u;
        for (;;)
        {
            if (int(_1847) >= 8)
            {
                break;
            }
            float4 _1855 = t11.Load(_1847);
            float _1857 = _1855.y;
            float _1859 = _1855.x - _1613;
            _1845 = mad(_1842 * (_1855.w * clamp(((_1857 - 3.1415927410125732421875f) + abs((_1859 > 3.1415927410125732421875f) ? (_1859 - 6.283185482025146484375f) : ((_1859 < (-3.1415927410125732421875f)) ? (_1859 + 6.283185482025146484375f) : _1859))) / max(_1857 * 0.699999988079071044921875f, 0.001000000047497451305389404296875f), 0.0f, 1.0f)), 1.0f - _1844, _1844);
            _1848 = _1847 + 1u;
            _1844 = _1845;
            _1847 = _1848;
            continue;
        }
        float _1878 = clamp(_1844 + _1844, 0.0f, 1.0f) * 0.949999988079071044921875f;
        float _1882 = mad(_1878, 0.310000002384185791015625f - _1837, _1837);
        float _1883 = mad(_1878, 0.014999999664723873138427734375f - _1838, _1838);
        float _1884 = mad(_1878, 0.014999999664723873138427734375f - _1839, _1839);
        float4 _1885 = t11.Load(12u);
        float _1886 = _1885.x;
        float _1914;
        float _1915;
        float _1916;
        if (_1886 != 0.0f)
        {
            float _1893 = clamp(_1813, 0.0f, 1.0f);
            float _1903 = clamp((_1618 + (_1886 - 1.0f)) / max(mad(_1886, 0.5f, 0.5f), 0.001000000047497451305389404296875f), 0.0f, 1.0f);
            float _1907 = clamp(_1886 * 2.857142925262451171875f, 0.0f, 1.0f);
            float _1910 = mad(_1907, -2.0f, 3.0f) * (_1907 * _1907);
            _1914 = mad(_1910, _1903 * (_1893 * (_1618 * 0.930000007152557373046875f)), _1884);
            _1915 = mad(_1910, _1903 * (_1893 * (_1618 * 0.85000002384185791015625f)), _1883);
            _1916 = mad((_1893 * (_1618 * 0.790000021457672119140625f)) * _1903, _1910, _1882);
        }
        else
        {
            _1914 = _1884;
            _1915 = _1883;
            _1916 = _1882;
        }
        bool _1919 = cb2_m[19u].x > 0.0f;
        bool _1923 = frac((_505 * 420.0f) + (_1763 * 0.20000000298023223876953125f)) >= 0.5f;
        float _1924 = _1923 ? 0.300000011920928955078125f : 0.0f;
        float _1925 = _1924 * cb2_m[19u].x;
        _1936 = _1919 ? mad(_1925, 0.0f - _1916, _1916) : _1916;
        _1937 = _1919 ? mad(_1925, (_1923 ? 0.100000001490116119384765625f : 0.0f) - _1915, _1915) : _1915;
        _1938 = _1919 ? mad(_1925, _1924 - _1914, _1914) : _1914;
    }
    else
    {
        _1936 = _1557;
        _1937 = _1558;
        _1938 = _1559;
    }
    float _1943 = 1.0f / max(1.0f - max(max(_1937, _1938), _1936), 6.099999882280826568603515625e-05f);
    float _1950 = min(-(_1943 * _1936), 0.0f);
    float _1951 = min(-(_1943 * _1937), 0.0f);
    float _1952 = min(-(_1943 * _1938), 0.0f);
    float _1962 = clamp(-((sqrt(_913) - cb2_m[5u].x) * (1.0f / cb2_m[5u].y)), 0.0f, 1.0f);
    float _1963 = mad(_1962, -2.0f, 3.0f);
    float _1964 = _1962 * _1962;
    float _1965 = _1963 * _1964;
    float _1967 = mad(-_1963, _1964, 1.0f);
    float _1989 = cb2_m[5u].z * cb2_m[5u].w;
    float3 _2002 = float3(_508 ? (-_1950) : mad(_1950 + ((cb2_m[4u].x * _1967) - (_1950 * _1965)), _1989, -_1950), _508 ? (-_1951) : mad(_1989, ((cb2_m[4u].y * _1967) - (_1965 * _1951)) + _1951, -_1951), _508 ? (-_1952) : mad(_1989, ((_1967 * cb2_m[4u].z) - (_1965 * _1952)) + _1952, -_1952));
    float _2003 = dp3_f32(float3(0.4397009909152984619140625f, 0.3829779922962188720703125f, 0.1773349940776824951171875f), _2002);
    float _2004 = dp3_f32(float3(0.08979229629039764404296875f, 0.813422977924346923828125f, 0.09676159918308258056640625f), _2002);
    float _2005 = dp3_f32(float3(0.01754399947822093963623046875f, 0.11154399812221527099609375f, 0.870703995227813720703125f), _2002);
    bool _2008 = cb2_m[8u].x != 0.0f;
    float _2025;
    float _2026;
    float _2027;
    if (!_2008)
    {
        _2025 = clamp(mad(mad(_2005, cb2_m[9u].y, -0.1800537109375f), cb2_m[9u].x, 0.1800537109375f), 0.0f, 65504.0f);
        _2026 = clamp(mad(mad(_2004, cb2_m[9u].y, -0.1800537109375f), cb2_m[9u].x, 0.1800537109375f), 0.0f, 65504.0f);
        _2027 = clamp(mad(mad(_2003, cb2_m[9u].y, -0.1800537109375f), cb2_m[9u].x, 0.1800537109375f), 0.0f, 65504.0f);
    }
    else
    {
        _2025 = _2005;
        _2026 = _2004;
        _2027 = _2003;
    }
    float _2030 = mad(cb2_m[8u].y, -0.0005000000237487256526947021484375f, 0.312709987163543701171875f);
    float _2037 = mad(cb2_m[8u].z, 0.0005000000237487256526947021484375f, (_2030 * 2.86999988555908203125f) - (_2030 * (_2030 * 3.0f)));
    float _2038 = _2037 - 0.2750950753688812255859375f;
    float _2039 = _2030 / _2038;
    float _2043 = ((1.0f - _2030) + (0.2750950753688812255859375f - _2037)) / _2038;
    float3 _2053 = float3(_2027, _2026, _2025);
    float3 _2060 = float3((0.94923698902130126953125f / mad(_2043, -0.1624000072479248046875f, mad(_2039, 0.732800006866455078125f, 0.4296000003814697265625f))) * dp3_f32(float3(0.390404999256134033203125f, 0.549941003322601318359375f, 0.008926319889724254608154296875f), _2053), dp3_f32(float3(0.070841602981090545654296875f, 0.963172018527984619140625f, 0.001357750035822391510009765625f), _2053) * (1.035419940948486328125f / mad(_2043, 0.006099999882280826568603515625f, mad(_2039, -0.703599989414215087890625f, 1.6974999904632568359375f))), dp3_f32(float3(0.02310819923877716064453125f, 0.1280210018157958984375f, 0.936245024204254150390625f), _2053) * (1.0872800350189208984375f / mad(_2043, 0.98339998722076416015625f, mad(_2039, 0.0030000000260770320892333984375f, 0.013600000180304050445556640625f))));
    float3 _2070 = float3(dp3_f32(float3(2.85846996307373046875f, -1.62879002094268798828125f, -0.0248910002410411834716796875f), _2060), dp3_f32(float3(-0.21018199622631072998046875f, 1.1582000255584716796875f, 0.0003242809907533228397369384765625f), _2060), dp3_f32(float3(-0.0418119989335536956787109375f, -0.118169002234935760498046875f, 1.0686700344085693359375f), _2060));
    float _2072 = dp3_f32(_2070, float3(cb2_m[9u].w, cb2_m[10u].xy));
    float _2078 = dp3_f32(_2070, float3(cb2_m[10u].zw, cb2_m[11u].x));
    float _2085 = dp3_f32(_2070, float3(cb2_m[11u].yzw));
    float _2087 = dp3_f32(float3(_2072, _2078, _2085), float3(0.21267290413379669189453125f, 0.715152204036712646484375f, 0.072175003588199615478515625f));
    float _2096 = clamp((_2087 - cb2_m[14u].w) * (1.0f / (cb2_m[15u].x - cb2_m[14u].w)), 0.0f, 1.0f);
    float _2100 = mad(-mad(_2096, -2.0f, 3.0f), _2096 * _2096, 1.0f);
    float _2109 = clamp((_2087 - cb2_m[15u].y) * (1.0f / (cb2_m[15u].z - cb2_m[15u].y)), 0.0f, 1.0f);
    float _2110 = mad(_2109, -2.0f, 3.0f);
    float _2111 = _2109 * _2109;
    float _2112 = _2110 * _2111;
    float _2115 = 1.0f - clamp(mad(_2110, _2111, _2100), 0.0f, 1.0f);
    float _2140;
    float _2141;
    float _2142;
    if (_2008)
    {
        _2140 = cb2_m[16u].y + 1.0f;
        _2141 = cb2_m[15u].w + 1.0f;
        _2142 = cb2_m[16u].x + 1.0f;
    }
    else
    {
        _2140 = cb2_m[16u].y + mad(cb2_m[16u].x, 0.5f, mad(cb2_m[15u].w, 0.25f, 1.0f));
        _2141 = cb2_m[15u].w + 1.0f;
        _2142 = mad(cb2_m[15u].w, 0.5f, cb2_m[16u].x) + 1.0f;
    }
    float _2185 = mad(_2112 * (cb2_m[14u].y * _2078), _2140, ((_2100 * (_2078 * cb2_m[12u].y)) * _2141) + ((_2115 * (_2078 * cb2_m[13u].y)) * _2142));
    float _2186 = mad(_2112 * (cb2_m[14u].z * _2085), _2140, ((_2100 * (cb2_m[12u].z * _2085)) * _2141) + ((_2115 * (cb2_m[13u].z * _2085)) * _2142));
    float _2187 = mad(_2112 * (_2072 * cb2_m[14u].x), _2140, ((_2115 * (cb2_m[13u].x * _2072)) * _2142) + ((_2100 * (cb2_m[12u].x * _2072)) * _2141));
    float _2191 = float(_2185 >= _2186);
    float _2192 = mad(_2185 - _2186, _2191, _2186);
    float _2193 = mad(_2191, _2186 - _2185, _2185);
    float _2195 = mad(_2191, -1.0f, 0.666666686534881591796875f);
    float _2201 = float(_2192 <= _2187);
    float _2202 = mad(_2187 - _2192, _2201, _2192);
    float _2203 = mad(_2201, _2193 - _2193, _2193);
    float _2205 = mad(_2201, _2192 - _2187, _2187);
    float _2207 = _2202 - min(_2205, _2203);
    float _2213 = _2207 / (_2202 + 9.9999997473787516355514526367188e-05f);
    float _2217 = abs(((_2205 - _2203) / mad(_2207, 6.0f, 9.9999997473787516355514526367188e-05f)) + mad(_2201, mad(_2191, 1.0f, -1.0f) - _2195, _2195)) + cb2_m[9u].z;
    float _2223 = (_2217 < 0.0f) ? (_2217 + 1.0f) : ((_2217 > 1.0f) ? (_2217 - 1.0f) : _2217);
    float _2245 = mad(_2213, clamp(abs(mad(frac(_2223 + 1.0f), 6.0f, -3.0f)) - 1.0f, 0.0f, 1.0f) - 1.0f, 1.0f);
    float _2246 = mad(_2213, clamp(abs(mad(frac(_2223 + 0.666666686534881591796875f), 6.0f, -3.0f)) - 1.0f, 0.0f, 1.0f) - 1.0f, 1.0f);
    float _2247 = mad(_2213, clamp(abs(mad(frac(_2223 + 0.3333333432674407958984375f), 6.0f, -3.0f)) - 1.0f, 0.0f, 1.0f) - 1.0f, 1.0f);
    float _2252 = dp3_f32(float3(_2202 * _2245, _2202 * _2246, _2202 * _2247), float3(0.21267290413379669189453125f, 0.715152204036712646484375f, 0.072175003588199615478515625f));
    float _2261 = mad(mad(_2202, _2245, -_2252), cb2_m[8u].w, _2252);
    float _2262 = mad(mad(_2202, _2246, -_2252), cb2_m[8u].w, _2252);
    float _2263 = mad(mad(_2202, _2247, -_2252), cb2_m[8u].w, _2252);
    float _2282;
    float _2283;
    float _2284;
    if (_2008)
    {
        _2282 = clamp(mad(_2263 - 0.1800537109375f, cb2_m[9u].x, 0.1800537109375f), 0.0f, 65504.0f) * cb2_m[9u].y;
        _2283 = clamp(mad(_2262 - 0.1800537109375f, cb2_m[9u].x, 0.1800537109375f), 0.0f, 65504.0f) * cb2_m[9u].y;
        _2284 = clamp(mad(_2261 - 0.1800537109375f, cb2_m[9u].x, 0.1800537109375f), 0.0f, 65504.0f) * cb2_m[9u].y;
    }
    else
    {
        _2282 = _2263;
        _2283 = _2262;
        _2284 = _2261;
    }
#if 1
  float _2288 = (RENODX_TONE_MAP_TYPE == 0) ? min(_2284 * 2.5f, 65504.0f) : _2284;
  float _2289 = (RENODX_TONE_MAP_TYPE == 0) ? min(_2283 * 2.5f, 65504.0f) : _2283;
  float _2290 = (RENODX_TONE_MAP_TYPE == 0) ? min(_2282 * 2.5f, 65504.0f) : _2282;
#endif
    float _2294 = max(max(_2288, _2289), _2290);
    float _2299 = (max(_2294, 9.9999997473787516355514526367188e-05f) - max(min(min(_2288, _2289), _2290), 9.9999997473787516355514526367188e-05f)) / max(_2294, 0.00999999977648258209228515625f);
    float _2310 = mad(sqrt(mad(_2288, _2288 - _2290, ((_2290 - _2289) * _2290) + ((_2289 - _2288) * _2289))), 1.75f, _2288 + (_2290 + _2289));
    float _2311 = _2299 - 0.4000000059604644775390625f;
    float _2315 = max(1.0f - abs(_2311 * 2.5f), 0.0f);
    float _2323 = mad(mad(clamp(mad(_2311, asfloat(0x7f800000u /* inf */), 0.5f), 0.0f, 1.0f), 2.0f, -1.0f), mad(-_2315, _2315, 1.0f), 1.0f) * 0.02500000037252902984619140625f;
    float _2331 = ((_2310 <= 0.1599999964237213134765625f) ? _2323 : ((_2310 >= 0.4799999892711639404296875f) ? 0.0f : (((0.07999999821186065673828125f / (_2310 * 0.3333333432674407958984375f)) - 0.5f) * _2323))) + 1.0f;
    float _2332 = _2288 * _2331;
    float _2333 = _2331 * _2289;
    float _2334 = _2331 * _2290;
    float _2339 = (_2333 - _2334) * 1.73205077648162841796875f;
    float _2341 = (_2332 * 2.0f) - _2333;
    float _2343 = mad(-_2331, _2290, _2341);
    float _2344 = abs(_2343);
    float _2345 = abs(_2339);
    float _2349 = min(_2344, _2345) * (1.0f / max(_2344, _2345));
    float _2350 = _2349 * _2349;
    float _2354 = mad(_2350, mad(_2350, mad(_2350, mad(_2350, 0.02083509974181652069091796875f, -0.08513300120830535888671875f), 0.1801410019397735595703125f), -0.33029949665069580078125f), 0.999866008758544921875f);
    float _2364 = mad(_2349, _2354, (_2344 < _2345) ? mad(_2349 * _2354, -2.0f, 1.57079637050628662109375f) : 0.0f) + ((_2343 < mad(_2331, _2290, -_2341)) ? (-3.1415927410125732421875f) : 0.0f);
    float _2365 = min(_2339, _2343);
    float _2366 = max(_2339, _2343);
    float _2375 = ((_2332 == _2333) && (_2334 == _2333)) ? 0.0f : ((((_2365 < (-_2365)) && (_2366 >= (-_2366))) ? (-_2364) : _2364) * 57.295780181884765625f);
    float _2378 = (_2375 < 0.0f) ? (_2375 + 360.0f) : _2375;
    float _2388 = max(1.0f - abs(((_2378 < (-180.0f)) ? (_2378 + 360.0f) : ((_2378 > 180.0f) ? (_2378 - 360.0f) : _2378)) * 0.01481481455266475677490234375f), 0.0f);
    float _2391 = mad(_2388, -2.0f, 3.0f) * (_2388 * _2388);
    float3 _2402 = float3(clamp(_2332 + (((_2299 * (_2391 * _2391)) * mad(-_2288, _2331, 0.02999999932944774627685546875f)) * 0.180000007152557373046875f), 0.0f, 65504.0f), clamp(_2333, 0.0f, 65504.0f), clamp(_2334, 0.0f, 65504.0f));
    float _2406 = clamp(dp3_f32(float3(1.45143926143646240234375f, -0.236510753631591796875f, -0.214928567409515380859375f), _2402), 0.0f, 65504.0f);
    float _2407 = clamp(dp3_f32(float3(-0.07655377686023712158203125f, 1.1762297153472900390625f, -0.0996759235858917236328125f), _2402), 0.0f, 65504.0f);
    float _2408 = clamp(dp3_f32(float3(0.0083161480724811553955078125f, -0.0060324496589601039886474609375f, 0.99771630764007568359375f), _2402), 0.0f, 65504.0f);

    float _2410 = dp3_f32(float3(_2406, _2407, _2408), float3(0.2722289860248565673828125f, 0.674081981182098388671875f, 0.0536894984543323516845703125f));
    float _2414 = mad(_2406 - _2410, 0.959999978542327880859375f, _2410);
    float _2415 = mad(_2407 - _2410, 0.959999978542327880859375f, _2410);
    float _2416 = mad(_2408 - _2410, 0.959999978542327880859375f, _2410);
#if 1
  if (RENODX_TONE_MAP_TYPE != 0) {
    u0[_1529] = float4(CustomACES(float3(_2414, _2415, _2416)), 1.f);
    return;
  }
#endif

    float _2423 = (_2414 <= 0.0f) ? (-14.0f) : log2(_2414);
    float _2424 = (_2415 <= 0.0f) ? (-14.0f) : log2(_2415);
    float _2425 = (_2416 <= 0.0f) ? (-14.0f) : log2(_2416);
    float _2512;
    if (_2423 <= (-17.4739322662353515625f))
    {
        _2512 = -4.0f;
    }
    else
    {
        float _2511;
        if (_2423 < (-2.4739310741424560546875f))
        {
            float _2436 = mad(_2423, 0.3010300099849700927734375f, 5.2601776123046875f);
            float _2437 = _2436 * 0.6643855571746826171875f;
            int _2438 = cvt_f32_i32(_2437);
            float _2441 = mad(_2436, 0.6643855571746826171875f, -trunc(_2437));
            uint _2447 = min(uint(_2438 + 4), 10u);
            uint _2453 = min(uint((_2438 + 1) + 4), 10u);
            uint _2459 = min(uint((_2438 + 2) + 4), 10u);
            float2 _2465 = float2(_390[_2447].x, _390[_2453].x);
            _2511 = dp3_f32(float3(_2441 * _2441, _2441, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(_390[_2447].x, _390[_2453].x, _390[_2459].x)), dp2_f32(float2(-1.0f, 1.0f), _2465), dp2_f32(0.5f.xx, _2465)));
        }
        else
        {
            float _2510;
            if (_2423 < 15.52606868743896484375f)
            {
                float _2475 = mad(_2423, 0.3010300099849700927734375f, 0.74472749233245849609375f);
                float _2476 = _2475 * 0.55365467071533203125f;
                int _2477 = cvt_f32_i32(_2476);
                float _2480 = mad(_2475, 0.55365467071533203125f, -trunc(_2476));
                uint _2486 = min(uint(_2477 + 4), 10u);
                uint _2492 = min(uint((_2477 + 1) + 4), 10u);
                uint _2498 = min(uint((_2477 + 2) + 4), 10u);
                float2 _2504 = float2(_390[_2486].y, _390[_2492].y);
                _2510 = dp3_f32(float3(_2480 * _2480, _2480, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(_390[_2486].y, _390[_2492].y, _390[_2498].y)), dp2_f32(float2(-1.0f, 1.0f), _2504), dp2_f32(0.5f.xx, _2504)));
            }
            else
            {
                _2510 = 4.0f;
            }
            _2511 = _2510;
        }
        _2512 = _2511;
    }
    float _2598;
    if (_2424 <= (-17.4739322662353515625f))
    {
        _2598 = -4.0f;
    }
    else
    {
        float _2597;
        if (_2424 < (-2.4739310741424560546875f))
        {
            float _2522 = mad(_2424, 0.3010300099849700927734375f, 5.2601776123046875f);
            float _2523 = _2522 * 0.6643855571746826171875f;
            int _2524 = cvt_f32_i32(_2523);
            float _2527 = mad(_2522, 0.6643855571746826171875f, -trunc(_2523));
            uint _2533 = min(uint(_2524 + 4), 10u);
            uint _2539 = min(uint((_2524 + 1) + 4), 10u);
            uint _2545 = min(uint((_2524 + 2) + 4), 10u);
            float2 _2551 = float2(_390[_2533].x, _390[_2539].x);
            _2597 = dp3_f32(float3(_2527 * _2527, _2527, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(_390[_2533].x, _390[_2539].x, _390[_2545].x)), dp2_f32(float2(-1.0f, 1.0f), _2551), dp2_f32(0.5f.xx, _2551)));
        }
        else
        {
            float _2596;
            if (_2424 < 15.52606868743896484375f)
            {
                float _2561 = mad(_2424, 0.3010300099849700927734375f, 0.74472749233245849609375f);
                float _2562 = _2561 * 0.55365467071533203125f;
                int _2563 = cvt_f32_i32(_2562);
                float _2566 = mad(_2561, 0.55365467071533203125f, -trunc(_2562));
                uint _2572 = min(uint(_2563 + 4), 10u);
                uint _2578 = min(uint((_2563 + 1) + 4), 10u);
                uint _2584 = min(uint((_2563 + 2) + 4), 10u);
                float2 _2590 = float2(_390[_2572].y, _390[_2578].y);
                _2596 = dp3_f32(float3(_2566 * _2566, _2566, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(_390[_2572].y, _390[_2578].y, _390[_2584].y)), dp2_f32(float2(-1.0f, 1.0f), _2590), dp2_f32(0.5f.xx, _2590)));
            }
            else
            {
                _2596 = 4.0f;
            }
            _2597 = _2596;
        }
        _2598 = _2597;
    }
    float _2684;
    if (_2425 <= (-17.4739322662353515625f))
    {
        _2684 = -4.0f;
    }
    else
    {
        float _2683;
        if (_2425 < (-2.4739310741424560546875f))
        {
            float _2608 = mad(_2425, 0.3010300099849700927734375f, 5.2601776123046875f);
            float _2609 = _2608 * 0.6643855571746826171875f;
            int _2610 = cvt_f32_i32(_2609);
            float _2613 = mad(_2608, 0.6643855571746826171875f, -trunc(_2609));
            uint _2619 = min(uint(_2610 + 4), 10u);
            uint _2625 = min(uint((_2610 + 1) + 4), 10u);
            uint _2631 = min(uint((_2610 + 2) + 4), 10u);
            float2 _2637 = float2(_390[_2619].x, _390[_2625].x);
            _2683 = dp3_f32(float3(_2613 * _2613, _2613, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(_390[_2619].x, _390[_2625].x, _390[_2631].x)), dp2_f32(float2(-1.0f, 1.0f), _2637), dp2_f32(0.5f.xx, _2637)));
        }
        else
        {
            float _2682;
            if (_2425 < 15.52606868743896484375f)
            {
                float _2647 = mad(_2425, 0.3010300099849700927734375f, 0.74472749233245849609375f);
                float _2648 = _2647 * 0.55365467071533203125f;
                int _2649 = cvt_f32_i32(_2648);
                float _2652 = mad(_2647, 0.55365467071533203125f, -trunc(_2648));
                uint _2658 = min(uint(_2649 + 4), 10u);
                uint _2664 = min(uint((_2649 + 1) + 4), 10u);
                uint _2670 = min(uint((_2649 + 2) + 4), 10u);
                float2 _2676 = float2(_390[_2658].y, _390[_2664].y);
                _2682 = dp3_f32(float3(_2652 * _2652, _2652, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(_390[_2658].y, _390[_2664].y, _390[_2670].y)), dp2_f32(float2(-1.0f, 1.0f), _2676), dp2_f32(0.5f.xx, _2676)));
            }
            else
            {
                _2682 = 4.0f;
            }
            _2683 = _2682;
        }
        _2684 = _2683;
    }
    float3 _2687 = float3(exp2(_2512 * 3.3219280242919921875f), exp2(_2598 * 3.3219280242919921875f), exp2(_2684 * 3.3219280242919921875f));
    float3 _2691 = float3(dp3_f32(float3(0.695452213287353515625f, 0.140678703784942626953125f, 0.16386906802654266357421875f), _2687), dp3_f32(float3(0.0447945632040500640869140625f, 0.859671115875244140625f, 0.095534317195415496826171875f), _2687), dp3_f32(float3(-0.0055258828215301036834716796875f, 0.0040252101607620716094970703125f, 1.00150072574615478515625f), _2687));
    float _2692 = dp3_f32(float3(1.45143926143646240234375f, -0.236510753631591796875f, -0.214928567409515380859375f), _2691);
    float _2693 = dp3_f32(float3(-0.07655377686023712158203125f, 1.1762297153472900390625f, -0.0996759235858917236328125f), _2691);
    float _2694 = dp3_f32(float3(0.0083161480724811553955078125f, -0.0060324496589601039886474609375f, 0.99771630764007568359375f), _2691);
    float _2698 = (_2692 <= 0.0f) ? (-4.0f) : (log2(_2692) * 0.3010300099849700927734375f);
    float _2702 = log2(cb1_m[19u].y);
    float _2703 = _2702 * 0.3010300099849700927734375f;
    float _2811;
    if (_2703 >= _2698)
    {
        _2811 = mad(cb1_m[21u].x, _2698, (log2(cb1_m[19u].z) * 0.3010300099849700927734375f) - (_2703 * cb1_m[21u].x));
    }
    else
    {
        float _2720 = log2(cb1_m[20u].x);
        float _2721 = _2720 * 0.3010300099849700927734375f;
        float _2810;
        if ((_2703 < _2698) && (_2721 > _2698))
        {
            float _2730 = (mad(_2702, -0.3010300099849700927734375f, _2698) * 7.0f) / (_2721 - _2703);
            int _2731 = cvt_f32_i32(_2730);
            float _2733 = _2730 - trunc(_2730);
            uint _2735 = uint(_2731 + 1);
            uint _2737 = uint(_2731 + 2);
            uint _2739 = uint(_2731);
            float2 _2751 = float2(cb1_m[_2739].x, cb1_m[_2735].x);
            _2810 = dp3_f32(float3(_2733 * _2733, _2733, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(cb1_m[_2739].x, cb1_m[_2735].x, cb1_m[_2737].x)), dp2_f32(float2(-1.0f, 1.0f), _2751), dp2_f32(0.5f.xx, _2751)));
        }
        else
        {
            float _2761 = log2(cb1_m[20u].z) * 0.3010300099849700927734375f;
            float _2809;
            if ((_2721 <= _2698) && (_2761 > _2698))
            {
                float _2770 = (mad(_2720, -0.3010300099849700927734375f, _2698) * 7.0f) / (_2761 - _2721);
                int _2771 = cvt_f32_i32(_2770);
                float _2773 = _2770 - trunc(_2770);
                uint _2778 = uint(_2771 + 10);
                uint _2783 = uint((_2771 + 1) + 10);
                uint _2788 = uint((_2771 + 2) + 10);
                float2 _2794 = float2(cb1_m[_2778].x, cb1_m[_2783].x);
                _2809 = dp3_f32(float3(_2773 * _2773, _2773, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(cb1_m[_2778].x, cb1_m[_2783].x, cb1_m[_2788].x)), dp2_f32(float2(-1.0f, 1.0f), _2794), dp2_f32(0.5f.xx, _2794)));
            }
            else
            {
                _2809 = mad(cb1_m[21u].y, _2698, (log2(cb1_m[20u].w) * 0.3010300099849700927734375f) - (_2761 * cb1_m[21u].y));
            }
            _2810 = _2809;
        }
        _2811 = _2810;
    }
    float _2815 = (_2693 <= 0.0f) ? (-4.0f) : (log2(_2693) * 0.3010300099849700927734375f);
    float _2923;
    if (_2703 >= _2815)
    {
        _2923 = mad(cb1_m[21u].x, _2815, (log2(cb1_m[19u].z) * 0.3010300099849700927734375f) - (_2703 * cb1_m[21u].x));
    }
    else
    {
        float _2832 = log2(cb1_m[20u].x);
        float _2833 = _2832 * 0.3010300099849700927734375f;
        float _2922;
        if ((_2703 < _2815) && (_2833 > _2815))
        {
            float _2842 = (mad(_2702, -0.3010300099849700927734375f, _2815) * 7.0f) / (_2833 - _2703);
            int _2843 = cvt_f32_i32(_2842);
            float _2845 = _2842 - trunc(_2842);
            uint _2847 = uint(_2843 + 1);
            uint _2849 = uint(_2843 + 2);
            uint _2851 = uint(_2843);
            float2 _2863 = float2(cb1_m[_2851].x, cb1_m[_2847].x);
            _2922 = dp3_f32(float3(_2845 * _2845, _2845, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(cb1_m[_2851].x, cb1_m[_2847].x, cb1_m[_2849].x)), dp2_f32(float2(-1.0f, 1.0f), _2863), dp2_f32(0.5f.xx, _2863)));
        }
        else
        {
            float _2873 = log2(cb1_m[20u].z) * 0.3010300099849700927734375f;
            float _2921;
            if ((_2833 <= _2815) && (_2873 > _2815))
            {
                float _2882 = (mad(_2832, -0.3010300099849700927734375f, _2815) * 7.0f) / (_2873 - _2833);
                int _2883 = cvt_f32_i32(_2882);
                float _2885 = _2882 - trunc(_2882);
                uint _2890 = uint(_2883 + 10);
                uint _2895 = uint((_2883 + 1) + 10);
                uint _2900 = uint((_2883 + 2) + 10);
                float2 _2906 = float2(cb1_m[_2890].x, cb1_m[_2895].x);
                _2921 = dp3_f32(float3(_2885 * _2885, _2885, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(cb1_m[_2890].x, cb1_m[_2895].x, cb1_m[_2900].x)), dp2_f32(float2(-1.0f, 1.0f), _2906), dp2_f32(0.5f.xx, _2906)));
            }
            else
            {
                _2921 = mad(cb1_m[21u].y, _2815, (log2(cb1_m[20u].w) * 0.3010300099849700927734375f) - (_2873 * cb1_m[21u].y));
            }
            _2922 = _2921;
        }
        _2923 = _2922;
    }
    float _2927 = (_2694 <= 0.0f) ? (-4.0f) : (log2(_2694) * 0.3010300099849700927734375f);
    float _3035;
    if (_2703 >= _2927)
    {
        _3035 = mad(cb1_m[21u].x, _2927, (log2(cb1_m[19u].z) * 0.3010300099849700927734375f) - (_2703 * cb1_m[21u].x));
    }
    else
    {
        float _2944 = log2(cb1_m[20u].x);
        float _2945 = _2944 * 0.3010300099849700927734375f;
        float _3034;
        if ((_2703 < _2927) && (_2945 > _2927))
        {
            float _2954 = (mad(_2702, -0.3010300099849700927734375f, _2927) * 7.0f) / (_2945 - _2703);
            int _2955 = cvt_f32_i32(_2954);
            float _2957 = _2954 - trunc(_2954);
            uint _2959 = uint(_2955 + 1);
            uint _2961 = uint(_2955 + 2);
            uint _2963 = uint(_2955);
            float2 _2975 = float2(cb1_m[_2963].x, cb1_m[_2959].x);
            _3034 = dp3_f32(float3(_2957 * _2957, _2957, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(cb1_m[_2963].x, cb1_m[_2959].x, cb1_m[_2961].x)), dp2_f32(float2(-1.0f, 1.0f), _2975), dp2_f32(0.5f.xx, _2975)));
        }
        else
        {
            float _2985 = log2(cb1_m[20u].z) * 0.3010300099849700927734375f;
            float _3033;
            if ((_2945 <= _2927) && (_2985 > _2927))
            {
                float _2994 = (mad(_2944, -0.3010300099849700927734375f, _2927) * 7.0f) / (_2985 - _2945);
                int _2995 = cvt_f32_i32(_2994);
                float _2997 = _2994 - trunc(_2994);
                uint _3002 = uint(_2995 + 10);
                uint _3007 = uint((_2995 + 1) + 10);
                uint _3012 = uint((_2995 + 2) + 10);
                float2 _3018 = float2(cb1_m[_3002].x, cb1_m[_3007].x);
                _3033 = dp3_f32(float3(_2997 * _2997, _2997, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(cb1_m[_3002].x, cb1_m[_3007].x, cb1_m[_3012].x)), dp2_f32(float2(-1.0f, 1.0f), _3018), dp2_f32(0.5f.xx, _3018)));
            }
            else
            {
                _3033 = mad(cb1_m[21u].y, _2927, (log2(cb1_m[20u].w) * 0.3010300099849700927734375f) - (_2985 * cb1_m[21u].y));
            }
            _3034 = _3033;
        }
        _3035 = _3034;
    }
    if (_1565)
    {
        float3 _3047 = float3(exp2(_2811 * 3.3219280242919921875f) - 3.5073844628641381859779357910156e-05f, exp2(_2923 * 3.3219280242919921875f) - 3.5073844628641381859779357910156e-05f, exp2(_3035 * 3.3219280242919921875f) - 3.5073844628641381859779357910156e-05f);
        float3 _3051 = float3(dp3_f32(float3(0.662454187870025634765625f, 0.1340042054653167724609375f, 0.1561876833438873291015625f), _3047), dp3_f32(float3(0.272228717803955078125f, 0.674081742763519287109375f, 0.053689517080783843994140625f), _3047), dp3_f32(float3(-0.0055746496655046939849853515625f, 0.0040607335977256298065185546875f, 1.01033914089202880859375f), _3047));
        float3 _3055 = float3(dp3_f32(float3(0.98722398281097412109375f, -0.0061132698319852352142333984375f, 0.01595330052077770233154296875f), _3051), dp3_f32(float3(-0.007598360069096088409423828125f, 1.00186002254486083984375f, 0.0053301998414099216461181640625f), _3051), dp3_f32(float3(0.003072570078074932098388671875f, -0.0050959498621523380279541015625f, 1.0816800594329833984375f), _3051));
        float _3064 = exp2(log2(abs(dp3_f32(float3(1.71665096282958984375f, -0.35567080974578857421875f, -0.2533662319183349609375f), _3055) * 9.9999997473787516355514526367188e-05f)) * 0.1593017578125f);
        float _3075 = exp2(log2(abs(dp3_f32(float3(-0.666684329509735107421875f, 1.616481304168701171875f, 0.0157685391604900360107421875f), _3055) * 9.9999997473787516355514526367188e-05f)) * 0.1593017578125f);
        float _3085 = exp2(log2(abs(dp3_f32(float3(0.0176398493349552154541015625f, -0.04277060925960540771484375f, 0.94210326671600341796875f), _3055) * 9.9999997473787516355514526367188e-05f)) * 0.1593017578125f);
        u0[_1529] = float4(min(exp2(log2(mad(_3064, 18.8515625f, 0.8359375f) / mad(_3064, 18.6875f, 1.0f)) * 78.84375f), 1.0f), min(exp2(log2(mad(_3075, 18.8515625f, 0.8359375f) / mad(_3075, 18.6875f, 1.0f)) * 78.84375f), 1.0f), min(exp2(log2(mad(_3085, 18.8515625f, 0.8359375f) / mad(_3085, 18.6875f, 1.0f)) * 78.84375f), 1.0f), 1.0f);
    }
}

[numthreads(8, 8, 1)]
void main(SPIRV_Cross_Input stage_input)
{
    gl_LocalInvocationID = stage_input.gl_LocalInvocationID;
    gl_GlobalInvocationID = stage_input.gl_GlobalInvocationID;
    comp_main();
}
