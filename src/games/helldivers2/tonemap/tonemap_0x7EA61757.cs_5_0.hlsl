#include "../common.hlsl"
struct _416
{
    uint2 _m0;
    uint _m1;
};

struct _2350
{
    uint3 _m0;
    uint _m1;
};

static const float _2484[30] = { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f };
static const float _64[10][30] = { { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f }, { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f }, { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f }, { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f }, { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f }, { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f }, { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f }, { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f }, { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f }, { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f } };
static const float _69[1] = { 0.0f };
static const float4 _353[5] = { float4(1.0f, 0.0f, 0.0f, 0.0f), float4(0.0f, 1.0f, 0.0f, 0.0f), float4(0.0f, 0.0f, 1.0f, 0.0f), float4(0.0f, 0.0f, 0.0f, 1.0f), 0.0f.xxxx };

cbuffer cb0_buf : register(b0)
{
    uint4 cb0_m[44] : packoffset(c0);
};

cbuffer cb1_buf : register(b1)
{
    float4 cb1_m[20] : packoffset(c0);
};

SamplerState s0 : register(s0);
SamplerState s1 : register(s1);
SamplerState s2 : register(s2);
SamplerState s3 : register(s3);
SamplerState s4 : register(s4);
SamplerState s5 : register(s5);
SamplerState s6 : register(s6);
SamplerState s7 : register(s7);
SamplerState s8 : register(s8);
SamplerState s9 : register(s9);
Buffer<float4> t0 : register(t0);
Texture2D<float4> t1 : register(t1);
Texture2D<float4> t2 : register(t2);
Texture2D<float4> t3 : register(t3);
Texture2D<float4> t4 : register(t4);
Texture2D<float4> t5 : register(t5);
Texture2D<float4> t6 : register(t6);
Texture2D<float4> t7 : register(t7);
Texture2D<float4> t8 : register(t8);
Texture2D<float4> t9 : register(t9);
Texture2D<float4> t10 : register(t10);
Texture3D<float4> t11 : register(t11);
Buffer<float4> t12 : register(t12);
Buffer<float4> t13 : register(t13);
RWTexture2D<float4> u0 : register(u0);
RWTexture2D<float4> u1 : register(u1);
RWTexture2D<float4> u2 : register(u2);

static uint3 gl_LocalInvocationID;
static uint3 gl_GlobalInvocationID;
struct SPIRV_Cross_Input
{
    uint3 gl_LocalInvocationID : SV_GroupThreadID;
    uint3 gl_GlobalInvocationID : SV_DispatchThreadID;
};

groupshared float g0[10][30];
groupshared float g1[1];



uint3 spvTextureSize(Texture3D<float4> Tex, uint Level, out uint Param)
{
    uint3 ret;
    Tex.GetDimensions(Level, ret.x, ret.y, ret.z, Param);
    return ret;
}

uint2 spvImageSize(RWTexture2D<float4> Tex, out uint Param)
{
    uint2 ret;
    Tex.GetDimensions(ret.x, ret.y);
    Param = 0u;
    return ret;
}

uint spvBitfieldInsert(uint Base, uint Insert, uint Offset, uint Count)
{
    uint Mask = Count == 32 ? 0xffffffff : (((1u << Count) - 1) << (Offset & 31));
    return (Base & ~Mask) | ((Insert << Offset) & Mask);
}

uint2 spvBitfieldInsert(uint2 Base, uint2 Insert, uint Offset, uint Count)
{
    uint Mask = Count == 32 ? 0xffffffff : (((1u << Count) - 1) << (Offset & 31));
    return (Base & ~Mask) | ((Insert << Offset) & Mask);
}

uint3 spvBitfieldInsert(uint3 Base, uint3 Insert, uint Offset, uint Count)
{
    uint Mask = Count == 32 ? 0xffffffff : (((1u << Count) - 1) << (Offset & 31));
    return (Base & ~Mask) | ((Insert << Offset) & Mask);
}

uint4 spvBitfieldInsert(uint4 Base, uint4 Insert, uint Offset, uint Count)
{
    uint Mask = Count == 32 ? 0xffffffff : (((1u << Count) - 1) << (Offset & 31));
    return (Base & ~Mask) | ((Insert << Offset) & Mask);
}

uint spvBitfieldUExtract(uint Base, uint Offset, uint Count)
{
    uint Mask = Count == 32 ? 0xffffffff : ((1 << Count) - 1);
    return (Base >> Offset) & Mask;
}

uint2 spvBitfieldUExtract(uint2 Base, uint Offset, uint Count)
{
    uint Mask = Count == 32 ? 0xffffffff : ((1 << Count) - 1);
    return (Base >> Offset) & Mask;
}

uint3 spvBitfieldUExtract(uint3 Base, uint Offset, uint Count)
{
    uint Mask = Count == 32 ? 0xffffffff : ((1 << Count) - 1);
    return (Base >> Offset) & Mask;
}

uint4 spvBitfieldUExtract(uint4 Base, uint Offset, uint Count)
{
    uint Mask = Count == 32 ? 0xffffffff : ((1 << Count) - 1);
    return (Base >> Offset) & Mask;
}

int spvBitfieldSExtract(int Base, int Offset, int Count)
{
    int Mask = Count == 32 ? -1 : ((1 << Count) - 1);
    int Masked = (Base >> Offset) & Mask;
    int ExtendShift = (32 - Count) & 31;
    return (Masked << ExtendShift) >> ExtendShift;
}

int2 spvBitfieldSExtract(int2 Base, int Offset, int Count)
{
    int Mask = Count == 32 ? -1 : ((1 << Count) - 1);
    int2 Masked = (Base >> Offset) & Mask;
    int ExtendShift = (32 - Count) & 31;
    return (Masked << ExtendShift) >> ExtendShift;
}

int3 spvBitfieldSExtract(int3 Base, int Offset, int Count)
{
    int Mask = Count == 32 ? -1 : ((1 << Count) - 1);
    int3 Masked = (Base >> Offset) & Mask;
    int ExtendShift = (32 - Count) & 31;
    return (Masked << ExtendShift) >> ExtendShift;
}

int4 spvBitfieldSExtract(int4 Base, int Offset, int Count)
{
    int Mask = Count == 32 ? -1 : ((1 << Count) - 1);
    int4 Masked = (Base >> Offset) & Mask;
    int ExtendShift = (32 - Count) & 31;
    return (Masked << ExtendShift) >> ExtendShift;
}

float dp2_f32(float2 a, float2 b)
{
    precise float _407 = a.x * b.x;
    return mad(a.y, b.y, _407);
}

float dp3_f32(float3 a, float3 b)
{
    precise float _393 = a.x * b.x;
    return mad(a.z, b.z, mad(a.y, b.y, _393));
}

float dp4_f32(float4 a, float4 b)
{
    precise float _375 = a.x * b.x;
    return mad(a.w, b.w, mad(a.z, b.z, mad(a.y, b.y, _375)));
}

void comp_main()
{
    uint _415_dummy_parameter;
    _416 _417 = { spvImageSize(u0, _415_dummy_parameter), 1u };
    uint _429 = gl_GlobalInvocationID.x - gl_LocalInvocationID.x;
    uint _430 = gl_GlobalInvocationID.y - gl_LocalInvocationID.y;
    uint _432 = gl_LocalInvocationID.x + (gl_LocalInvocationID.y * 8u);
    uint _433 = spvBitfieldUExtract(_432, 1u, 3u);
    uint _435 = spvBitfieldInsert(spvBitfieldUExtract(gl_LocalInvocationID.y, 0u, 29u), _432, 0u, 1u);
    uint _436 = _429 + _433;
    uint _437 = _435 + _430;
    float _442 = float(_417._m0.x);
    float _443 = float(_417._m0.y);
    float _444 = (float(_436) + 0.5f) / _442;
    float _445 = (float(_437) + 0.5f) / _443;
    bool _449 = (_417._m0.x < _436) || (_417._m0.y < _437);
    bool _454 = cb1_m[3u].y == 1.0f;
    if (((gl_LocalInvocationID.x == 0u) && _454) && (gl_LocalInvocationID.y == 0u))
    {
        g1[0u] = t8.Load(int3(uint2(0u, 0u), 0u)).x;
    }
    GroupMemoryBarrierWithGroupSync();
    if (_432 < 36u)
    {
        bool _482 = _432 < 4u;
        bool _483 = _432 < 12u;
        bool _484 = _432 < 20u;
        bool _485 = _432 < 28u;
        uint _496 = _482 ? ((_432 >> 1u) * 9u) : (_483 ? 0u : (_484 ? 9u : (_485 ? (((_432 - 20u) & 7u) + 1u) : (((_432 - 28u) & 7u) + 1u))));
        uint _497 = _482 ? ((_432 & 1u) * 9u) : (_483 ? (((_432 - 4u) & 7u) + 1u) : (_484 ? (((_432 - 12u) & 7u) + 1u) : (_485 ? 0u : 9u)));
        float _498 = 1.0f / _442;
        float _499 = 1.0f / _443;
        float _518 = clamp((_498 * (float(int(_496 - 1u)) + 0.5f)) + (_498 * float(int(_429))), 0.0f, 1.0f);
        float _519 = clamp(((float(int(_497 - 1u)) + 0.5f) * _499) + (float(int(_430)) * _499), 0.0f, 1.0f);
        float2 _522 = float2(_518, _519);
        float _527 = mad(t6.SampleLevel(s5, _522, 0.0f).x, 2.0f, -1.0f);
        float _542;
        if (_527 > 0.0f)
        {
            _542 = min(sqrt(_527), t0.Load(8u).x);
        }
        else
        {
            _542 = max(_527, -t0.Load(7u).x);
        }
        float4 _546 = t5.SampleLevel(s4, _522, 0.0f);
        float2 _556 = float2(_546.x * cb1_m[2u].z, _546.y * cb1_m[2u].w);
        bool _568 = (cb1_m[7u].z != 0.0f) && (cb1_m[7u].w != 0.0f);
        bool _572 = (cb1_m[6u].w != 0.0f) && (cb1_m[7u].x != 0.0f);
        float _584 = exp2(max(_568 ? clamp((sqrt(dp2_f32(_556, _556)) - 2.0f) * 0.0555555559694766998291015625f, 0.0f, 1.0f) : 0.0f, _572 ? clamp((abs(_542) - 0.0471399985253810882568359375f) * 1.0494720935821533203125f, 0.0f, 1.0f) : 0.0f) * (-4.3280849456787109375f));
        float _586 = _518 - 0.5f;
        float _587 = _519 - 0.5f;
        float2 _588 = float2(_586, _587);
        float _592 = mad(dp2_f32(_588, _588), cb1_m[18u].x, 1.0f);
        float _614 = mad(exp2(log2(clamp(cb1_m[18u].x, 0.0f, 1.0f)) * 0.75f), -0.339999973773956298828125f, 1.0f) * mad(cb1_m[18u].y, -0.089999973773956298828125f, 1.0f);
        float _615 = (_592 * mad(mad(cb1_m[18u].z, -0.001999996602535247802734375f, 0.092000000178813934326171875f), cb1_m[18u].y, 1.0f)) * _614;
        float _616 = _614 * (_592 * mad(mad(cb1_m[18u].z, 0.04500000178813934326171875f, 0.046999998390674591064453125f), cb1_m[18u].y, 1.0f));
        float _617 = _614 * (_592 * mad(mad(cb1_m[18u].z, 0.0f, 0.04500000178813934326171875f), cb1_m[18u].y, 1.0f));
        float _618 = mad(_586, _615, 0.5f);
        float _619 = mad(_615, _587, 0.5f);
        float _620 = mad(_586, _616, 0.5f);
        float _621 = mad(_616, _587, 0.5f);
        float2 _624 = float2(_618, _619);
        float4 _626 = t1.SampleLevel(s0, _624, 0.0f);
        float _627 = _626.x;
        bool _628 = _572 || _568;
        float _662;
        if (_628)
        {
            float4 _634 = t2.SampleLevel(s1, _624, 0.0f);
            float _635 = _634.x;
            float _643 = asfloat(cb0_m[43u].w) * 20.0f;
            float _659 = mad(mad(t9.SampleLevel(s7, float2(mad(_618, 30.0f, sin(_643)), mad(_619, 30.0f, cos(_643))), 0.0f).x, 0.00999999977648258209228515625f, -0.004999999888241291046142578125f), sqrt(max(max(_635, max(_634.y, _634.z)), 1.0000000133514319600180897396058e-10f)), _635);
            _662 = mad(_584, _627 - _659, _659);
        }
        else
        {
            _662 = _627;
        }
        float2 _663 = float2(_620, _621);
        float4 _665 = t1.SampleLevel(s0, _663, 0.0f);
        float _666 = _665.y;
        float _699;
        if (_628)
        {
            float4 _672 = t2.SampleLevel(s1, _663, 0.0f);
            float _674 = _672.y;
            float _680 = asfloat(cb0_m[43u].w) * 20.0f;
            float _696 = mad(mad(t9.SampleLevel(s7, float2(mad(_620, 30.0f, sin(_680)), mad(_621, 30.0f, cos(_680))), 0.0f).x, 0.00999999977648258209228515625f, -0.004999999888241291046142578125f), sqrt(max(max(_672.x, max(_674, _672.z)), 1.0000000133514319600180897396058e-10f)), _674);
            _699 = mad(_584, _666 - _696, _696);
        }
        else
        {
            _699 = _666;
        }
        float _700 = mad(_586, _617, 0.5f);
        float _701 = mad(_617, _587, 0.5f);
        float2 _702 = float2(_700, _701);
        float4 _704 = t1.SampleLevel(s0, _702, 0.0f);
        float _705 = _704.z;
        float _738;
        if (_628)
        {
            float4 _711 = t2.SampleLevel(s1, _702, 0.0f);
            float _714 = _711.z;
            float _719 = asfloat(cb0_m[43u].w) * 20.0f;
            float _735 = mad(mad(t9.SampleLevel(s7, float2(mad(_700, 30.0f, sin(_719)), mad(_701, 30.0f, cos(_719))), 0.0f).x, 0.00999999977648258209228515625f, -0.004999999888241291046142578125f), sqrt(max(max(_711.x, max(_711.y, _714)), 1.0000000133514319600180897396058e-10f)), _714);
            _738 = mad(_584, _705 - _735, _735);
        }
        else
        {
            _738 = _705;
        }
        float _743 = _454 ? g1[0u] : cb1_m[3u].x;
        float4 _747 = t7.SampleLevel(s6, _522, 0.0f);
        float _748 = _747.x;
        float _756 = max(cb1_m[3u].w - dp3_f32(float3(_748, _747.yz), float3(0.21269999444484710693359375f, 0.715200006961822509765625f, 0.07209999859333038330078125f)), 6.099999882280826568603515625e-05f);
        float _760 = mad(_743, _662, _748 / _756);
        float _761 = mad(_743, _699, _747.y / _756);
        float _762 = mad(_743, _738, _747.z / _756);
        float _766 = 1.0f / (max(_760, max(_762, _761)) + 1.0f);
        float _767 = _760 * _766;
        float _769 = _766 * _762;
        float3 _770 = float3(_767, _769, _766 * _761);
        uint _775 = (_497 * 12u) >> 2u;
        g0[_496][_775] = dp3_f32(_770, float3(0.25f, 0.25f, 0.5f));
        uint _778 = _775 + 1u;
        g0[_496][_778] = dp2_f32(float2(_767, _769), float2(0.5f, -0.5f));
        uint _781 = _775 + 2u;
        g0[_496][_781] = dp3_f32(_770, float3(-0.25f, -0.25f, 0.5f));
    }
    float2 _786 = float2(_444, _445);
    float _790 = mad(t6.SampleLevel(s5, _786, 0.0f).x, 2.0f, -1.0f);
    float _805;
    if (_790 > 0.0f)
    {
        _805 = min(sqrt(_790), t0.Load(8u).x);
    }
    else
    {
        _805 = max(_790, -t0.Load(7u).x);
    }
    float4 _809 = t5.SampleLevel(s4, _786, 0.0f);
    float _810 = _809.x;
    float _811 = _809.y;
    float2 _822 = float2(_810 * cb1_m[2u].z, _811 * cb1_m[2u].w);
    bool _834 = (cb1_m[7u].z != 0.0f) && (cb1_m[7u].w != 0.0f);
    bool _838 = (cb1_m[6u].w != 0.0f) && (cb1_m[7u].x != 0.0f);
    float _842 = abs(_805);
    float _850 = exp2(max(_834 ? clamp((sqrt(dp2_f32(_822, _822)) - 2.0f) * 0.0555555559694766998291015625f, 0.0f, 1.0f) : 0.0f, _838 ? clamp((_842 - 0.0471399985253810882568359375f) * 1.0494720935821533203125f, 0.0f, 1.0f) : 0.0f) * (-4.3280849456787109375f));
    float _851 = _444 - 0.5f;
    float _852 = _445 - 0.5f;
    float2 _853 = float2(_851, _852);
    float _854 = dp2_f32(_853, _853);
    float _857 = mad(_854, cb1_m[18u].x, 1.0f);
    float _879 = mad(exp2(log2(clamp(cb1_m[18u].x, 0.0f, 1.0f)) * 0.75f), -0.339999973773956298828125f, 1.0f) * mad(cb1_m[18u].y, -0.089999973773956298828125f, 1.0f);
    float _880 = (_857 * mad(mad(cb1_m[18u].z, -0.001999996602535247802734375f, 0.092000000178813934326171875f), cb1_m[18u].y, 1.0f)) * _879;
    float _881 = _879 * (_857 * mad(mad(cb1_m[18u].z, 0.04500000178813934326171875f, 0.046999998390674591064453125f), cb1_m[18u].y, 1.0f));
    float _882 = _879 * (_857 * mad(mad(cb1_m[18u].z, 0.0f, 0.04500000178813934326171875f), cb1_m[18u].y, 1.0f));
    float _883 = mad(_851, _880, 0.5f);
    float _884 = mad(_880, _852, 0.5f);
    float _885 = mad(_851, _881, 0.5f);
    float _886 = mad(_881, _852, 0.5f);
    float2 _889 = float2(_883, _884);
    float4 _891 = t1.SampleLevel(s0, _889, 0.0f);
    float _892 = _891.x;
    bool _893 = _838 || _834;
    float _926;
    if (_893)
    {
        float4 _899 = t2.SampleLevel(s1, _889, 0.0f);
        float _900 = _899.x;
        float _907 = asfloat(cb0_m[43u].w) * 20.0f;
        float _923 = mad(mad(t9.SampleLevel(s7, float2(mad(_883, 30.0f, sin(_907)), mad(_884, 30.0f, cos(_907))), 0.0f).x, 0.00999999977648258209228515625f, -0.004999999888241291046142578125f), sqrt(max(max(_900, max(_899.y, _899.z)), 1.0000000133514319600180897396058e-10f)), _900);
        _926 = mad(_850, _892 - _923, _923);
    }
    else
    {
        _926 = _892;
    }
    float2 _927 = float2(_885, _886);
    float4 _929 = t1.SampleLevel(s0, _927, 0.0f);
    float _930 = _929.y;
    float _963;
    if (_893)
    {
        float4 _936 = t2.SampleLevel(s1, _927, 0.0f);
        float _938 = _936.y;
        float _944 = asfloat(cb0_m[43u].w) * 20.0f;
        float _960 = mad(mad(t9.SampleLevel(s7, float2(mad(_885, 30.0f, sin(_944)), mad(_886, 30.0f, cos(_944))), 0.0f).x, 0.00999999977648258209228515625f, -0.004999999888241291046142578125f), sqrt(max(max(_936.x, max(_938, _936.z)), 1.0000000133514319600180897396058e-10f)), _938);
        _963 = mad(_850, _930 - _960, _960);
    }
    else
    {
        _963 = _930;
    }
    float _964 = mad(_851, _882, 0.5f);
    float _965 = mad(_882, _852, 0.5f);
    float2 _966 = float2(_964, _965);
    float4 _968 = t1.SampleLevel(s0, _966, 0.0f);
    float _969 = _968.z;
    float _1002;
    if (_893)
    {
        float4 _975 = t2.SampleLevel(s1, _966, 0.0f);
        float _978 = _975.z;
        float _983 = asfloat(cb0_m[43u].w) * 20.0f;
        float _999 = mad(mad(t9.SampleLevel(s7, float2(mad(_964, 30.0f, sin(_983)), mad(_965, 30.0f, cos(_983))), 0.0f).x, 0.00999999977648258209228515625f, -0.004999999888241291046142578125f), sqrt(max(max(_975.x, max(_975.y, _978)), 1.0000000133514319600180897396058e-10f)), _978);
        _1002 = mad(_850, _969 - _999, _999);
    }
    else
    {
        _1002 = _969;
    }
    float _1007 = _454 ? g1[0u] : cb1_m[3u].x;
    float4 _1011 = t7.SampleLevel(s6, _786, 0.0f);
    float _1012 = _1011.x;
    float _1020 = max(cb1_m[3u].w - dp3_f32(float3(_1012, _1011.yz), float3(0.21269999444484710693359375f, 0.715200006961822509765625f, 0.07209999859333038330078125f)), 6.099999882280826568603515625e-05f);
    float _1024 = mad(_926, _1007, _1012 / _1020);
    float _1025 = mad(_963, _1007, _1011.y / _1020);
    float _1026 = mad(_1002, _1007, _1011.z / _1020);
    float _1030 = 1.0f / (max(_1024, max(_1026, _1025)) + 1.0f);
    float _1031 = _1024 * _1030;
    float _1033 = _1030 * _1026;
    float3 _1034 = float3(_1031, _1033, _1030 * _1025);
    float _1035 = dp3_f32(_1034, float3(0.25f, 0.25f, 0.5f));
    float _1036 = dp3_f32(_1034, float3(-0.25f, -0.25f, 0.5f));
    float _1038 = dp2_f32(float2(_1031, _1033), float2(0.5f, -0.5f));
    uint _1039 = _433 + 1u;
    uint _1040 = _433 + 2u;
    uint _1041 = _435 * 12u;
    uint _1044 = (_1041 + 12u) >> 2u;
    g0[_1039][_1044] = _1035;
    uint _1047 = _1044 + 1u;
    g0[_1039][_1047] = _1038;
    uint _1050 = _1044 + 2u;
    g0[_1039][_1050] = _1036;
    float2 _1053 = float2(_810 * cb1_m[2u].x, _811 * cb1_m[2u].y);
    float _1057 = min(sqrt(dp2_f32(_1053, _1053)) * 0.07500000298023223876953125f, 1.0f);
    float _1058 = _444 - _810;
    float _1059 = _445 - _811;
    float _1067 = (max(abs(mad(_1059, 2.0f, -1.0f)), abs(mad(_1058, 2.0f, -1.0f))) >= 1.0f) ? (-_1057) : _1057;
    float _1074 = floor(mad(cb1_m[2u].x, _1058, -0.5f));
    float _1075 = floor(mad(_1059, cb1_m[2u].y, -0.5f));
    float _1076 = _1074 + 0.5f;
    float _1077 = _1075 + 0.5f;
    float _1081 = mad(cb1_m[2u].x, _1058, -_1076);
    float _1083 = mad(_1059, cb1_m[2u].y, -_1077);
    float _1085 = mad(-cb1_m[2u].x, _1058, _1076);
    float _1087 = mad(-_1059, cb1_m[2u].y, _1077);
    float _1094 = mad(_1081, mad(_1085, 1.5f, 2.0f), 0.5f);
    float _1095 = mad(_1083, mad(_1087, 1.5f, 2.0f), 0.5f);
    float _1096 = _1081 * _1081;
    float _1097 = _1083 * _1083;
    float _1102 = _1096 * mad(_1081, 0.5f, -0.5f);
    float _1103 = mad(_1083, 0.5f, -0.5f) * _1097;
    float _1106 = _1081 * mad(_1081, mad(_1085, 0.5f, 1.0f), -0.5f);
    float _1107 = _1083 * mad(_1083, mad(_1087, 0.5f, 1.0f), -0.5f);
    float _1110 = mad(_1081, _1094, mad(_1096, mad(_1081, 1.5f, -2.5f), 1.0f));
    float _1111 = mad(_1083, _1095, mad(mad(_1083, 1.5f, -2.5f), _1097, 1.0f));
    float _1118 = (_1074 - 0.5f) / cb1_m[2u].x;
    float _1119 = (_1075 - 0.5f) / cb1_m[2u].y;
    float _1120 = (_1074 + 2.5f) / cb1_m[2u].x;
    float _1121 = (_1075 + 2.5f) / cb1_m[2u].y;
    float _1122 = (_1077 + ((_1083 * _1095) / _1111)) / cb1_m[2u].y;
    float _1123 = (_1076 + ((_1081 * _1094) / _1110)) / cb1_m[2u].x;
    float4 _1128 = t3.SampleLevel(s2, float2(_1118, _1119), 0.0f);
    float4 _1137 = t3.SampleLevel(s2, float2(_1120, _1119), 0.0f);
    float4 _1155 = t3.SampleLevel(s2, float2(_1123, _1119), 0.0f);
    float4 _1167 = t3.SampleLevel(s2, float2(_1118, _1122), 0.0f);
    float4 _1179 = t3.SampleLevel(s2, float2(_1123, _1122), 0.0f);
    float4 _1191 = t3.SampleLevel(s2, float2(_1120, _1122), 0.0f);
    float4 _1203 = t3.SampleLevel(s2, float2(_1118, _1121), 0.0f);
    float4 _1215 = t3.SampleLevel(s2, float2(_1123, _1121), 0.0f);
    float4 _1227 = t3.SampleLevel(s2, float2(_1120, _1121), 0.0f);
    float _1234 = mad(_1102 * _1227.x, _1103, mad(_1110 * _1215.x, _1103, mad(_1106 * _1203.x, _1103, mad(_1102 * _1191.x, _1111, mad(_1110 * _1179.x, _1111, mad(_1106 * _1167.x, _1111, mad(_1110 * _1155.x, _1107, ((_1102 * _1137.x) * _1107) + ((_1106 * _1128.x) * _1107))))))));
    float _1236 = mad(_1102 * _1227.z, _1103, mad(_1110 * _1215.z, _1103, mad(_1106 * _1203.z, _1103, mad(_1102 * _1191.z, _1111, mad(_1110 * _1179.z, _1111, mad(_1106 * _1167.z, _1111, mad(_1110 * _1155.z, _1107, ((_1106 * _1128.z) * _1107) + ((_1102 * _1137.z) * _1107))))))));
    float3 _1237 = float3(_1234, _1236, mad(_1102 * _1227.y, _1103, mad(_1110 * _1215.y, _1103, mad(_1106 * _1203.y, _1103, mad(_1102 * _1191.y, _1111, mad(_1110 * _1179.y, _1111, mad(_1106 * _1167.y, _1111, mad(_1110 * _1155.y, _1107, ((_1106 * _1128.y) * _1107) + ((_1102 * _1137.y) * _1107)))))))));
    float _1238 = dp3_f32(_1237, float3(0.25f, 0.25f, 0.5f));
    float _1239 = dp3_f32(_1237, float3(-0.25f, -0.25f, 0.5f));
    float _1241 = dp2_f32(float2(_1234, _1236), float2(0.5f, -0.5f));
    GroupMemoryBarrierWithGroupSync();
    uint _1242 = _1041 >> 2u;
    uint _1246 = _1242 + 1u;
    uint _1250 = _1242 + 2u;
    uint _1336 = (_1041 + 24u) >> 2u;
    uint _1340 = _1336 + 1u;
    uint _1344 = _1336 + 2u;
    float _1365 = min(min(min(min(_1035, g0[_1039][_1242]), g0[_433][_1044]), g0[_1040][_1044]), g0[_1039][_1336]);
    float _1366 = max(max(max(max(_1035, g0[_1039][_1242]), g0[_433][_1044]), g0[_1040][_1044]), g0[_1039][_1336]);
    float _1384 = (((((((_1035 + g0[_1039][_1242]) + g0[_433][_1242]) + g0[_433][_1044]) + g0[_1040][_1242]) + g0[_1040][_1044]) + g0[_433][_1336]) + g0[_1039][_1336]) + g0[_1040][_1336];
    float _1398 = _1384 * 0.111111111938953399658203125f;
    float _1399 = (g0[_1040][_1340] + (g0[_1039][_1340] + (g0[_433][_1340] + (g0[_1040][_1047] + (g0[_1040][_1246] + (g0[_433][_1047] + (g0[_433][_1246] + (_1038 + g0[_1039][_1246])))))))) * 0.111111111938953399658203125f;
    float _1400 = (g0[_1040][_1344] + (g0[_1039][_1344] + (g0[_433][_1344] + (g0[_1040][_1050] + (g0[_1040][_1250] + (g0[_433][_1050] + (g0[_433][_1250] + (_1036 + g0[_1039][_1250])))))))) * 0.111111111938953399658203125f;
    float _1419 = mad(_1238 / max(mad(_1384, 0.111111111938953399658203125f, _1238), 1.0000000116860974230803549289703e-07f), 0.5f, 0.75f);
    float _1420 = sqrt(max((mad(g0[_1040][_1336], g0[_1040][_1336], mad(g0[_1039][_1336], g0[_1039][_1336], mad(g0[_433][_1336], g0[_433][_1336], mad(g0[_1040][_1044], g0[_1040][_1044], mad(g0[_1040][_1242], g0[_1040][_1242], mad(g0[_433][_1044], g0[_433][_1044], mad(g0[_433][_1242], g0[_433][_1242], (g0[_1039][_1242] * g0[_1039][_1242]) + (_1035 * _1035)))))))) * 0.111111111938953399658203125f) - (_1398 * _1398), 1.0000000133514319600180897396058e-10f)) * _1419;
    float _1421 = _1419 * sqrt(max((mad(g0[_1040][_1340], g0[_1040][_1340], mad(g0[_1039][_1340], g0[_1039][_1340], mad(g0[_433][_1340], g0[_433][_1340], mad(g0[_1040][_1047], g0[_1040][_1047], mad(g0[_1040][_1246], g0[_1040][_1246], mad(g0[_433][_1047], g0[_433][_1047], mad(g0[_433][_1246], g0[_433][_1246], (_1038 * _1038) + (g0[_1039][_1246] * g0[_1039][_1246])))))))) * 0.111111111938953399658203125f) - (_1399 * _1399), 1.0000000133514319600180897396058e-10f));
    float _1422 = _1419 * sqrt(max((mad(g0[_1040][_1344], g0[_1040][_1344], mad(g0[_1039][_1344], g0[_1039][_1344], mad(g0[_433][_1344], g0[_433][_1344], mad(g0[_1040][_1050], g0[_1040][_1050], mad(g0[_1040][_1250], g0[_1040][_1250], mad(g0[_433][_1050], g0[_433][_1050], mad(g0[_433][_1250], g0[_433][_1250], (_1036 * _1036) + (g0[_1039][_1250] * g0[_1039][_1250])))))))) * 0.111111111938953399658203125f) - (_1400 * _1400), 1.0000000133514319600180897396058e-10f));
    float _1426 = _1398 + _1420;
    float _1427 = _1421 + _1399;
    float _1428 = _1422 + _1400;
    float _1429 = (_1398 - _1420) + _1426;
    float _1430 = _1427 + (_1399 - _1421);
    float _1431 = _1428 + (_1400 - _1422);
    float _1441 = mad(_1429, -0.5f, _1238);
    float _1442 = mad(_1430, -0.5f, _1241);
    float _1443 = mad(_1431, -0.5f, _1239);
    float _1451 = max(max(abs(_1442 / mad((_1421 - _1399) + _1427, 0.5f, 9.9999997473787516355514526367188e-05f)), abs(_1441 / mad(_1426 + (_1420 - _1398), 0.5f, 9.9999997473787516355514526367188e-05f))), abs(_1443 / mad((_1422 - _1400) + _1428, 0.5f, 9.9999997473787516355514526367188e-05f)));
    bool _1452 = _1451 > 1.0f;
    uint2 _1470 = uint2(_436, _437);
    float _1474 = max((_1238 / ((_1238 + (mad(_1366, 0.5f, max(_1366 * 0.5f, max(max(max(max(_1035, g0[_433][_1242]), g0[_1040][_1242]), g0[_433][_1336]), g0[_1040][_1336]) * 0.5f)) - mad(_1365, 0.5f, min(_1365 * 0.5f, min(min(min(min(_1035, g0[_433][_1242]), g0[_1040][_1242]), g0[_433][_1336]), g0[_1040][_1336]) * 0.5f)))) + 1.0000000116860974230803549289703e-07f)) * mad(abs(_1067), 0.85000002384185791015625f, 0.100000001490116119384765625f), u2[_1470].x * 0.75f);
    bool _1475 = _1067 < 0.0f;
    float _1476 = _1475 ? _1035 : (_1452 ? mad(_1429, 0.5f, _1441 / _1451) : _1238);
    float _1477 = _1475 ? _1038 : (_1452 ? mad(_1430, 0.5f, _1442 / _1451) : _1241);
    float _1478 = _1475 ? _1036 : (_1452 ? mad(_1431, 0.5f, _1443 / _1451) : _1239);
    float _1486 = clamp(mad(t4.SampleLevel(s3, _786, 0.0f).y, 1.0f - _1474, _1474), 0.0039215688593685626983642578125f, 0.949999988079071044921875f);
    float _1490 = mad(1.0f - _1486, cb1_m[0u].x, _1486);
    float _1494 = mad(_1490, _1035 - _1476, _1476);
    float _1495 = mad(_1490, _1038 - _1477, _1477);
    float _1496 = mad(_1490, _1036 - _1478, _1478);
    float _1497 = _1494 - _1496;
    float _1498 = _1497 + _1495;
    float _1499 = _1494 + _1496;
    float _1500 = _1497 - _1495;
    u1[_1470] = float4(_1498, _1499, _1500, 0.0f);
    u2[_1470] = _1490.xxxx;
    bool _1504 = !_449;
    float _1855;
    float _1856;
    float _1857;
    if (_1504)
    {
        float _1508 = dp3_f32(float3(_1498, _1499, _1500), float3(0.21269999444484710693359375f, 0.715200006961822509765625f, 0.07209999859333038330078125f));
        float _1515 = mad(-_842, cb1_m[7u].y, 1.0f) * cb1_m[6u].x;
        float _1519 = mad(_1515, _1498 - _1508, _1508);
        float _1520 = mad(_1515, _1499 - _1508, _1508);
        float _1521 = mad(_1515, _1500 - _1508, _1508);
        float _1522 = _852 + _852;
        float _1523 = _851 + _851;
        float _1524 = abs(_1523);
        float _1525 = abs(_1522);
        float _1529 = min(_1524, _1525) * (1.0f / max(_1524, _1525));
        float _1530 = _1529 * _1529;
        float _1534 = mad(_1530, mad(_1530, mad(_1530, mad(_1530, 0.02083509974181652069091796875f, -0.08513300120830535888671875f), 0.1801410019397735595703125f), -0.33029949665069580078125f), 0.999866008758544921875f);
        float _1543 = mad(_1529, _1534, (_1524 < _1525) ? mad(_1529 * _1534, -2.0f, 1.57079637050628662109375f) : 0.0f) + (((-_1523) > _1523) ? (-3.1415927410125732421875f) : 0.0f);
        float _1544 = min(_1522, _1523);
        float _1545 = max(_1522, _1523);
        float _1552 = ((_1544 < (-_1544)) && (_1545 >= (-_1545))) ? (-_1543) : _1543;
        float4 _1556 = t10.SampleLevel(s8, _786, 0.0f);
        float _1557 = _1556.x;
        float _1558 = _1556.y;
        float _1559 = _1556.z;
        float _1560 = _1556.w;
        float _1565 = (_1520 - _1521) * 1.73205077648162841796875f;
        float _1567 = mad(_1519, 2.0f, -_1520);
        float _1568 = _1567 - _1521;
        float _1569 = abs(_1568);
        float _1570 = abs(_1565);
        float _1574 = min(_1569, _1570) * (1.0f / max(_1569, _1570));
        float _1575 = _1574 * _1574;
        float _1579 = mad(_1575, mad(_1575, mad(_1575, mad(_1575, 0.02083509974181652069091796875f, -0.08513300120830535888671875f), 0.1801410019397735595703125f), -0.33029949665069580078125f), 0.999866008758544921875f);
        float _1588 = mad(_1574, _1579, (_1569 < _1570) ? mad(_1574 * _1579, -2.0f, 1.57079637050628662109375f) : 0.0f) + ((_1568 < (_1521 - _1567)) ? (-3.1415927410125732421875f) : 0.0f);
        float _1589 = min(_1565, _1568);
        float _1590 = max(_1565, _1568);
        float _1599 = ((_1519 == _1520) && (_1521 == _1520)) ? 0.0f : ((((_1589 < (-_1589)) && (_1590 >= (-_1590))) ? (-_1588) : _1588) * 57.295780181884765625f);
        float _1608 = mad(cb1_m[19u].x, -360.0f, (_1599 < 0.0f) ? (_1599 + 360.0f) : _1599);
        float _1618 = clamp(1.0f - (abs((_1608 < (-180.0f)) ? (_1608 + 360.0f) : ((_1608 > 180.0f) ? (_1608 - 360.0f) : _1608)) / (cb1_m[19u].y * 180.0f)), 0.0f, 1.0f);
        float _1623 = dp3_f32(float3(_1519, _1520, _1521), float3(0.21269999444484710693359375f, 0.715200006961822509765625f, 0.07209999859333038330078125f));
        float _1626 = (mad(_1618, -2.0f, 3.0f) * (_1618 * _1618)) * cb1_m[19u].z;
        float _1638 = mad(mad(_1626, _1519 - _1623, _1623) - _1519, cb1_m[18u].w, _1519);
        float _1639 = mad(cb1_m[18u].w, mad(_1626, _1520 - _1623, _1623) - _1520, _1520);
        float _1640 = mad(cb1_m[18u].w, mad(_1626, _1521 - _1623, _1623) - _1521, _1521);
        float _1642;
        _1642 = 0.0f;
        float _1643;
        uint _1646;
        uint _1645 = 0u;
        for (;;)
        {
            if (_1645 >= 8u)
            {
                break;
            }
            uint _1657 = min((_1645 & 3u), 4u);
            float _1677 = mad(float(_1645), 0.785398185253143310546875f, -_1552);
            float _1678 = _1677 + 1.57079637050628662109375f;
            _1643 = mad(_1560 * (dp4_f32(t12.Load((_1645 >> 2u) + 10u), float4(_353[_1657].x, _353[_1657].y, _353[_1657].z, _353[_1657].w)) * clamp((abs((_1678 > 3.1415927410125732421875f) ? (_1677 - 4.7123889923095703125f) : _1678) - 2.19911479949951171875f) * 2.1220657825469970703125f, 0.0f, 1.0f)), 1.0f - _1642, _1642);
            _1646 = _1645 + 1u;
            _1642 = _1643;
            _1645 = _1646;
            continue;
        }
        float _1689 = clamp(_1642, 0.0f, 1.0f);
        float _1707 = abs(t12.Load(8u).x);
        float2 _1710 = float2(_851 * 1.40999996662139892578125f, _852 * 1.40999996662139892578125f);
        float _1712 = sqrt(dp2_f32(_1710, _1710));
        float _1713 = min(_1712, 1.0f);
        float _1714 = _1713 * _1713;
        float _1719 = clamp(_1712 - 0.5f, 0.0f, 1.0f);
        float _1722 = (_1713 * _1714) + (mad(-_1713, _1714, 1.0f) * (_1719 * _1719));
        float _1723 = mad(mad(mad(sin(asfloat(cb0_m[43u].w) * 6.0f), 0.5f, 0.5f), 0.089999973773956298828125f, 0.910000026226043701171875f), _1707, -1.0f);
        float _1725 = _1558 + _1723;
        float _1727 = clamp((_1559 + _1723) * 1.53846156597137451171875f, 0.0f, 1.0f);
        float _1734 = clamp(_1725 + _1725, 0.0f, 1.0f);
        float _1751 = dp3_f32(float3(t13.Load(8u).xyz), float3(0.21269999444484710693359375f, 0.715200006961822509765625f, 0.07209999859333038330078125f));
        float _1757 = mad(sin(_1558 * 17.52899932861328125f) + 1.0f, -0.1149999797344207763671875f, 0.89999997615814208984375f) * mad(exp2(log2(abs(_1751)) * 0.699999988079071044921875f), 0.10000002384185791015625f, 0.89999997615814208984375f);
        float _1759 = _1757 * 0.02999999932944774627685546875f;
        float _1760 = mad(_1707, -0.3499999940395355224609375f, 0.3499999940395355224609375f);
        float _1764 = mad(mad(-_1722, _1722, 1.0f), 1.0f - _1760, _1760);
        float _1765 = min((exp2(log2(_1722) * 0.699999988079071044921875f) * (mad(_1734, -2.0f, 3.0f) * (_1734 * _1734))) + (mad(_1727, -2.0f, 3.0f) * (_1727 * _1727)), 1.0f);
        float _1775 = mad(_1765, mad(_1764, _1757 * 0.62000000476837158203125f, mad(_1638, _1689, -_1638)), mad(-_1638, _1689, _1638));
        float _1776 = mad(_1765, mad(_1764, _1759, mad(_1689, _1639, -_1639)), mad(-_1689, _1639, _1639));
        float _1777 = mad(_1765, mad(_1764, _1759, mad(_1689, _1640, -_1640)), mad(-_1689, _1640, _1640));
        float _1780 = mad(_1558, _1559 * (1.0f - _1560), _1560);
        float _1782;
        _1782 = 0.0f;
        float _1783;
        uint _1786;
        uint _1785 = 0u;
        for (;;)
        {
            if (int(_1785) >= 8)
            {
                break;
            }
            float4 _1793 = t12.Load(_1785);
            float _1795 = _1793.y;
            float _1797 = _1793.x - _1552;
            _1783 = mad(_1780 * (_1793.w * clamp((abs((_1797 > 3.1415927410125732421875f) ? (_1797 - 6.283185482025146484375f) : ((_1797 < (-3.1415927410125732421875f)) ? (_1797 + 6.283185482025146484375f) : _1797)) + (_1795 - 3.1415927410125732421875f)) / max(_1795 * 0.699999988079071044921875f, 0.001000000047497451305389404296875f), 0.0f, 1.0f)), 1.0f - _1782, _1782);
            _1786 = _1785 + 1u;
            _1782 = _1783;
            _1785 = _1786;
            continue;
        }
        float _1816 = clamp(_1782 + _1782, 0.0f, 1.0f) * 0.949999988079071044921875f;
        float _1820 = mad(_1816, 0.310000002384185791015625f - _1775, _1775);
        float _1821 = mad(_1816, 0.014999999664723873138427734375f - _1776, _1776);
        float _1822 = mad(_1816, 0.014999999664723873138427734375f - _1777, _1777);
        float4 _1823 = t12.Load(12u);
        float _1824 = _1823.x;
        float _1852;
        float _1853;
        float _1854;
        if (_1824 != 0.0f)
        {
            float _1831 = clamp(_1751, 0.0f, 1.0f);
            float _1841 = clamp((_1557 + (_1824 - 1.0f)) / max(mad(_1824, 0.5f, 0.5f), 0.001000000047497451305389404296875f), 0.0f, 1.0f);
            float _1845 = clamp(_1824 * 2.857142925262451171875f, 0.0f, 1.0f);
            float _1848 = mad(_1845, -2.0f, 3.0f) * (_1845 * _1845);
            _1852 = mad((_1831 * (_1557 * 0.790000021457672119140625f)) * _1841, _1848, _1820);
            _1853 = mad(_1848, _1841 * (_1831 * (_1557 * 0.85000002384185791015625f)), _1821);
            _1854 = mad(_1848, _1841 * (_1831 * (_1557 * 0.930000007152557373046875f)), _1822);
        }
        else
        {
            _1852 = _1820;
            _1853 = _1821;
            _1854 = _1822;
        }
        _1855 = _1852;
        _1856 = _1853;
        _1857 = _1854;
    }
    else
    {
        _1855 = _1498;
        _1856 = _1499;
        _1857 = _1500;
    }
    float _1862 = 1.0f / max(1.0f - max(max(_1856, _1857), _1855), 6.099999882280826568603515625e-05f);
    float _1869 = min(-(_1862 * _1855), 0.0f);
    float _1870 = min(-(_1862 * _1856), 0.0f);
    float _1871 = min(-(_1862 * _1857), 0.0f);
    float _1881 = clamp(-((1.0f / cb1_m[5u].y) * (sqrt(_854) - cb1_m[5u].x)), 0.0f, 1.0f);
    float _1882 = mad(_1881, -2.0f, 3.0f);
    float _1883 = _1881 * _1881;
    float _1884 = _1882 * _1883;
    float _1886 = mad(-_1882, _1883, 1.0f);
    float _1908 = cb1_m[5u].w * cb1_m[5u].z;
    float3 _1921 = float3(_449 ? (-_1869) : mad(_1869 + ((_1886 * cb1_m[4u].x) - (_1869 * _1884)), _1908, -_1869), _449 ? (-_1870) : mad(_1908, ((_1886 * cb1_m[4u].y) - (_1884 * _1870)) + _1870, -_1870), _449 ? (-_1871) : mad(_1908, ((_1886 * cb1_m[4u].z) - (_1884 * _1871)) + _1871, -_1871));
    float _1922 = dp3_f32(float3(0.4397009909152984619140625f, 0.3829779922962188720703125f, 0.1773349940776824951171875f), _1921);
    float _1923 = dp3_f32(float3(0.08979229629039764404296875f, 0.813422977924346923828125f, 0.09676159918308258056640625f), _1921);
    float _1924 = dp3_f32(float3(0.01754399947822093963623046875f, 0.11154399812221527099609375f, 0.870703995227813720703125f), _1921);
    bool _1927 = cb1_m[8u].x != 0.0f;
    float _1944;
    float _1945;
    float _1946;
    if (!_1927)
    {
        _1944 = clamp(mad(mad(cb1_m[9u].y, _1924, -0.1800537109375f), cb1_m[9u].x, 0.1800537109375f), 0.0f, 65504.0f);
        _1945 = clamp(mad(mad(cb1_m[9u].y, _1923, -0.1800537109375f), cb1_m[9u].x, 0.1800537109375f), 0.0f, 65504.0f);
        _1946 = clamp(mad(mad(cb1_m[9u].y, _1922, -0.1800537109375f), cb1_m[9u].x, 0.1800537109375f), 0.0f, 65504.0f);
    }
    else
    {
        _1944 = _1924;
        _1945 = _1923;
        _1946 = _1922;
    }
    float _1949 = mad(cb1_m[8u].y, -0.0005000000237487256526947021484375f, 0.312709987163543701171875f);
    float _1956 = mad(cb1_m[8u].z, 0.0005000000237487256526947021484375f, (_1949 * 2.86999988555908203125f) - ((_1949 * _1949) * 3.0f));
    float _1957 = _1956 - 0.2750950753688812255859375f;
    float _1958 = _1949 / _1957;
    float _1962 = ((1.0f - _1949) + (0.2750950753688812255859375f - _1956)) / _1957;
    float3 _1972 = float3(_1946, _1945, _1944);
    float3 _1979 = float3((0.94923698902130126953125f / mad(_1962, -0.1624000072479248046875f, mad(_1958, 0.732800006866455078125f, 0.4296000003814697265625f))) * dp3_f32(float3(0.390404999256134033203125f, 0.549941003322601318359375f, 0.008926319889724254608154296875f), _1972), dp3_f32(float3(0.070841602981090545654296875f, 0.963172018527984619140625f, 0.001357750035822391510009765625f), _1972) * (1.035419940948486328125f / mad(_1962, 0.006099999882280826568603515625f, mad(_1958, -0.703599989414215087890625f, 1.6974999904632568359375f))), dp3_f32(float3(0.02310819923877716064453125f, 0.1280210018157958984375f, 0.936245024204254150390625f), _1972) * (1.0872800350189208984375f / mad(_1962, 0.98339998722076416015625f, mad(_1958, 0.0030000000260770320892333984375f, 0.013600000180304050445556640625f))));
    float3 _1989 = float3(dp3_f32(float3(2.85846996307373046875f, -1.62879002094268798828125f, -0.0248910002410411834716796875f), _1979), dp3_f32(float3(-0.21018199622631072998046875f, 1.1582000255584716796875f, 0.0003242809907533228397369384765625f), _1979), dp3_f32(float3(-0.0418119989335536956787109375f, -0.118169002234935760498046875f, 1.0686700344085693359375f), _1979));
    float _1991 = dp3_f32(_1989, float3(cb1_m[9u].w, cb1_m[10u].xy));
    float _1997 = dp3_f32(_1989, float3(cb1_m[10u].zw, cb1_m[11u].x));
    float _2004 = dp3_f32(_1989, float3(cb1_m[11u].yzw));
    float _2006 = dp3_f32(float3(_1991, _1997, _2004), float3(0.21267290413379669189453125f, 0.715152204036712646484375f, 0.072175003588199615478515625f));
    float _2015 = clamp((_2006 - cb1_m[14u].w) * (1.0f / (cb1_m[15u].x - cb1_m[14u].w)), 0.0f, 1.0f);
    float _2019 = mad(-mad(_2015, -2.0f, 3.0f), _2015 * _2015, 1.0f);
    float _2028 = clamp((_2006 - cb1_m[15u].y) * (1.0f / (cb1_m[15u].z - cb1_m[15u].y)), 0.0f, 1.0f);
    float _2029 = mad(_2028, -2.0f, 3.0f);
    float _2030 = _2028 * _2028;
    float _2031 = _2029 * _2030;
    float _2034 = 1.0f - clamp(mad(_2029, _2030, _2019), 0.0f, 1.0f);
    float _2059;
    float _2060;
    float _2061;
    if (_1927)
    {
        _2059 = cb1_m[16u].y + 1.0f;
        _2060 = cb1_m[15u].w + 1.0f;
        _2061 = cb1_m[16u].x + 1.0f;
    }
    else
    {
        _2059 = cb1_m[16u].y + mad(cb1_m[16u].x, 0.5f, mad(cb1_m[15u].w, 0.25f, 1.0f));
        _2060 = cb1_m[15u].w + 1.0f;
        _2061 = mad(cb1_m[15u].w, 0.5f, cb1_m[16u].x) + 1.0f;
    }
    float _2104 = mad(_2031 * (_1997 * cb1_m[14u].y), _2059, ((_2019 * (_1997 * cb1_m[12u].y)) * _2060) + ((_2034 * (_1997 * cb1_m[13u].y)) * _2061));
    float _2105 = mad(_2031 * (_2004 * cb1_m[14u].z), _2059, ((_2019 * (_2004 * cb1_m[12u].z)) * _2060) + ((_2034 * (_2004 * cb1_m[13u].z)) * _2061));
    float _2106 = mad(_2031 * (_1991 * cb1_m[14u].x), _2059, ((_2034 * (_1991 * cb1_m[13u].x)) * _2061) + ((_2019 * (_1991 * cb1_m[12u].x)) * _2060));
    float _2110 = float(_2104 >= _2105);
    float _2111 = mad(_2104 - _2105, _2110, _2105);
    float _2112 = mad(_2110, _2105 - _2104, _2104);
    float _2114 = mad(_2110, -1.0f, 0.666666686534881591796875f);
    float _2120 = float(_2111 <= _2106);
    float _2121 = mad(_2106 - _2111, _2120, _2111);
    float _2122 = mad(_2120, _2112 - _2112, _2112);
    float _2124 = mad(_2120, _2111 - _2106, _2106);
    float _2126 = _2121 - min(_2124, _2122);
    float _2132 = _2126 / (_2121 + 9.9999997473787516355514526367188e-05f);
    float _2136 = cb1_m[9u].z + abs(((_2124 - _2122) / mad(_2126, 6.0f, 9.9999997473787516355514526367188e-05f)) + mad(_2120, mad(_2110, 1.0f, -1.0f) - _2114, _2114));
    float _2142 = (_2136 < 0.0f) ? (_2136 + 1.0f) : ((_2136 > 1.0f) ? (_2136 - 1.0f) : _2136);
    float _2164 = mad(_2132, clamp(abs(mad(frac(_2142 + 1.0f), 6.0f, -3.0f)) - 1.0f, 0.0f, 1.0f) - 1.0f, 1.0f);
    float _2165 = mad(_2132, clamp(abs(mad(frac(_2142 + 0.666666686534881591796875f), 6.0f, -3.0f)) - 1.0f, 0.0f, 1.0f) - 1.0f, 1.0f);
    float _2166 = mad(_2132, clamp(abs(mad(frac(_2142 + 0.3333333432674407958984375f), 6.0f, -3.0f)) - 1.0f, 0.0f, 1.0f) - 1.0f, 1.0f);
    float _2171 = dp3_f32(float3(_2121 * _2164, _2121 * _2165, _2121 * _2166), float3(0.21267290413379669189453125f, 0.715152204036712646484375f, 0.072175003588199615478515625f));
    float _2180 = mad(mad(_2121, _2164, -_2171), cb1_m[8u].w, _2171);
    float _2181 = mad(mad(_2121, _2165, -_2171), cb1_m[8u].w, _2171);
    float _2182 = mad(mad(_2121, _2166, -_2171), cb1_m[8u].w, _2171);
    float _2201;
    float _2202;
    float _2203;
    if (_1927)
    {
        _2201 = cb1_m[9u].y * clamp(mad(cb1_m[9u].x, _2182 - 0.1800537109375f, 0.1800537109375f), 0.0f, 65504.0f);
        _2202 = cb1_m[9u].y * clamp(mad(cb1_m[9u].x, _2181 - 0.1800537109375f, 0.1800537109375f), 0.0f, 65504.0f);
        _2203 = cb1_m[9u].y * clamp(mad(cb1_m[9u].x, _2180 - 0.1800537109375f, 0.1800537109375f), 0.0f, 65504.0f);
    }
    else
    {
        _2201 = _2182;
        _2202 = _2181;
        _2203 = _2180;
    }
    if (_1504)
    {
#if 1
  float _2209 = (RENODX_TONE_MAP_TYPE == 0) ? min(_2203 * 2.5f, 65504.0f) : _2203;
  float _2210 = (RENODX_TONE_MAP_TYPE == 0) ? min(_2202 * 2.5f, 65504.0f) : _2202;
  float _2211 = (RENODX_TONE_MAP_TYPE == 0) ? min(_2201 * 2.5f, 65504.0f) : _2201;
#endif
        float _2215 = max(_2211, max(_2210, _2209));
        float _2220 = (max(_2215, 9.9999997473787516355514526367188e-05f) - max(min(_2211, min(_2210, _2209)), 9.9999997473787516355514526367188e-05f)) / max(_2215, 0.00999999977648258209228515625f);
        float _2231 = mad(sqrt(mad(_2209 - _2211, _2209, ((_2210 - _2209) * _2210) + (_2211 * (_2211 - _2210)))), 1.75f, _2209 + (_2211 + _2210));
        float _2232 = _2220 - 0.4000000059604644775390625f;
        float _2237 = max(1.0f - abs(_2232 * 2.5f), 0.0f);
        float _2244 = mad(mad(clamp(mad(_2232, asfloat(0x7f800000u /* inf */), 0.5f), 0.0f, 1.0f), 2.0f, -1.0f), mad(-_2237, _2237, 1.0f), 1.0f) * 0.02500000037252902984619140625f;
        float _2252 = ((_2231 <= 0.1599999964237213134765625f) ? _2244 : ((_2231 >= 0.4799999892711639404296875f) ? 0.0f : (_2244 * ((0.07999999821186065673828125f / (_2231 * 0.3333333432674407958984375f)) - 0.5f)))) + 1.0f;
        float _2253 = _2209 * _2252;
        float _2254 = _2210 * _2252;
        float _2255 = _2211 * _2252;
        float _2260 = (_2254 - _2255) * 1.73205077648162841796875f;
        float _2262 = (_2253 * 2.0f) - _2254;
        float _2264 = mad(-_2211, _2252, _2262);
        float _2265 = abs(_2264);
        float _2266 = abs(_2260);
        float _2270 = min(_2265, _2266) * (1.0f / max(_2265, _2266));
        float _2271 = _2270 * _2270;
        float _2275 = mad(_2271, mad(_2271, mad(_2271, mad(_2271, 0.02083509974181652069091796875f, -0.08513300120830535888671875f), 0.1801410019397735595703125f), -0.33029949665069580078125f), 0.999866008758544921875f);
        float _2285 = mad(_2270, _2275, (_2265 < _2266) ? mad(_2270 * _2275, -2.0f, 1.57079637050628662109375f) : 0.0f) + ((_2264 < mad(_2211, _2252, -_2262)) ? (-3.1415927410125732421875f) : 0.0f);
        float _2286 = min(_2260, _2264);
        float _2287 = max(_2260, _2264);
        float _2296 = ((_2255 == _2254) && (_2254 == _2253)) ? 0.0f : ((((_2286 < (-_2286)) && (_2287 >= (-_2287))) ? (-_2285) : _2285) * 57.295780181884765625f);
        float _2299 = (_2296 < 0.0f) ? (_2296 + 360.0f) : _2296;
        float _2309 = max(1.0f - abs(((_2299 < (-180.0f)) ? (_2299 + 360.0f) : ((_2299 > 180.0f) ? (_2299 - 360.0f) : _2299)) * 0.01481481455266475677490234375f), 0.0f);
        float _2312 = mad(_2309, -2.0f, 3.0f) * (_2309 * _2309);
        float3 _2323 = float3(clamp(_2253 + (((_2220 * (_2312 * _2312)) * mad(-_2209, _2252, 0.02999999932944774627685546875f)) * 0.180000007152557373046875f), 0.0f, 65504.0f), clamp(_2254, 0.0f, 65504.0f), clamp(_2255, 0.0f, 65504.0f));
        float _2327 = clamp(dp3_f32(float3(1.45143926143646240234375f, -0.236510753631591796875f, -0.214928567409515380859375f), _2323), 0.0f, 65504.0f);
        float _2328 = clamp(dp3_f32(float3(-0.07655377686023712158203125f, 1.1762297153472900390625f, -0.0996759235858917236328125f), _2323), 0.0f, 65504.0f);
        float _2329 = clamp(dp3_f32(float3(0.0083161480724811553955078125f, -0.0060324496589601039886474609375f, 0.99771630764007568359375f), _2323), 0.0f, 65504.0f);

        float _2331 = dp3_f32(float3(_2327, _2328, _2329), float3(0.2722289860248565673828125f, 0.674081981182098388671875f, 0.0536894984543323516845703125f));
        float3 _2338 = float3(mad(_2327 - _2331, 0.959999978542327880859375f, _2331), mad(_2328 - _2331, 0.959999978542327880859375f, _2331), mad(_2329 - _2331, 0.959999978542327880859375f, _2331));
#if 1
  if (RENODX_TONE_MAP_TYPE != 0) {
    u0[_1470] = float4(CustomACES(_2338), 1.f);
    return;
  }
#endif
        float3 _2342 = float3(dp3_f32(float3(0.695452213287353515625f, 0.140678703784942626953125f, 0.16386906802654266357421875f), _2338), dp3_f32(float3(0.0447945632040500640869140625f, 0.859671115875244140625f, 0.095534317195415496826171875f), _2338), dp3_f32(float3(-0.0055258828215301036834716796875f, 0.0040252101607620716094970703125f, 1.00150072574615478515625f), _2338));
        float _2343 = dp3_f32(float3(1.45143926143646240234375f, -0.236510753631591796875f, -0.214928567409515380859375f), _2342);
        float _2344 = dp3_f32(float3(-0.07655377686023712158203125f, 1.1762297153472900390625f, -0.0996759235858917236328125f), _2342);
        float _2345 = dp3_f32(float3(0.0083161480724811553955078125f, -0.0060324496589601039886474609375f, 0.99771630764007568359375f), _2342);
        uint _2347;
        spvTextureSize(t11, 0u, _2347);
        bool _2348 = _2347 > 0u;
        uint _2349_dummy_parameter;
        _2350 _2351 = { spvTextureSize(t11, 0u, _2349_dummy_parameter), 1u };
        float _2354 = float(_2348 ? _2351._m0.x : 0u);
        float _2357 = float(_2348 ? _2351._m0.y : 0u);
        float _2360 = float(_2348 ? _2351._m0.z : 0u);
        float _2364 = float(_2344 >= _2345);
        float _2365 = mad(_2344 - _2345, _2364, _2345);
        float _2366 = mad(_2345 - _2344, _2364, _2344);
        float _2368 = mad(_2364, -1.0f, 0.666666686534881591796875f);
        float _2374 = float(_2343 >= _2365);
        float _2375 = mad(_2343 - _2365, _2374, _2365);
        float _2376 = mad(_2366 - _2366, _2374, _2366);
        float _2378 = mad(_2365 - _2343, _2374, _2343);
        float _2380 = _2375 - min(_2378, _2376);
        float4 _2404 = t11.SampleLevel(s9, float3(abs(mad(mad(_2364, 1.0f, -1.0f) - _2368, _2374, _2368) + ((_2378 - _2376) / mad(_2380, 6.0f, 9.9999997473787516355514526367188e-05f))) + (1.0f / (_2354 + _2354)), (1.0f / (_2357 + _2357)) + (_2380 / (_2375 + 9.9999997473787516355514526367188e-05f)), mad(_2375 * 3.0f, 1.0f / mad(_2375, 3.0f, 1.5f), 1.0f / (_2360 + _2360))), 0.0f);
        float _2405 = _2404.x;
        float _2406 = _2404.y;
        float _2407 = _2404.z;
        float3 _2435 = float3(mad(_2407, mad(_2406, clamp(abs(mad(frac(_2405 + 1.0f), 6.0f, -3.0f)) - 1.0f, 0.0f, 1.0f) - 1.0f, 1.0f), -3.5073844628641381859779357910156e-05f), mad(mad(clamp(abs(mad(frac(_2405 + 0.666666686534881591796875f), 6.0f, -3.0f)) - 1.0f, 0.0f, 1.0f) - 1.0f, _2406, 1.0f), _2407, -3.5073844628641381859779357910156e-05f), mad(mad(clamp(abs(mad(frac(_2405 + 0.3333333432674407958984375f), 6.0f, -3.0f)) - 1.0f, 0.0f, 1.0f) - 1.0f, _2406, 1.0f), _2407, -3.5073844628641381859779357910156e-05f));
        float3 _2439 = float3(dp3_f32(float3(0.662454187870025634765625f, 0.1340042054653167724609375f, 0.1561876833438873291015625f), _2435), dp3_f32(float3(0.272228717803955078125f, 0.674081742763519287109375f, 0.053689517080783843994140625f), _2435), dp3_f32(float3(-0.0055746496655046939849853515625f, 0.0040607335977256298065185546875f, 1.01033914089202880859375f), _2435));
        float3 _2443 = float3(dp3_f32(float3(0.98722398281097412109375f, -0.0061132698319852352142333984375f, 0.01595330052077770233154296875f), _2439), dp3_f32(float3(-0.007598360069096088409423828125f, 1.00186002254486083984375f, 0.0053301998414099216461181640625f), _2439), dp3_f32(float3(0.003072570078074932098388671875f, -0.0050959498621523380279541015625f, 1.0816800594329833984375f), _2439));
        float _2452 = exp2(log2(abs(dp3_f32(float3(1.71665096282958984375f, -0.35567080974578857421875f, -0.2533662319183349609375f), _2443) * 9.9999997473787516355514526367188e-05f)) * 0.1593017578125f);
        float _2463 = exp2(log2(abs(dp3_f32(float3(-0.666684329509735107421875f, 1.616481304168701171875f, 0.0157685391604900360107421875f), _2443) * 9.9999997473787516355514526367188e-05f)) * 0.1593017578125f);
        float _2473 = exp2(log2(abs(dp3_f32(float3(0.0176398493349552154541015625f, -0.04277060925960540771484375f, 0.94210326671600341796875f), _2443) * 9.9999997473787516355514526367188e-05f)) * 0.1593017578125f);
        u0[_1470] = float4(min(exp2(log2(mad(_2452, 18.8515625f, 0.8359375f) / mad(_2452, 18.6875f, 1.0f)) * 78.84375f), 1.0f), min(exp2(log2(mad(_2463, 18.8515625f, 0.8359375f) / mad(_2463, 18.6875f, 1.0f)) * 78.84375f), 1.0f), min(exp2(log2(mad(_2473, 18.8515625f, 0.8359375f) / mad(_2473, 18.6875f, 1.0f)) * 78.84375f), 1.0f), 1.0f);
    }
}

[numthreads(8, 8, 1)]
void main(SPIRV_Cross_Input stage_input)
{
    gl_LocalInvocationID = stage_input.gl_LocalInvocationID;
    gl_GlobalInvocationID = stage_input.gl_GlobalInvocationID;
    comp_main();
}
