#include "../common.hlsl"

struct _398 {
  uint2 _m0;
  uint _m1;
};

static const float _2538[30] = { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f };
static const float _65[10][30] = { { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f }, { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f }, { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f }, { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f }, { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f }, { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f }, { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f }, { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f }, { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f }, { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f } };
static const float _70[1] = { 0.0f };
static const float4 _304[11] = { float4(1.0f, 0.0f, 0.0f, 0.0f), float4(0.0f, 1.0f, 0.0f, 0.0f), float4(0.0f, 0.0f, 1.0f, 0.0f), float4(0.0f, 0.0f, 0.0f, 1.0f), float4(-4.0f, -0.718548238277435302734375f, 0.0f, 0.0f), float4(-4.0f, 2.0810306072235107421875f, 0.0f, 0.0f), float4(-3.1573765277862548828125f, 3.66812419891357421875f, 0.0f, 0.0f), float4(-0.485249996185302734375f, 4.0f, 0.0f, 0.0f), float4(1.84773242473602294921875f, 4.0f, 0.0f, 0.0f), float4(1.84773242473602294921875f, 4.0f, 0.0f, 0.0f), 0.0f.xxxx };

cbuffer cb0_buf : register(b0) {
  uint4 cb0_m[44] : packoffset(c0);
};

cbuffer cb1_buf : register(b1) {
  float4 cb1_m[4096] : packoffset(c0);
};

cbuffer cb2_buf : register(b2) {
  float4 cb2_m0 : packoffset(c0);
  uint4 cb2_m1 : packoffset(c1);
  float2 cb2_m2 : packoffset(c2);
  float2 cb2_m3 : packoffset(c2.z);
  float4 cb2_m4 : packoffset(c3);
  float3 cb2_m5 : packoffset(c4);
  uint cb2_m6 : packoffset(c4.w);
  float4 cb2_m7 : packoffset(c5);
  float4 cb2_m8 : packoffset(c6);
  float2 cb2_m9 : packoffset(c7);
  float2 cb2_m10 : packoffset(c7.z);
  uint4 cb2_m11 : packoffset(c8);
  uint4 cb2_m12 : packoffset(c9);
  uint4 cb2_m13 : packoffset(c10);
  uint4 cb2_m14 : packoffset(c11);
  uint4 cb2_m15 : packoffset(c12);
  uint4 cb2_m16 : packoffset(c13);
  uint4 cb2_m17 : packoffset(c14);
  uint4 cb2_m18 : packoffset(c15);
  uint4 cb2_m19 : packoffset(c16);
  uint4 cb2_m20 : packoffset(c17);
  float4 cb2_m21 : packoffset(c18);
  float4 cb2_m22 : packoffset(c19);
};

SamplerState s0 : register(s0);
SamplerState s1 : register(s1);
SamplerState s2 : register(s2);
SamplerState s3 : register(s3);
SamplerState s4 : register(s4);
SamplerState s5 : register(s5);
SamplerState s6 : register(s6);
SamplerState s7 : register(s7);
SamplerState s8 : register(s8);
Buffer<float4> t0 : register(t0);
Texture2D<float4> t1 : register(t1);
Texture2D<float4> t2 : register(t2);
Texture2D<float4> t3 : register(t3);
Texture2D<float4> t4 : register(t4);
Texture2D<float4> t5 : register(t5);
Texture2D<float4> t6 : register(t6);
Texture2D<float4> t7 : register(t7);
Texture2D<float4> t8 : register(t8);
Texture2D<float4> t9 : register(t9);
Texture2D<float4> t10 : register(t10);
Buffer<float4> t11 : register(t11);
Buffer<float4> t12 : register(t12);
RWTexture2D<float4> u0 : register(u0);
RWTexture2D<float4> u1 : register(u1);
RWTexture2D<float4> u2 : register(u2);

static uint3 gl_LocalInvocationID;
static uint3 gl_GlobalInvocationID;
struct SPIRV_Cross_Input {
  uint3 gl_LocalInvocationID : SV_GroupThreadID;
  uint3 gl_GlobalInvocationID : SV_DispatchThreadID;
};

groupshared float g0[10][30];
groupshared float g1[1];

uint2 spvImageSize(RWTexture2D<float4> Tex, out uint Param) {
  uint2 ret;
  Tex.GetDimensions(ret.x, ret.y);
  Param = 0u;
  return ret;
}

uint spvBitfieldInsert(uint Base, uint Insert, uint Offset, uint Count) {
  uint Mask = Count == 32 ? 0xffffffff : (((1u << Count) - 1) << (Offset & 31));
  return (Base & ~Mask) | ((Insert << Offset) & Mask);
}

uint2 spvBitfieldInsert(uint2 Base, uint2 Insert, uint Offset, uint Count) {
  uint Mask = Count == 32 ? 0xffffffff : (((1u << Count) - 1) << (Offset & 31));
  return (Base & ~Mask) | ((Insert << Offset) & Mask);
}

uint3 spvBitfieldInsert(uint3 Base, uint3 Insert, uint Offset, uint Count) {
  uint Mask = Count == 32 ? 0xffffffff : (((1u << Count) - 1) << (Offset & 31));
  return (Base & ~Mask) | ((Insert << Offset) & Mask);
}

uint4 spvBitfieldInsert(uint4 Base, uint4 Insert, uint Offset, uint Count) {
  uint Mask = Count == 32 ? 0xffffffff : (((1u << Count) - 1) << (Offset & 31));
  return (Base & ~Mask) | ((Insert << Offset) & Mask);
}

uint spvBitfieldUExtract(uint Base, uint Offset, uint Count) {
  uint Mask = Count == 32 ? 0xffffffff : ((1 << Count) - 1);
  return (Base >> Offset) & Mask;
}

uint2 spvBitfieldUExtract(uint2 Base, uint Offset, uint Count) {
  uint Mask = Count == 32 ? 0xffffffff : ((1 << Count) - 1);
  return (Base >> Offset) & Mask;
}

uint3 spvBitfieldUExtract(uint3 Base, uint Offset, uint Count) {
  uint Mask = Count == 32 ? 0xffffffff : ((1 << Count) - 1);
  return (Base >> Offset) & Mask;
}

uint4 spvBitfieldUExtract(uint4 Base, uint Offset, uint Count) {
  uint Mask = Count == 32 ? 0xffffffff : ((1 << Count) - 1);
  return (Base >> Offset) & Mask;
}

int spvBitfieldSExtract(int Base, int Offset, int Count) {
  int Mask = Count == 32 ? -1 : ((1 << Count) - 1);
  int Masked = (Base >> Offset) & Mask;
  int ExtendShift = (32 - Count) & 31;
  return (Masked << ExtendShift) >> ExtendShift;
}

int2 spvBitfieldSExtract(int2 Base, int Offset, int Count) {
  int Mask = Count == 32 ? -1 : ((1 << Count) - 1);
  int2 Masked = (Base >> Offset) & Mask;
  int ExtendShift = (32 - Count) & 31;
  return (Masked << ExtendShift) >> ExtendShift;
}

int3 spvBitfieldSExtract(int3 Base, int Offset, int Count) {
  int Mask = Count == 32 ? -1 : ((1 << Count) - 1);
  int3 Masked = (Base >> Offset) & Mask;
  int ExtendShift = (32 - Count) & 31;
  return (Masked << ExtendShift) >> ExtendShift;
}

int4 spvBitfieldSExtract(int4 Base, int Offset, int Count) {
  int Mask = Count == 32 ? -1 : ((1 << Count) - 1);
  int4 Masked = (Base >> Offset) & Mask;
  int ExtendShift = (32 - Count) & 31;
  return (Masked << ExtendShift) >> ExtendShift;
}

float dp2_f32(float2 a, float2 b) {
  precise float _389 = a.x * b.x;
  return mad(a.y, b.y, _389);
}

float dp3_f32(float3 a, float3 b) {
  precise float _375 = a.x * b.x;
  return mad(a.z, b.z, mad(a.y, b.y, _375));
}

float dp4_f32(float4 a, float4 b) {
  precise float _357 = a.x * b.x;
  return mad(a.w, b.w, mad(a.z, b.z, mad(a.y, b.y, _357)));
}

int cvt_f32_i32(float v) {
  return isnan(v) ? 0 : ((v < (-2147483648.0f)) ? int(0x80000000) : ((v > 2147483520.0f) ? 2147483647 : int(v)));
}

void comp_main() {

  uint _397_dummy_parameter;
  _398 _399 = { spvImageSize(u0, _397_dummy_parameter), 1u };
  uint _411 = gl_GlobalInvocationID.x - gl_LocalInvocationID.x;
  uint _412 = gl_GlobalInvocationID.y - gl_LocalInvocationID.y;
  uint _414 = gl_LocalInvocationID.x + (gl_LocalInvocationID.y * 8u);
  uint _415 = spvBitfieldUExtract(_414, 1u, 3u);
  uint _417 = spvBitfieldInsert(spvBitfieldUExtract(gl_LocalInvocationID.y, 0u, 29u), _414, 0u, 1u);
  uint _418 = _411 + _415;
  uint _419 = _417 + _412;
  float _424 = float(_399._m0.x);
  float _425 = float(_399._m0.y);
  float _426 = (float(_418) + 0.5f) / _424;
  float _427 = (float(_419) + 0.5f) / _425;
  bool _430 = (_399._m0.x < _418) || (_399._m0.y < _419);
  bool _435 = cb2_m4.y == 1.0f;
  if (((gl_LocalInvocationID.x == 0u) && _435) && (gl_LocalInvocationID.y == 0u)) {
    g1[0u] = t8.Load(int3(uint2(0u, 0u), 0u)).x;
  }
  GroupMemoryBarrierWithGroupSync();
  if (_414 < 36u) {
    bool _463 = _414 < 4u;
    bool _464 = _414 < 12u;
    bool _465 = _414 < 20u;
    bool _466 = _414 < 28u;
    uint _477 = _463 ? ((_414 >> 1u) * 9u) : (_464 ? 0u : (_465 ? 9u : (_466 ? (((_414 - 20u) & 7u) + 1u) : (((_414 - 28u) & 7u) + 1u))));
    uint _478 = _463 ? ((_414 & 1u) * 9u) : (_464 ? (((_414 - 4u) & 7u) + 1u) : (_465 ? (((_414 - 12u) & 7u) + 1u) : (_466 ? 0u : 9u)));
    float _479 = 1.0f / _424;
    float _480 = 1.0f / _425;
    float _499 = clamp((_479 * (float(int(_477 - 1u)) + 0.5f)) + (_479 * float(int(_411))), 0.0f, 1.0f);
    float _500 = clamp(((float(int(_478 - 1u)) + 0.5f) * _480) + (float(int(_412)) * _480), 0.0f, 1.0f);
    float2 _503 = float2(_499, _500);


    float _508 = mad(t6.SampleLevel(s5, _503, 0.0f).x, 2.0f, -1.0f);
    float _523;
    if (_508 > 0.0f) {
      _523 = min(sqrt(_508), t0.Load(8u).x);
    } else {
      _523 = max(_508, -t0.Load(7u).x);
    }
    bool _534 = (cb2_m10.x != 0.0f) && (cb2_m10.y != 0.0f);
    bool _538 = (cb2_m8.w != 0.0f) && (cb2_m9.x != 0.0f);
    float4 _543 = t1.SampleLevel(s0, _503, 0.0f);
    float _544 = _543.x;
    float _545 = _543.y;
    float _546 = _543.z;
    float _614;
    float _615;
    float _616;
    if (_538 || _534) {
      float4 _553 = t5.SampleLevel(s4, _503, 0.0f);
      float2 _562 = float2(_553.x * cb2_m3.x, _553.y * cb2_m3.y);
      float _576 = exp2(max(_534 ? clamp((sqrt(dp2_f32(_562, _562)) - 2.0f) * 0.0555555559694766998291015625f, 0.0f, 1.0f) : 0.0f, _538 ? clamp((abs(_523) - 0.0471399985253810882568359375f) * 1.0494720935821533203125f, 0.0f, 1.0f) : 0.0f) * (-4.3280849456787109375f));
      float4 _580 = t2.SampleLevel(s1, _503, 0.0f);
      float _581 = _580.x;
      float _582 = _580.y;
      float _583 = _580.z;
      float _589 = asfloat(cb0_m[43u].w) * 20.0f;
      float _600 = mad(t9.SampleLevel(s7, float2(mad(_499, 30.0f, sin(_589)), mad(_500, 30.0f, cos(_589))), 0.0f).x, 0.00999999977648258209228515625f, -0.004999999888241291046142578125f);
      float _604 = sqrt(max(max(_581, max(_582, _583)), 1.0000000133514319600180897396058e-10f));
      float _605 = mad(_600, _604, _581);
      float _606 = mad(_600, _604, _582);
      float _607 = mad(_600, _604, _583);
      _614 = mad(_576, _546 - _607, _607);
      _615 = mad(_576, _545 - _606, _606);
      _616 = mad(_576, _544 - _605, _605);
    } else {
      _614 = _546;
      _615 = _545;
      _616 = _544;
    }
    float _621 = _435 ? g1[0u] : cb2_m4.x;
    float4 _625 = t7.SampleLevel(s6, _503, 0.0f);
    float _626 = _625.x;
    float _634 = max(cb2_m4.w - dp3_f32(float3(_626, _625.yz), float3(0.21269999444484710693359375f, 0.715200006961822509765625f, 0.07209999859333038330078125f)), 6.099999882280826568603515625e-05f);
    float _638 = mad(_616, _621, _626 / _634);
    float _639 = mad(_615, _621, _625.y / _634);
    float _640 = mad(_614, _621, _625.z / _634);
    float _644 = 1.0f / (max(_638, max(_640, _639)) + 1.0f);
    float _645 = _638 * _644;
    float _647 = _644 * _640;
    float3 _648 = float3(_645, _647, _644 * _639);
    uint _653 = (_478 * 12u) >> 2u;
    g0[_477][_653] = dp3_f32(_648, float3(0.25f, 0.25f, 0.5f));
    uint _656 = _653 + 1u;
    g0[_477][_656] = dp2_f32(float2(_645, _647), float2(0.5f, -0.5f));
    uint _659 = _653 + 2u;
    g0[_477][_659] = dp3_f32(_648, float3(-0.25f, -0.25f, 0.5f));
  }
  float2 _664 = float2(_426, _427);
  float _668 = mad(t6.SampleLevel(s5, _664, 0.0f).x, 2.0f, -1.0f);
  float _683;
  if (_668 > 0.0f) {
    _683 = min(sqrt(_668), t0.Load(8u).x);
  } else {
    _683 = max(_668, -t0.Load(7u).x);
  }
  float4 _687 = t5.SampleLevel(s4, _664, 0.0f);
  float _688 = _687.x;
  float _689 = _687.y;
  bool _699 = (cb2_m10.x != 0.0f) && (cb2_m10.y != 0.0f);
  bool _703 = (cb2_m8.w != 0.0f) && (cb2_m9.x != 0.0f);
  float4 _707 = t1.SampleLevel(s0, _664, 0.0f);
  float _708 = _707.x;
  float _709 = _707.y;
  float _710 = _707.z;
  float _771;
  float _772;
  float _773;
  if (_703 || _699) {
    float2 _720 = float2(_688 * cb2_m3.x, _689 * cb2_m3.y);
    float _734 = exp2(max(_699 ? clamp((sqrt(dp2_f32(_720, _720)) - 2.0f) * 0.0555555559694766998291015625f, 0.0f, 1.0f) : 0.0f, _703 ? clamp((abs(_683) - 0.0471399985253810882568359375f) * 1.0494720935821533203125f, 0.0f, 1.0f) : 0.0f) * (-4.3280849456787109375f));
    float4 _738 = t2.SampleLevel(s1, _664, 0.0f);
    float _739 = _738.x;
    float _740 = _738.y;
    float _741 = _738.z;
    float _746 = asfloat(cb0_m[43u].w) * 20.0f;
    float _757 = mad(t9.SampleLevel(s7, float2(mad(_426, 30.0f, sin(_746)), mad(_427, 30.0f, cos(_746))), 0.0f).x, 0.00999999977648258209228515625f, -0.004999999888241291046142578125f);
    float _761 = sqrt(max(max(_739, max(_740, _741)), 1.0000000133514319600180897396058e-10f));
    float _762 = mad(_757, _761, _739);
    float _763 = mad(_757, _761, _740);
    float _764 = mad(_757, _761, _741);
    _771 = mad(_734, _710 - _764, _764);
    _772 = mad(_734, _709 - _763, _763);
    _773 = mad(_734, _708 - _762, _762);
  } else {
    _771 = _710;
    _772 = _709;
    _773 = _708;
  }
  float _778 = _435 ? g1[0u] : cb2_m4.x;
  float4 _782 = t7.SampleLevel(s6, _664, 0.0f);
  float _783 = _782.x;
  float _791 = max(cb2_m4.w - dp3_f32(float3(_783, _782.yz), float3(0.21269999444484710693359375f, 0.715200006961822509765625f, 0.07209999859333038330078125f)), 6.099999882280826568603515625e-05f);
  float _795 = mad(_773, _778, _783 / _791);
  float _796 = mad(_772, _778, _782.y / _791);
  float _797 = mad(_771, _778, _782.z / _791);
  float _801 = 1.0f / (max(_795, max(_797, _796)) + 1.0f);
  float _802 = _795 * _801;
  float _804 = _801 * _797;
  float3 _805 = float3(_802, _804, _801 * _796);
  float _806 = dp3_f32(_805, float3(0.25f, 0.25f, 0.5f));
  float _807 = dp3_f32(_805, float3(-0.25f, -0.25f, 0.5f));
  float _809 = dp2_f32(float2(_802, _804), float2(0.5f, -0.5f));
  uint _810 = _415 + 1u;
  uint _811 = _415 + 2u;
  uint _812 = _417 * 12u;
  uint _815 = (_812 + 12u) >> 2u;
  g0[_810][_815] = _806;
  uint _818 = _815 + 1u;
  g0[_810][_818] = _809;
  uint _821 = _815 + 2u;
  g0[_810][_821] = _807;
  float2 _830 = float2(_688 * cb2_m2.x, _689 * cb2_m2.y);
  float _834 = min(sqrt(dp2_f32(_830, _830)) * 0.07500000298023223876953125f, 1.0f);
  float _835 = _426 - _688;
  float _836 = _427 - _689;
  float _844 = (max(abs(mad(_836, 2.0f, -1.0f)), abs(mad(_835, 2.0f, -1.0f))) >= 1.0f) ? (-_834) : _834;
  float _847 = floor(mad(_835, cb2_m2.x, -0.5f));
  float _848 = floor(mad(cb2_m2.y, _836, -0.5f));
  float _849 = _847 + 0.5f;
  float _850 = _848 + 0.5f;
  float _854 = mad(_835, cb2_m2.x, -_849);
  float _856 = mad(cb2_m2.y, _836, -_850);
  float _858 = mad(-_835, cb2_m2.x, _849);
  float _860 = mad(-cb2_m2.y, _836, _850);
  float _867 = mad(_854, mad(_858, 1.5f, 2.0f), 0.5f);
  float _868 = mad(mad(_860, 1.5f, 2.0f), _856, 0.5f);
  float _869 = _854 * _854;
  float _870 = _856 * _856;
  float _875 = mad(_854, 0.5f, -0.5f) * _869;
  float _876 = mad(_856, 0.5f, -0.5f) * _870;
  float _879 = _854 * mad(_854, mad(_858, 0.5f, 1.0f), -0.5f);
  float _880 = mad(mad(_860, 0.5f, 1.0f), _856, -0.5f) * _856;
  float _883 = mad(_854, _867, mad(mad(_854, 1.5f, -2.5f), _869, 1.0f));
  float _884 = mad(_868, _856, mad(mad(_856, 1.5f, -2.5f), _870, 1.0f));
  float _891 = (_847 - 0.5f) / cb2_m2.x;
  float _892 = (_848 - 0.5f) / cb2_m2.y;
  float _893 = (_847 + 2.5f) / cb2_m2.x;
  float _894 = (_848 + 2.5f) / cb2_m2.y;
  float _895 = (((_868 * _856) / _884) + _850) / cb2_m2.y;
  float _896 = (_849 + ((_854 * _867) / _883)) / cb2_m2.x;
  float4 _901 = t3.SampleLevel(s2, float2(_891, _892), 0.0f);
  float4 _910 = t3.SampleLevel(s2, float2(_893, _892), 0.0f);
  float4 _928 = t3.SampleLevel(s2, float2(_896, _892), 0.0f);
  float4 _940 = t3.SampleLevel(s2, float2(_891, _895), 0.0f);
  float4 _952 = t3.SampleLevel(s2, float2(_896, _895), 0.0f);
  float4 _964 = t3.SampleLevel(s2, float2(_893, _895), 0.0f);
  float4 _976 = t3.SampleLevel(s2, float2(_891, _894), 0.0f);
  float4 _988 = t3.SampleLevel(s2, float2(_896, _894), 0.0f);
  float4 _1000 = t3.SampleLevel(s2, float2(_893, _894), 0.0f);
  float _1007 = mad(_876, _875 * _1000.x, mad(_876, _883 * _988.x, mad(_876, _879 * _976.x, mad(_884, _875 * _964.x, mad(_884, _883 * _952.x, mad(_884, _879 * _940.x, mad(_880, _883 * _928.x, (_880 * (_875 * _910.x)) + (_880 * (_879 * _901.x)))))))));
  float _1009 = mad(_876, _875 * _1000.z, mad(_876, _883 * _988.z, mad(_876, _879 * _976.z, mad(_884, _875 * _964.z, mad(_884, _883 * _952.z, mad(_884, _879 * _940.z, mad(_880, _883 * _928.z, (_880 * (_879 * _901.z)) + (_880 * (_875 * _910.z)))))))));
  float3 _1010 = float3(_1007, _1009, mad(_876, _875 * _1000.y, mad(_876, _883 * _988.y, mad(_876, _879 * _976.y, mad(_884, _875 * _964.y, mad(_884, _883 * _952.y, mad(_884, _879 * _940.y, mad(_880, _883 * _928.y, (_880 * (_879 * _901.y)) + (_880 * (_875 * _910.y))))))))));
  float _1011 = dp3_f32(_1010, float3(0.25f, 0.25f, 0.5f));
  float _1012 = dp3_f32(_1010, float3(-0.25f, -0.25f, 0.5f));
  float _1014 = dp2_f32(float2(_1007, _1009), float2(0.5f, -0.5f));
  GroupMemoryBarrierWithGroupSync();
  uint _1015 = _812 >> 2u;
  uint _1019 = _1015 + 1u;
  uint _1023 = _1015 + 2u;
  uint _1109 = (_812 + 24u) >> 2u;
  uint _1113 = _1109 + 1u;
  uint _1117 = _1109 + 2u;
  float _1138 = min(min(min(min(_806, g0[_810][_1015]), g0[_415][_815]), g0[_811][_815]), g0[_810][_1109]);
  float _1139 = max(max(max(max(_806, g0[_810][_1015]), g0[_415][_815]), g0[_811][_815]), g0[_810][_1109]);
  float _1157 = (((((((_806 + g0[_810][_1015]) + g0[_415][_1015]) + g0[_415][_815]) + g0[_811][_1015]) + g0[_811][_815]) + g0[_415][_1109]) + g0[_810][_1109]) + g0[_811][_1109];
  float _1171 = _1157 * 0.111111111938953399658203125f;
  float _1172 = (g0[_811][_1113] + (g0[_810][_1113] + (g0[_415][_1113] + (g0[_811][_818] + (g0[_811][_1019] + (g0[_415][_818] + (g0[_415][_1019] + (_809 + g0[_810][_1019])))))))) * 0.111111111938953399658203125f;
  float _1173 = (g0[_811][_1117] + (g0[_810][_1117] + (g0[_415][_1117] + (g0[_811][_821] + (g0[_811][_1023] + (g0[_415][_821] + (g0[_415][_1023] + (_807 + g0[_810][_1023])))))))) * 0.111111111938953399658203125f;
  float _1192 = mad(_1011 / max(mad(_1157, 0.111111111938953399658203125f, _1011), 1.0000000116860974230803549289703e-07f), 0.5f, 0.75f);
  float _1193 = sqrt(max((mad(g0[_811][_1109], g0[_811][_1109], mad(g0[_810][_1109], g0[_810][_1109], mad(g0[_415][_1109], g0[_415][_1109], mad(g0[_811][_815], g0[_811][_815], mad(g0[_811][_1015], g0[_811][_1015], mad(g0[_415][_815], g0[_415][_815], mad(g0[_415][_1015], g0[_415][_1015], (g0[_810][_1015] * g0[_810][_1015]) + (_806 * _806)))))))) * 0.111111111938953399658203125f) - (_1171 * _1171), 1.0000000133514319600180897396058e-10f)) * _1192;
  float _1194 = _1192 * sqrt(max((mad(g0[_811][_1113], g0[_811][_1113], mad(g0[_810][_1113], g0[_810][_1113], mad(g0[_415][_1113], g0[_415][_1113], mad(g0[_811][_818], g0[_811][_818], mad(g0[_811][_1019], g0[_811][_1019], mad(g0[_415][_818], g0[_415][_818], mad(g0[_415][_1019], g0[_415][_1019], (_809 * _809) + (g0[_810][_1019] * g0[_810][_1019])))))))) * 0.111111111938953399658203125f) - (_1172 * _1172), 1.0000000133514319600180897396058e-10f));
  float _1195 = _1192 * sqrt(max((mad(g0[_811][_1117], g0[_811][_1117], mad(g0[_810][_1117], g0[_810][_1117], mad(g0[_415][_1117], g0[_415][_1117], mad(g0[_811][_821], g0[_811][_821], mad(g0[_811][_1023], g0[_811][_1023], mad(g0[_415][_821], g0[_415][_821], mad(g0[_415][_1023], g0[_415][_1023], (_807 * _807) + (g0[_810][_1023] * g0[_810][_1023])))))))) * 0.111111111938953399658203125f) - (_1173 * _1173), 1.0000000133514319600180897396058e-10f));
  float _1199 = _1171 + _1193;
  float _1200 = _1194 + _1172;
  float _1201 = _1195 + _1173;
  float _1202 = (_1171 - _1193) + _1199;
  float _1203 = _1200 + (_1172 - _1194);
  float _1204 = _1201 + (_1173 - _1195);
  float _1214 = mad(_1202, -0.5f, _1011);
  float _1215 = mad(_1203, -0.5f, _1014);
  float _1216 = mad(_1204, -0.5f, _1012);
  float _1224 = max(max(abs(_1215 / mad((_1194 - _1172) + _1200, 0.5f, 9.9999997473787516355514526367188e-05f)), abs(_1214 / mad(_1199 + (_1193 - _1171), 0.5f, 9.9999997473787516355514526367188e-05f))), abs(_1216 / mad((_1195 - _1173) + _1201, 0.5f, 9.9999997473787516355514526367188e-05f)));
  bool _1225 = _1224 > 1.0f;
  uint2 _1243 = uint2(_418, _419);
  float _1247 = max((_1011 / ((_1011 + (mad(_1139, 0.5f, max(_1139 * 0.5f, max(max(max(max(_806, g0[_415][_1015]), g0[_811][_1015]), g0[_415][_1109]), g0[_811][_1109]) * 0.5f)) - mad(_1138, 0.5f, min(_1138 * 0.5f, min(min(min(min(_806, g0[_415][_1015]), g0[_811][_1015]), g0[_415][_1109]), g0[_811][_1109]) * 0.5f)))) + 1.0000000116860974230803549289703e-07f)) * mad(abs(_844), 0.85000002384185791015625f, 0.100000001490116119384765625f), u2[_1243].x * 0.75f);
  bool _1248 = _844 < 0.0f;
  float _1249 = _1248 ? _806 : (_1225 ? mad(_1202, 0.5f, _1214 / _1224) : _1011);
  float _1250 = _1248 ? _809 : (_1225 ? mad(_1203, 0.5f, _1215 / _1224) : _1014);
  float _1251 = _1248 ? _807 : (_1225 ? mad(_1204, 0.5f, _1216 / _1224) : _1012);
  float _1259 = clamp(mad(t4.SampleLevel(s3, _664, 0.0f).y, 1.0f - _1247, _1247), 0.0039215688593685626983642578125f, 0.949999988079071044921875f);
  float _1263 = mad(1.0f - _1259, cb2_m0.x, _1259);
  float _1267 = mad(_1263, _806 - _1249, _1249);
  float _1268 = mad(_1263, _809 - _1250, _1250);
  float _1269 = mad(_1263, _807 - _1251, _1251);
  float _1270 = _1267 - _1269;
  float _1271 = _1270 + _1268;
  float _1272 = _1267 + _1269;
  float _1273 = _1270 - _1268;
  u1[_1243] = float4(_1271, _1272, _1273, 0.0f);
  u2[_1243] = _1263.xxxx;
  bool _1277 = !_430;
  float _1652;
  float _1653;
  float _1654;
  if (_1277) {
    float _1281 = dp3_f32(float3(_1271, _1272, _1273), float3(0.21269999444484710693359375f, 0.715200006961822509765625f, 0.07209999859333038330078125f));
    float _1289 = mad(-abs(_683), cb2_m9.y, 1.0f) * cb2_m8.x;
    float _1293 = mad(_1289, _1271 - _1281, _1281);
    float _1294 = mad(_1289, _1272 - _1281, _1281);
    float _1295 = mad(_1289, _1273 - _1281, _1281);
    float _1296 = _426 - 0.5f;
    float _1297 = _427 - 0.5f;
    float _1298 = _1297 + _1297;
    float _1299 = _1296 + _1296;
    float _1300 = abs(_1299);
    float _1301 = abs(_1298);
    float _1305 = min(_1300, _1301) * (1.0f / max(_1300, _1301));
    float _1306 = _1305 * _1305;
    float _1310 = mad(_1306, mad(_1306, mad(_1306, mad(_1306, 0.02083509974181652069091796875f, -0.08513300120830535888671875f), 0.1801410019397735595703125f), -0.33029949665069580078125f), 0.999866008758544921875f);
    float _1319 = mad(_1305, _1310, (_1300 < _1301) ? mad(_1305 * _1310, -2.0f, 1.57079637050628662109375f) : 0.0f) + (((-_1299) > _1299) ? (-3.1415927410125732421875f) : 0.0f);
    float _1320 = min(_1298, _1299);
    float _1321 = max(_1298, _1299);
    float _1328 = ((_1320 < (-_1320)) && (_1321 >= (-_1321))) ? (-_1319) : _1319;
    float4 _1332 = t10.SampleLevel(s8, _664, 0.0f);
    float _1333 = _1332.x;
    float _1334 = _1332.y;
    float _1335 = _1332.z;
    float _1336 = _1332.w;
    float _1341 = (_1294 - _1295) * 1.73205077648162841796875f;
    float _1343 = mad(_1293, 2.0f, -_1294);
    float _1344 = _1343 - _1295;
    float _1345 = abs(_1344);
    float _1346 = abs(_1341);
    float _1350 = min(_1345, _1346) * (1.0f / max(_1345, _1346));
    float _1351 = _1350 * _1350;
    float _1355 = mad(_1351, mad(_1351, mad(_1351, mad(_1351, 0.02083509974181652069091796875f, -0.08513300120830535888671875f), 0.1801410019397735595703125f), -0.33029949665069580078125f), 0.999866008758544921875f);
    float _1364 = mad(_1350, _1355, (_1345 < _1346) ? mad(_1350 * _1355, -2.0f, 1.57079637050628662109375f) : 0.0f) + ((_1344 < (_1295 - _1343)) ? (-3.1415927410125732421875f) : 0.0f);
    float _1365 = min(_1341, _1344);
    float _1366 = max(_1341, _1344);
    float _1375 = ((_1293 == _1294) && (_1295 == _1294)) ? 0.0f : ((((_1365 < (-_1365)) && (_1366 >= (-_1366))) ? (-_1364) : _1364) * 57.295780181884765625f);
    float _1384 = mad(cb2_m22.y, -360.0f, (_1375 < 0.0f) ? (_1375 + 360.0f) : _1375);
    float _1394 = clamp(1.0f - (abs((_1384 < (-180.0f)) ? (_1384 + 360.0f) : ((_1384 > 180.0f) ? (_1384 - 360.0f) : _1384)) / (cb2_m22.z * 180.0f)), 0.0f, 1.0f);
    float _1399 = dp3_f32(float3(_1293, _1294, _1295), float3(0.21269999444484710693359375f, 0.715200006961822509765625f, 0.07209999859333038330078125f));
    float _1402 = (mad(_1394, -2.0f, 3.0f) * (_1394 * _1394)) * cb2_m22.w;
    float _1414 = mad(mad(_1402, _1293 - _1399, _1399) - _1293, cb2_m21.w, _1293);
    float _1415 = mad(cb2_m21.w, mad(_1402, _1294 - _1399, _1399) - _1294, _1294);
    float _1416 = mad(cb2_m21.w, mad(_1402, _1295 - _1399, _1399) - _1295, _1295);
    float _1418;
    _1418 = 0.0f;
    float _1419;
    uint _1422;
    uint _1421 = 0u;
    for (;;) {
      if (_1421 >= 8u) {
        break;
      }
      uint _1433 = min((_1421 & 3u), 10u);
      float _1453 = mad(float(_1421), 0.785398185253143310546875f, -_1328);
      float _1454 = _1453 + 1.57079637050628662109375f;
      _1419 = mad(_1336 * (dp4_f32(t11.Load((_1421 >> 2u) + 10u), float4(_304[_1433].x, _304[_1433].y, _304[_1433].z, _304[_1433].w)) * clamp((abs((_1454 > 3.1415927410125732421875f) ? (_1453 - 4.7123889923095703125f) : _1454) - 2.19911479949951171875f) * 2.1220657825469970703125f, 0.0f, 1.0f)), 1.0f - _1418, _1418);
      _1422 = _1421 + 1u;
      _1418 = _1419;
      _1421 = _1422;
      continue;
    }
    float _1465 = clamp(_1418, 0.0f, 1.0f);
    float _1478 = asfloat(cb0_m[43u].w);
    float _1484 = abs(t11.Load(8u).x);
    float2 _1487 = float2(_1296 * 1.40999996662139892578125f, _1297 * 1.40999996662139892578125f);
    float _1489 = sqrt(dp2_f32(_1487, _1487));
    float _1490 = min(_1489, 1.0f);
    float _1491 = _1490 * _1490;
    float _1496 = clamp(_1489 - 0.5f, 0.0f, 1.0f);
    float _1499 = (_1490 * _1491) + (mad(-_1490, _1491, 1.0f) * (_1496 * _1496));
    float _1500 = mad(mad(mad(sin(_1478 * 6.0f), 0.5f, 0.5f), 0.089999973773956298828125f, 0.910000026226043701171875f), _1484, -1.0f);
    float _1502 = _1334 + _1500;
    float _1504 = clamp((_1335 + _1500) * 1.53846156597137451171875f, 0.0f, 1.0f);
    float _1511 = clamp(_1502 + _1502, 0.0f, 1.0f);
    float _1521 = mad(sin(_1334 * 17.52899932861328125f) + 1.0f, -0.1149999797344207763671875f, 0.89999997615814208984375f);
    float _1528 = dp3_f32(float3(t12.Load(8u).xyz), float3(0.21269999444484710693359375f, 0.715200006961822509765625f, 0.07209999859333038330078125f));
    float _1533 = mad(exp2(log2(abs(_1528)) * 0.699999988079071044921875f), 0.10000002384185791015625f, 0.89999997615814208984375f);
    float _1537 = _1521 * (_1533 * 0.02999999932944774627685546875f);
    float _1538 = mad(_1484, -0.3499999940395355224609375f, 0.3499999940395355224609375f);
    float _1542 = mad(mad(-_1499, _1499, 1.0f), 1.0f - _1538, _1538);
    float _1543 = min((exp2(log2(_1499) * 0.699999988079071044921875f) * (mad(_1511, -2.0f, 3.0f) * (_1511 * _1511))) + (mad(_1504, -2.0f, 3.0f) * (_1504 * _1504)), 1.0f);
    float _1553 = mad(_1543, mad((_1521 * _1533) * 0.62000000476837158203125f, _1542, mad(_1414, _1465, -_1414)), mad(-_1414, _1465, _1414));
    float _1554 = mad(_1543, mad(_1542, _1537, mad(_1465, _1415, -_1415)), mad(-_1465, _1415, _1415));
    float _1555 = mad(_1543, mad(_1542, _1537, mad(_1465, _1416, -_1416)), mad(-_1465, _1416, _1416));
    float _1558 = mad(_1334, _1335 * (1.0f - _1336), _1336);
    float _1560;
    _1560 = 0.0f;
    float _1561;
    uint _1564;
    uint _1563 = 0u;
    for (;;) {
      if (int(_1563) >= 8) {
        break;
      }
      float4 _1571 = t11.Load(_1563);
      float _1573 = _1571.y;
      float _1575 = _1571.x - _1328;
      _1561 = mad(_1558 * (_1571.w * clamp((abs((_1575 > 3.1415927410125732421875f) ? (_1575 - 6.283185482025146484375f) : ((_1575 < (-3.1415927410125732421875f)) ? (_1575 + 6.283185482025146484375f) : _1575)) + (_1573 - 3.1415927410125732421875f)) / max(_1573 * 0.699999988079071044921875f, 0.001000000047497451305389404296875f), 0.0f, 1.0f)), 1.0f - _1560, _1560);
      _1564 = _1563 + 1u;
      _1560 = _1561;
      _1563 = _1564;
      continue;
    }
    float _1594 = clamp(_1560 + _1560, 0.0f, 1.0f) * 0.949999988079071044921875f;
    float _1598 = mad(_1594, 0.310000002384185791015625f - _1553, _1553);
    float _1599 = mad(_1594, 0.014999999664723873138427734375f - _1554, _1554);
    float _1600 = mad(_1594, 0.014999999664723873138427734375f - _1555, _1555);
    float4 _1601 = t11.Load(12u);
    float _1602 = _1601.x;
    float _1630;
    float _1631;
    float _1632;
    if (_1602 != 0.0f) {
      float _1609 = clamp(_1528, 0.0f, 1.0f);
      float _1619 = clamp((_1333 + (_1602 - 1.0f)) / max(mad(_1602, 0.5f, 0.5f), 0.001000000047497451305389404296875f), 0.0f, 1.0f);
      float _1623 = clamp(_1602 * 2.857142925262451171875f, 0.0f, 1.0f);
      float _1626 = mad(_1623, -2.0f, 3.0f) * (_1623 * _1623);
      _1630 = mad(_1626, _1619 * (_1609 * (_1333 * 0.930000007152557373046875f)), _1600);
      _1631 = mad(_1626, _1619 * (_1609 * (_1333 * 0.85000002384185791015625f)), _1599);
      _1632 = mad((_1609 * (_1333 * 0.790000021457672119140625f)) * _1619, _1626, _1598);
    } else {
      _1630 = _1600;
      _1631 = _1599;
      _1632 = _1598;
    }
    bool _1635 = cb2_m22.x > 0.0f;
    bool _1639 = frac((_427 * 420.0f) + (_1478 * 0.20000000298023223876953125f)) >= 0.5f;
    float _1640 = _1639 ? 0.300000011920928955078125f : 0.0f;
    float _1641 = cb2_m22.x * _1640;
    _1652 = _1635 ? mad(_1641, 0.0f - _1632, _1632) : _1632;
    _1653 = _1635 ? mad(_1641, (_1639 ? 0.100000001490116119384765625f : 0.0f) - _1631, _1631) : _1631;
    _1654 = _1635 ? mad(_1641, _1640 - _1630, _1630) : _1630;
  } else {
    _1652 = _1271;
    _1653 = _1272;
    _1654 = _1273;
  }
  float _1659 = 1.0f / max(1.0f - max(max(_1653, _1654), _1652), 6.099999882280826568603515625e-05f);
  float _1666 = min(-(_1659 * _1652), 0.0f);
  float _1667 = min(-(_1659 * _1653), 0.0f);
  float _1668 = min(-(_1659 * _1654), 0.0f);
  float2 _1671 = float2(_426 - 0.5f, _427 - 0.5f);
  float _1682 = clamp(-((sqrt(dp2_f32(_1671, _1671)) - cb2_m7.x) * (1.0f / cb2_m7.y)), 0.0f, 1.0f);
  float _1683 = mad(_1682, -2.0f, 3.0f);
  float _1684 = _1682 * _1682;
  float _1685 = _1683 * _1684;
  float _1687 = mad(-_1683, _1684, 1.0f);
  float _1710 = cb2_m7.z * cb2_m7.w;
  float3 _1723 = float3(_430 ? (-_1666) : mad(_1666 + ((_1687 * cb2_m5.x) - (_1666 * _1685)), _1710, -_1666), _430 ? (-_1667) : mad(_1710, ((_1687 * cb2_m5.y) - (_1685 * _1667)) + _1667, -_1667), _430 ? (-_1668) : mad(_1710, ((cb2_m5.z * _1687) - (_1685 * _1668)) + _1668, -_1668));

#if 0
  // float _1730 = min(dp3_f32(float3(0.4397009909152984619140625f, 0.3829779922962188720703125f, 0.1773349940776824951171875f), _1723) * 2.5f, 65504.0f);
  // float _1731 = min(dp3_f32(float3(0.08979229629039764404296875f, 0.813422977924346923828125f, 0.09676159918308258056640625f), _1723) * 2.5f, 65504.0f);
  // float _1732 = min(dp3_f32(float3(0.01754399947822093963623046875f, 0.11154399812221527099609375f, 0.870703995227813720703125f), _1723) * 2.5f, 65504.0f);
#endif

#if 1
  float _1730 = dp3_f32(float3(0.4397009909152984619140625f, 0.3829779922962188720703125f, 0.1773349940776824951171875f), _1723);
  float _1731 = dp3_f32(float3(0.08979229629039764404296875f, 0.813422977924346923828125f, 0.09676159918308258056640625f), _1723);
  float _1732 = dp3_f32(float3(0.01754399947822093963623046875f, 0.11154399812221527099609375f, 0.870703995227813720703125f), _1723);
  if (RENODX_TONE_MAP_TYPE == 0) {
    _1730 *= 2.5f;
    _1731 *= 2.5f;
    _1732 *= 2.5f;
  }
  _1730 = min(_1730, 65504.0f);
  _1731 = min(_1731, 65504.0f);
  _1732 = min(_1732, 65504.0f);
#endif

  float _1736 = max(max(_1731, _1730), _1732);
  float _1741 = (max(_1736, 9.9999997473787516355514526367188e-05f) - max(min(min(_1731, _1730), _1732), 9.9999997473787516355514526367188e-05f)) / max(_1736, 0.00999999977648258209228515625f);
  float _1752 = mad(sqrt(mad(_1730 - _1732, _1730, ((_1732 - _1731) * _1732) + ((_1731 - _1730) * _1731))), 1.75f, (_1732 + _1731) + _1730);
  float _1753 = _1741 - 0.4000000059604644775390625f;
  float _1757 = max(1.0f - abs(_1753 * 2.5f), 0.0f);
  float _1765 = mad(mad(clamp(mad(_1753, asfloat(0x7f800000u /* inf */), 0.5f), 0.0f, 1.0f), 2.0f, -1.0f), mad(-_1757, _1757, 1.0f), 1.0f) * 0.02500000037252902984619140625f;
  float _1773 = ((_1752 <= 0.1599999964237213134765625f) ? _1765 : ((_1752 >= 0.4799999892711639404296875f) ? 0.0f : (((0.07999999821186065673828125f / (_1752 * 0.3333333432674407958984375f)) - 0.5f) * _1765))) + 1.0f;
  float _1774 = _1773 * _1730;
  float _1775 = _1773 * _1731;
  float _1776 = _1773 * _1732;
  float _1781 = (_1775 - _1776) * 1.73205077648162841796875f;
  float _1783 = (_1774 * 2.0f) - _1775;
  float _1785 = mad(-_1773, _1732, _1783);
  float _1786 = abs(_1785);
  float _1787 = abs(_1781);
  float _1791 = min(_1786, _1787) * (1.0f / max(_1786, _1787));
  float _1792 = _1791 * _1791;
  float _1796 = mad(_1792, mad(_1792, mad(_1792, mad(_1792, 0.02083509974181652069091796875f, -0.08513300120830535888671875f), 0.1801410019397735595703125f), -0.33029949665069580078125f), 0.999866008758544921875f);
  float _1806 = mad(_1791, _1796, (_1786 < _1787) ? mad(_1791 * _1796, -2.0f, 1.57079637050628662109375f) : 0.0f) + ((_1785 < mad(_1773, _1732, -_1783)) ? (-3.1415927410125732421875f) : 0.0f);
  float _1807 = min(_1781, _1785);
  float _1808 = max(_1781, _1785);
  float _1817 = ((_1774 == _1775) && (_1776 == _1775)) ? 0.0f : ((((_1807 < (-_1807)) && (_1808 >= (-_1808))) ? (-_1806) : _1806) * 57.295780181884765625f);
  float _1820 = (_1817 < 0.0f) ? (_1817 + 360.0f) : _1817;
  float _1830 = max(1.0f - abs(((_1820 < (-180.0f)) ? (_1820 + 360.0f) : ((_1820 > 180.0f) ? (_1820 - 360.0f) : _1820)) * 0.01481481455266475677490234375f), 0.0f);
  float _1833 = mad(_1830, -2.0f, 3.0f) * (_1830 * _1830);
  float3 _1844 = float3(clamp(_1774 + (((_1741 * (_1833 * _1833)) * mad(-_1773, _1730, 0.02999999932944774627685546875f)) * 0.180000007152557373046875f), 0.0f, 65504.0f), clamp(_1775, 0.0f, 65504.0f), clamp(_1776, 0.0f, 65504.0f));

  // AP0 -> AP1
  float _1848 = clamp(dp3_f32(float3(1.45143926143646240234375f, -0.236510753631591796875f, -0.214928567409515380859375f), _1844), 0.0f, 65504.0f);
  float _1849 = clamp(dp3_f32(float3(-0.07655377686023712158203125f, 1.1762297153472900390625f, -0.0996759235858917236328125f), _1844), 0.0f, 65504.0f);
  float _1850 = clamp(dp3_f32(float3(0.0083161480724811553955078125f, -0.0060324496589601039886474609375f, 0.99771630764007568359375f), _1844), 0.0f, 65504.0f);
  float _1852 = dp3_f32(float3(_1848, _1849, _1850), float3(0.2722289860248565673828125f, 0.674081981182098388671875f, 0.0536894984543323516845703125f));
  float _1856 = mad(_1848 - _1852, 0.959999978542327880859375f, _1852);
  float _1857 = mad(_1849 - _1852, 0.959999978542327880859375f, _1852);
  float _1858 = mad(_1850 - _1852, 0.959999978542327880859375f, _1852);
  // END RRT

#if 1
  if (RENODX_TONE_MAP_TYPE != 0) {
    u0[_1243] = float4(CustomACES(float3(_1856, _1857, _1858)), 1.f);
    return;
  }
#endif

  // START ODT
  float _1865 = (_1856 <= 0.0f) ? (-14.0f) : log2(_1856);
  float _1866 = (_1857 <= 0.0f) ? (-14.0f) : log2(_1857);
  float _1867 = (_1858 <= 0.0f) ? (-14.0f) : log2(_1858);
  float _1954;
  if (_1865 <= (-17.4739322662353515625f)) {
    _1954 = -4.0f;
  } else {
    float _1953;
    if (_1865 < (-2.4739310741424560546875f)) {
      float _1878 = mad(_1865, 0.3010300099849700927734375f, 5.2601776123046875f);
      float _1879 = _1878 * 0.6643855571746826171875f;
      int _1880 = cvt_f32_i32(_1879);
      float _1883 = mad(_1878, 0.6643855571746826171875f, -trunc(_1879));
      uint _1889 = min(uint(_1880 + 4), 10u);
      uint _1895 = min(uint((_1880 + 1) + 4), 10u);
      uint _1901 = min(uint((_1880 + 2) + 4), 10u);
      float2 _1907 = float2(_304[_1889].x, _304[_1895].x);
      _1953 = dp3_f32(float3(_1883 * _1883, _1883, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(_304[_1889].x, _304[_1895].x, _304[_1901].x)), dp2_f32(float2(-1.0f, 1.0f), _1907), dp2_f32(0.5f.xx, _1907)));
    } else {
      float _1952;
      if (_1865 < 15.52606868743896484375f) {
        float _1917 = mad(_1865, 0.3010300099849700927734375f, 0.74472749233245849609375f);
        float _1918 = _1917 * 0.55365467071533203125f;
        int _1919 = cvt_f32_i32(_1918);
        float _1922 = mad(_1917, 0.55365467071533203125f, -trunc(_1918));
        uint _1928 = min(uint(_1919 + 4), 10u);
        uint _1934 = min(uint((_1919 + 1) + 4), 10u);
        uint _1940 = min(uint((_1919 + 2) + 4), 10u);
        float2 _1946 = float2(_304[_1928].y, _304[_1934].y);
        _1952 = dp3_f32(float3(_1922 * _1922, _1922, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(_304[_1928].y, _304[_1934].y, _304[_1940].y)), dp2_f32(float2(-1.0f, 1.0f), _1946), dp2_f32(0.5f.xx, _1946)));
      } else {
        _1952 = 4.0f;
      }
      _1953 = _1952;
    }
    _1954 = _1953;
  }
  float _2040;
  if (_1866 <= (-17.4739322662353515625f)) {
    _2040 = -4.0f;
  } else {
    float _2039;
    if (_1866 < (-2.4739310741424560546875f)) {
      float _1964 = mad(_1866, 0.3010300099849700927734375f, 5.2601776123046875f);
      float _1965 = _1964 * 0.6643855571746826171875f;
      int _1966 = cvt_f32_i32(_1965);
      float _1969 = mad(_1964, 0.6643855571746826171875f, -trunc(_1965));
      uint _1975 = min(uint(_1966 + 4), 10u);
      uint _1981 = min(uint((_1966 + 1) + 4), 10u);
      uint _1987 = min(uint((_1966 + 2) + 4), 10u);
      float2 _1993 = float2(_304[_1975].x, _304[_1981].x);
      _2039 = dp3_f32(float3(_1969 * _1969, _1969, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(_304[_1975].x, _304[_1981].x, _304[_1987].x)), dp2_f32(float2(-1.0f, 1.0f), _1993), dp2_f32(0.5f.xx, _1993)));
    } else {
      float _2038;
      if (_1866 < 15.52606868743896484375f) {
        float _2003 = mad(_1866, 0.3010300099849700927734375f, 0.74472749233245849609375f);
        float _2004 = _2003 * 0.55365467071533203125f;
        int _2005 = cvt_f32_i32(_2004);
        float _2008 = mad(_2003, 0.55365467071533203125f, -trunc(_2004));
        uint _2014 = min(uint(_2005 + 4), 10u);
        uint _2020 = min(uint((_2005 + 1) + 4), 10u);
        uint _2026 = min(uint((_2005 + 2) + 4), 10u);
        float2 _2032 = float2(_304[_2014].y, _304[_2020].y);
        _2038 = dp3_f32(float3(_2008 * _2008, _2008, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(_304[_2014].y, _304[_2020].y, _304[_2026].y)), dp2_f32(float2(-1.0f, 1.0f), _2032), dp2_f32(0.5f.xx, _2032)));
      } else {
        _2038 = 4.0f;
      }
      _2039 = _2038;
    }
    _2040 = _2039;
  }
  float _2126;
  if (_1867 <= (-17.4739322662353515625f)) {
    _2126 = -4.0f;
  } else {
    float _2125;
    if (_1867 < (-2.4739310741424560546875f)) {
      float _2050 = mad(_1867, 0.3010300099849700927734375f, 5.2601776123046875f);
      float _2051 = _2050 * 0.6643855571746826171875f;
      int _2052 = cvt_f32_i32(_2051);
      float _2055 = mad(_2050, 0.6643855571746826171875f, -trunc(_2051));
      uint _2061 = min(uint(_2052 + 4), 10u);
      uint _2067 = min(uint((_2052 + 1) + 4), 10u);
      uint _2073 = min(uint((_2052 + 2) + 4), 10u);
      float2 _2079 = float2(_304[_2061].x, _304[_2067].x);
      _2125 = dp3_f32(float3(_2055 * _2055, _2055, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(_304[_2061].x, _304[_2067].x, _304[_2073].x)), dp2_f32(float2(-1.0f, 1.0f), _2079), dp2_f32(0.5f.xx, _2079)));
    } else {
      float _2124;
      if (_1867 < 15.52606868743896484375f) {
        float _2089 = mad(_1867, 0.3010300099849700927734375f, 0.74472749233245849609375f);
        float _2090 = _2089 * 0.55365467071533203125f;
        int _2091 = cvt_f32_i32(_2090);
        float _2094 = mad(_2089, 0.55365467071533203125f, -trunc(_2090));
        uint _2100 = min(uint(_2091 + 4), 10u);
        uint _2106 = min(uint((_2091 + 1) + 4), 10u);
        uint _2112 = min(uint((_2091 + 2) + 4), 10u);
        float2 _2118 = float2(_304[_2100].y, _304[_2106].y);
        _2124 = dp3_f32(float3(_2094 * _2094, _2094, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(_304[_2100].y, _304[_2106].y, _304[_2112].y)), dp2_f32(float2(-1.0f, 1.0f), _2118), dp2_f32(0.5f.xx, _2118)));
      } else {
        _2124 = 4.0f;
      }
      _2125 = _2124;
    }
    _2126 = _2125;
  }
  float3 _2129 = float3(exp2(_1954 * 3.3219280242919921875f), exp2(_2040 * 3.3219280242919921875f), exp2(_2126 * 3.3219280242919921875f));
  float3 _2133 = float3(dp3_f32(float3(0.695452213287353515625f, 0.140678703784942626953125f, 0.16386906802654266357421875f), _2129), dp3_f32(float3(0.0447945632040500640869140625f, 0.859671115875244140625f, 0.095534317195415496826171875f), _2129), dp3_f32(float3(-0.0055258828215301036834716796875f, 0.0040252101607620716094970703125f, 1.00150072574615478515625f), _2129));
  float _2134 = dp3_f32(float3(1.45143926143646240234375f, -0.236510753631591796875f, -0.214928567409515380859375f), _2133);
  float _2135 = dp3_f32(float3(-0.07655377686023712158203125f, 1.1762297153472900390625f, -0.0996759235858917236328125f), _2133);
  float _2136 = dp3_f32(float3(0.0083161480724811553955078125f, -0.0060324496589601039886474609375f, 0.99771630764007568359375f), _2133);
  float _2140 = (_2134 <= 0.0f) ? (-4.0f) : (log2(_2134) * 0.3010300099849700927734375f);
  float _2144 = log2(cb1_m[19u].y);
  float _2145 = _2144 * 0.3010300099849700927734375f;
  float _2253;
  if (_2145 >= _2140) {
    _2253 = mad(cb1_m[21u].x, _2140, (log2(cb1_m[19u].z) * 0.3010300099849700927734375f) - (_2145 * cb1_m[21u].x));
  } else {
    float _2162 = log2(cb1_m[20u].x);
    float _2163 = _2162 * 0.3010300099849700927734375f;
    float _2252;
    if ((_2145 < _2140) && (_2163 > _2140)) {
      float _2172 = (mad(_2144, -0.3010300099849700927734375f, _2140) * 7.0f) / (_2163 - _2145);
      int _2173 = cvt_f32_i32(_2172);
      float _2175 = _2172 - trunc(_2172);
      uint _2177 = uint(_2173 + 1);
      uint _2179 = uint(_2173 + 2);
      uint _2181 = uint(_2173);
      float2 _2193 = float2(cb1_m[_2181].x, cb1_m[_2177].x);
      _2252 = dp3_f32(float3(_2175 * _2175, _2175, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(cb1_m[_2181].x, cb1_m[_2177].x, cb1_m[_2179].x)), dp2_f32(float2(-1.0f, 1.0f), _2193), dp2_f32(0.5f.xx, _2193)));
    } else {
      float _2203 = log2(cb1_m[20u].z) * 0.3010300099849700927734375f;
      float _2251;
      if ((_2163 <= _2140) && (_2203 > _2140)) {
        float _2212 = (mad(_2162, -0.3010300099849700927734375f, _2140) * 7.0f) / (_2203 - _2163);
        int _2213 = cvt_f32_i32(_2212);
        float _2215 = _2212 - trunc(_2212);
        uint _2220 = uint(_2213 + 10);
        uint _2225 = uint((_2213 + 1) + 10);
        uint _2230 = uint((_2213 + 2) + 10);
        float2 _2236 = float2(cb1_m[_2220].x, cb1_m[_2225].x);
        _2251 = dp3_f32(float3(_2215 * _2215, _2215, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(cb1_m[_2220].x, cb1_m[_2225].x, cb1_m[_2230].x)), dp2_f32(float2(-1.0f, 1.0f), _2236), dp2_f32(0.5f.xx, _2236)));
      } else {
        _2251 = mad(cb1_m[21u].y, _2140, (log2(cb1_m[20u].w) * 0.3010300099849700927734375f) - (_2203 * cb1_m[21u].y));
      }
      _2252 = _2251;
    }
    _2253 = _2252;
  }
  float _2257 = (_2135 <= 0.0f) ? (-4.0f) : (log2(_2135) * 0.3010300099849700927734375f);
  float _2365;
  if (_2145 >= _2257) {
    _2365 = mad(cb1_m[21u].x, _2257, (log2(cb1_m[19u].z) * 0.3010300099849700927734375f) - (_2145 * cb1_m[21u].x));
  } else {
    float _2274 = log2(cb1_m[20u].x);
    float _2275 = _2274 * 0.3010300099849700927734375f;
    float _2364;
    if ((_2145 < _2257) && (_2275 > _2257)) {
      float _2284 = (mad(_2144, -0.3010300099849700927734375f, _2257) * 7.0f) / (_2275 - _2145);
      int _2285 = cvt_f32_i32(_2284);
      float _2287 = _2284 - trunc(_2284);
      uint _2289 = uint(_2285 + 1);
      uint _2291 = uint(_2285 + 2);
      uint _2293 = uint(_2285);
      float2 _2305 = float2(cb1_m[_2293].x, cb1_m[_2289].x);
      _2364 = dp3_f32(float3(_2287 * _2287, _2287, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(cb1_m[_2293].x, cb1_m[_2289].x, cb1_m[_2291].x)), dp2_f32(float2(-1.0f, 1.0f), _2305), dp2_f32(0.5f.xx, _2305)));
    } else {
      float _2315 = log2(cb1_m[20u].z) * 0.3010300099849700927734375f;
      float _2363;
      if ((_2275 <= _2257) && (_2315 > _2257)) {
        float _2324 = (mad(_2274, -0.3010300099849700927734375f, _2257) * 7.0f) / (_2315 - _2275);
        int _2325 = cvt_f32_i32(_2324);
        float _2327 = _2324 - trunc(_2324);
        uint _2332 = uint(_2325 + 10);
        uint _2337 = uint((_2325 + 1) + 10);
        uint _2342 = uint((_2325 + 2) + 10);
        float2 _2348 = float2(cb1_m[_2332].x, cb1_m[_2337].x);
        _2363 = dp3_f32(float3(_2327 * _2327, _2327, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(cb1_m[_2332].x, cb1_m[_2337].x, cb1_m[_2342].x)), dp2_f32(float2(-1.0f, 1.0f), _2348), dp2_f32(0.5f.xx, _2348)));
      } else {
        _2363 = mad(cb1_m[21u].y, _2257, (log2(cb1_m[20u].w) * 0.3010300099849700927734375f) - (_2315 * cb1_m[21u].y));
      }
      _2364 = _2363;
    }
    _2365 = _2364;
  }
  float _2369 = (_2136 <= 0.0f) ? (-4.0f) : (log2(_2136) * 0.3010300099849700927734375f);
  float _2477;
  if (_2145 >= _2369) {
    _2477 = mad(cb1_m[21u].x, _2369, (log2(cb1_m[19u].z) * 0.3010300099849700927734375f) - (_2145 * cb1_m[21u].x));
  } else {
    float _2386 = log2(cb1_m[20u].x);
    float _2387 = _2386 * 0.3010300099849700927734375f;
    float _2476;
    if ((_2145 < _2369) && (_2387 > _2369)) {
      float _2396 = (mad(_2144, -0.3010300099849700927734375f, _2369) * 7.0f) / (_2387 - _2145);
      int _2397 = cvt_f32_i32(_2396);
      float _2399 = _2396 - trunc(_2396);
      uint _2401 = uint(_2397 + 1);
      uint _2403 = uint(_2397 + 2);
      uint _2405 = uint(_2397);
      float2 _2417 = float2(cb1_m[_2405].x, cb1_m[_2401].x);
      _2476 = dp3_f32(float3(_2399 * _2399, _2399, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(cb1_m[_2405].x, cb1_m[_2401].x, cb1_m[_2403].x)), dp2_f32(float2(-1.0f, 1.0f), _2417), dp2_f32(0.5f.xx, _2417)));
    } else {
      float _2427 = log2(cb1_m[20u].z) * 0.3010300099849700927734375f;
      float _2475;
      if ((_2387 <= _2369) && (_2427 > _2369)) {
        float _2436 = (mad(_2386, -0.3010300099849700927734375f, _2369) * 7.0f) / (_2427 - _2387);
        int _2437 = cvt_f32_i32(_2436);
        float _2439 = _2436 - trunc(_2436);
        uint _2444 = uint(_2437 + 10);
        uint _2449 = uint((_2437 + 1) + 10);
        uint _2454 = uint((_2437 + 2) + 10);
        float2 _2460 = float2(cb1_m[_2444].x, cb1_m[_2449].x);
        _2475 = dp3_f32(float3(_2439 * _2439, _2439, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(cb1_m[_2444].x, cb1_m[_2449].x, cb1_m[_2454].x)), dp2_f32(float2(-1.0f, 1.0f), _2460), dp2_f32(0.5f.xx, _2460)));
      } else {
        _2475 = mad(cb1_m[21u].y, _2369, (log2(cb1_m[20u].w) * 0.3010300099849700927734375f) - (_2427 * cb1_m[21u].y));
      }
      _2476 = _2475;
    }
    _2477 = _2476;
  }
  if (_1277) {
    float3 _2489 = float3(exp2(_2253 * 3.3219280242919921875f) - 3.5073844628641381859779357910156e-05f, exp2(_2365 * 3.3219280242919921875f) - 3.5073844628641381859779357910156e-05f, exp2(_2477 * 3.3219280242919921875f) - 3.5073844628641381859779357910156e-05f);

    // BT.709 -> XYZ -> BT.2020 -> PQ
    float3 _2493 = float3(dp3_f32(float3(0.662454187870025634765625f, 0.1340042054653167724609375f, 0.1561876833438873291015625f), _2489), dp3_f32(float3(0.272228717803955078125f, 0.674081742763519287109375f, 0.053689517080783843994140625f), _2489), dp3_f32(float3(-0.0055746496655046939849853515625f, 0.0040607335977256298065185546875f, 1.01033914089202880859375f), _2489));
    float3 _2497 = float3(dp3_f32(float3(0.98722398281097412109375f, -0.0061132698319852352142333984375f, 0.01595330052077770233154296875f), _2493), dp3_f32(float3(-0.007598360069096088409423828125f, 1.00186002254486083984375f, 0.0053301998414099216461181640625f), _2493), dp3_f32(float3(0.003072570078074932098388671875f, -0.0050959498621523380279541015625f, 1.0816800594329833984375f), _2493));
    float _2506 = exp2(log2(abs(dp3_f32(float3(1.71665096282958984375f, -0.35567080974578857421875f, -0.2533662319183349609375f), _2497) * 9.9999997473787516355514526367188e-05f)) * 0.1593017578125f);
    float _2517 = exp2(log2(abs(dp3_f32(float3(-0.666684329509735107421875f, 1.616481304168701171875f, 0.0157685391604900360107421875f), _2497) * 9.9999997473787516355514526367188e-05f)) * 0.1593017578125f);
    float _2527 = exp2(log2(abs(dp3_f32(float3(0.0176398493349552154541015625f, -0.04277060925960540771484375f, 0.94210326671600341796875f), _2497) * 9.9999997473787516355514526367188e-05f)) * 0.1593017578125f);
    u0[_1243] = float4(min(exp2(log2(mad(_2506, 18.8515625f, 0.8359375f) / mad(_2506, 18.6875f, 1.0f)) * 78.84375f), 1.0f), min(exp2(log2(mad(_2517, 18.8515625f, 0.8359375f) / mad(_2517, 18.6875f, 1.0f)) * 78.84375f), 1.0f), min(exp2(log2(mad(_2527, 18.8515625f, 0.8359375f) / mad(_2527, 18.6875f, 1.0f)) * 78.84375f), 1.0f), 1.0f);
  }
}

[numthreads(8, 8, 1)]
void main(SPIRV_Cross_Input stage_input) {
  gl_LocalInvocationID = stage_input.gl_LocalInvocationID;
  gl_GlobalInvocationID = stage_input.gl_GlobalInvocationID;
  comp_main();
}
