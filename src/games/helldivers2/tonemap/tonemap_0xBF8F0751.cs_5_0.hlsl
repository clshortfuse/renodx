#include "../common.hlsl"
struct _377
{
    uint2 _m0;
    uint _m1;
};

static const float _58[1] = { 0.0f };
static const float4 _281[11] = { float4(1.0f, 0.0f, 0.0f, 0.0f), float4(0.0f, 1.0f, 0.0f, 0.0f), float4(0.0f, 0.0f, 1.0f, 0.0f), float4(0.0f, 0.0f, 0.0f, 1.0f), float4(-4.0f, -0.718548238277435302734375f, 0.0f, 0.0f), float4(-4.0f, 2.0810306072235107421875f, 0.0f, 0.0f), float4(-3.1573765277862548828125f, 3.66812419891357421875f, 0.0f, 0.0f), float4(-0.485249996185302734375f, 4.0f, 0.0f, 0.0f), float4(1.84773242473602294921875f, 4.0f, 0.0f, 0.0f), float4(1.84773242473602294921875f, 4.0f, 0.0f, 0.0f), 0.0f.xxxx };

cbuffer cb0_buf : register(b0)
{
    uint4 cb0_m[44] : packoffset(c0);
};

cbuffer cb1_buf : register(b1)
{
    float4 cb1_m[4096] : packoffset(c0);
};

cbuffer cb2_buf : register(b2)
{
    uint4 cb2_m0 : packoffset(c0);
    uint4 cb2_m1 : packoffset(c1);
    float2 cb2_m2 : packoffset(c2);
    float2 cb2_m3 : packoffset(c2.z);
    float4 cb2_m4 : packoffset(c3);
    float3 cb2_m5 : packoffset(c4);
    uint cb2_m6 : packoffset(c4.w);
    float4 cb2_m7 : packoffset(c5);
    float4 cb2_m8 : packoffset(c6);
    float2 cb2_m9 : packoffset(c7);
    float2 cb2_m10 : packoffset(c7.z);
    uint4 cb2_m11 : packoffset(c8);
    uint4 cb2_m12 : packoffset(c9);
    uint4 cb2_m13 : packoffset(c10);
    uint4 cb2_m14 : packoffset(c11);
    uint4 cb2_m15 : packoffset(c12);
    uint4 cb2_m16 : packoffset(c13);
    uint4 cb2_m17 : packoffset(c14);
    uint4 cb2_m18 : packoffset(c15);
    uint4 cb2_m19 : packoffset(c16);
    uint4 cb2_m20 : packoffset(c17);
    float4 cb2_m21 : packoffset(c18);
    float4 cb2_m22 : packoffset(c19);
};

SamplerState s0 : register(s0);
SamplerState s1 : register(s1);
SamplerState s2 : register(s2);
SamplerState s3 : register(s3);
SamplerState s4 : register(s4);
SamplerState s5 : register(s5);
SamplerState s6 : register(s6);
Buffer<float4> t0 : register(t0);
Texture2D<float4> t1 : register(t1);
Texture2D<float4> t2 : register(t2);
Texture2D<float4> t3 : register(t3);
Texture2D<float4> t4 : register(t4);
Texture2D<float4> t5 : register(t5);
Texture2D<float4> t6 : register(t6);
Texture2D<float4> t7 : register(t7);
Texture2D<float4> t8 : register(t8);
Buffer<float4> t9 : register(t9);
Buffer<float4> t10 : register(t10);
RWTexture2D<float4> u0 : register(u0);
RWTexture2D<float4> u1 : register(u1);

static uint3 gl_LocalInvocationID;
static uint3 gl_GlobalInvocationID;
struct SPIRV_Cross_Input
{
    uint3 gl_LocalInvocationID : SV_GroupThreadID;
    uint3 gl_GlobalInvocationID : SV_DispatchThreadID;
};

groupshared float g0[1];

uint2 spvImageSize(RWTexture2D<float4> Tex, out uint Param)
{
    uint2 ret;
    Tex.GetDimensions(ret.x, ret.y);
    Param = 0u;
    return ret;
}

uint spvBitfieldInsert(uint Base, uint Insert, uint Offset, uint Count)
{
    uint Mask = Count == 32 ? 0xffffffff : (((1u << Count) - 1) << (Offset & 31));
    return (Base & ~Mask) | ((Insert << Offset) & Mask);
}

uint2 spvBitfieldInsert(uint2 Base, uint2 Insert, uint Offset, uint Count)
{
    uint Mask = Count == 32 ? 0xffffffff : (((1u << Count) - 1) << (Offset & 31));
    return (Base & ~Mask) | ((Insert << Offset) & Mask);
}

uint3 spvBitfieldInsert(uint3 Base, uint3 Insert, uint Offset, uint Count)
{
    uint Mask = Count == 32 ? 0xffffffff : (((1u << Count) - 1) << (Offset & 31));
    return (Base & ~Mask) | ((Insert << Offset) & Mask);
}

uint4 spvBitfieldInsert(uint4 Base, uint4 Insert, uint Offset, uint Count)
{
    uint Mask = Count == 32 ? 0xffffffff : (((1u << Count) - 1) << (Offset & 31));
    return (Base & ~Mask) | ((Insert << Offset) & Mask);
}

uint spvBitfieldUExtract(uint Base, uint Offset, uint Count)
{
    uint Mask = Count == 32 ? 0xffffffff : ((1 << Count) - 1);
    return (Base >> Offset) & Mask;
}

uint2 spvBitfieldUExtract(uint2 Base, uint Offset, uint Count)
{
    uint Mask = Count == 32 ? 0xffffffff : ((1 << Count) - 1);
    return (Base >> Offset) & Mask;
}

uint3 spvBitfieldUExtract(uint3 Base, uint Offset, uint Count)
{
    uint Mask = Count == 32 ? 0xffffffff : ((1 << Count) - 1);
    return (Base >> Offset) & Mask;
}

uint4 spvBitfieldUExtract(uint4 Base, uint Offset, uint Count)
{
    uint Mask = Count == 32 ? 0xffffffff : ((1 << Count) - 1);
    return (Base >> Offset) & Mask;
}

int spvBitfieldSExtract(int Base, int Offset, int Count)
{
    int Mask = Count == 32 ? -1 : ((1 << Count) - 1);
    int Masked = (Base >> Offset) & Mask;
    int ExtendShift = (32 - Count) & 31;
    return (Masked << ExtendShift) >> ExtendShift;
}

int2 spvBitfieldSExtract(int2 Base, int Offset, int Count)
{
    int Mask = Count == 32 ? -1 : ((1 << Count) - 1);
    int2 Masked = (Base >> Offset) & Mask;
    int ExtendShift = (32 - Count) & 31;
    return (Masked << ExtendShift) >> ExtendShift;
}

int3 spvBitfieldSExtract(int3 Base, int Offset, int Count)
{
    int Mask = Count == 32 ? -1 : ((1 << Count) - 1);
    int3 Masked = (Base >> Offset) & Mask;
    int ExtendShift = (32 - Count) & 31;
    return (Masked << ExtendShift) >> ExtendShift;
}

int4 spvBitfieldSExtract(int4 Base, int Offset, int Count)
{
    int Mask = Count == 32 ? -1 : ((1 << Count) - 1);
    int4 Masked = (Base >> Offset) & Mask;
    int ExtendShift = (32 - Count) & 31;
    return (Masked << ExtendShift) >> ExtendShift;
}

float dp2_f32(float2 a, float2 b)
{
    precise float _368 = a.x * b.x;
    return mad(a.y, b.y, _368);
}

float dp3_f32(float3 a, float3 b)
{
    precise float _354 = a.x * b.x;
    return mad(a.z, b.z, mad(a.y, b.y, _354));
}

float dp4_f32(float4 a, float4 b)
{
    precise float _336 = a.x * b.x;
    return mad(a.w, b.w, mad(a.z, b.z, mad(a.y, b.y, _336)));
}

int cvt_f32_i32(float v)
{
    return isnan(v) ? 0 : ((v < (-2147483648.0f)) ? int(0x80000000) : ((v > 2147483520.0f) ? 2147483647 : int(v)));
}

void comp_main()
{
    uint _376_dummy_parameter;
    _377 _378 = { spvImageSize(u0, _376_dummy_parameter), 1u };
    uint _393 = gl_LocalInvocationID.x + (gl_LocalInvocationID.y * 8u);
    uint _397 = (gl_GlobalInvocationID.x - gl_LocalInvocationID.x) + spvBitfieldUExtract(_393, 1u, 3u);
    uint _398 = spvBitfieldInsert(spvBitfieldUExtract(gl_LocalInvocationID.y, 0u, 29u), _393, 0u, 1u) + (gl_GlobalInvocationID.y - gl_LocalInvocationID.y);
    float _405 = (float(_397) + 0.5f) / float(_378._m0.x);
    float _406 = (float(_398) + 0.5f) / float(_378._m0.y);
    bool _409 = (_378._m0.x < _397) || (_378._m0.y < _398);
    bool _414 = cb2_m3.y == 1.0f;
    if (((gl_LocalInvocationID.x == 0u) && _414) && (gl_LocalInvocationID.y == 0u))
    {
        g0[0u] = t6.Load(int3(uint2(0u, 0u), 0u)).x;
    }
    GroupMemoryBarrierWithGroupSync();
    float2 _429 = float2(_405, _406);
    float _434 = mad(t4.SampleLevel(s3, _429, 0.0f).x, 2.0f, -1.0f);
    float _449;
    if (_434 > 0.0f)
    {
        _449 = min(sqrt(_434), t0.Load(8u).x);
    }
    else
    {
        _449 = max(_434, -t0.Load(7u).x);
    }
    bool _460 = (cb2_m10.x != 0.0f) && (cb2_m10.y != 0.0f);
    bool _464 = (cb2_m8.w != 0.0f) && (cb2_m9.x != 0.0f);
    float4 _468 = t1.SampleLevel(s0, _429, 0.0f);
    float _469 = _468.x;
    float _470 = _468.y;
    float _471 = _468.z;
    float _539;
    float _540;
    float _541;
    if (_464 || _460)
    {
        float4 _478 = t3.SampleLevel(s2, _429, 0.0f);
        float2 _487 = float2(_478.x * cb2_m2.x, _478.y * cb2_m2.y);
        float _501 = exp2(max(_460 ? clamp((sqrt(dp2_f32(_487, _487)) - 2.0f) * 0.0555555559694766998291015625f, 0.0f, 1.0f) : 0.0f, _464 ? clamp((abs(_449) - 0.0471399985253810882568359375f) * 1.0494720935821533203125f, 0.0f, 1.0f) : 0.0f) * (-4.3280849456787109375f));
        float4 _505 = t2.SampleLevel(s1, _429, 0.0f);
        float _506 = _505.x;
        float _507 = _505.y;
        float _508 = _505.z;
        float _514 = asfloat(cb0_m[43u].w) * 20.0f;
        float _525 = mad(t7.SampleLevel(s5, float2(mad(_405, 30.0f, sin(_514)), mad(_406, 30.0f, cos(_514))), 0.0f).x, 0.00999999977648258209228515625f, -0.004999999888241291046142578125f);
        float _529 = sqrt(max(max(_506, max(_507, _508)), 1.0000000133514319600180897396058e-10f));
        float _530 = mad(_525, _529, _506);
        float _531 = mad(_525, _529, _507);
        float _532 = mad(_525, _529, _508);
        _539 = mad(_501, _471 - _532, _532);
        _540 = mad(_501, _470 - _531, _531);
        _541 = mad(_501, _469 - _530, _530);
    }
    else
    {
        _539 = _471;
        _540 = _470;
        _541 = _469;
    }
    float _546 = _414 ? g0[0u] : cb2_m3.x;
    float4 _550 = t5.SampleLevel(s4, _429, 0.0f);
    float _551 = _550.x;
    float _559 = max(cb2_m4.y - dp3_f32(float3(_551, _550.yz), float3(0.21269999444484710693359375f, 0.715200006961822509765625f, 0.07209999859333038330078125f)), 6.099999882280826568603515625e-05f);
    float _563 = mad(_546, _541, _551 / _559);
    float _564 = mad(_546, _540, _550.y / _559);
    float _565 = mad(_546, _539, _550.z / _559);
    float _569 = 1.0f / (max(_563, max(_565, _564)) + 1.0f);
    float _570 = _563 * _569;
    float _572 = _569 * _565;
    float3 _573 = float3(_570, _572, _569 * _564);
    float _574 = dp3_f32(_573, float3(0.25f, 0.25f, 0.5f));
    float _575 = dp3_f32(_573, float3(-0.25f, -0.25f, 0.5f));
    float _577 = dp2_f32(float2(_570, _572), float2(0.5f, -0.5f));
    uint2 _579 = uint2(_397, _398);
    u1[_579] = float4(_574, _577, _575, _574);
    float _581 = _574 - _575;
    float _582 = _577 + _581;
    float _583 = _574 + _575;
    float _584 = _581 - _577;
    bool _585 = !_409;
    float _959;
    float _960;
    float _961;
    if (_585)
    {
        float _589 = dp3_f32(float3(_582, _583, _584), float3(0.21269999444484710693359375f, 0.715200006961822509765625f, 0.07209999859333038330078125f));
        float _597 = mad(-abs(_449), cb2_m9.y, 1.0f) * cb2_m8.x;
        float _601 = mad(_597, _582 - _589, _589);
        float _602 = mad(_597, _583 - _589, _589);
        float _603 = mad(_597, _584 - _589, _589);
        float _604 = _405 - 0.5f;
        float _605 = _406 - 0.5f;
        float _606 = _605 + _605;
        float _607 = _604 + _604;
        float _608 = abs(_607);
        float _609 = abs(_606);
        float _613 = min(_608, _609) * (1.0f / max(_608, _609));
        float _614 = _613 * _613;
        float _618 = mad(_614, mad(_614, mad(_614, mad(_614, 0.02083509974181652069091796875f, -0.08513300120830535888671875f), 0.1801410019397735595703125f), -0.33029949665069580078125f), 0.999866008758544921875f);
        float _627 = mad(_613, _618, (_608 < _609) ? mad(_613 * _618, -2.0f, 1.57079637050628662109375f) : 0.0f) + (((-_607) > _607) ? (-3.1415927410125732421875f) : 0.0f);
        float _628 = min(_606, _607);
        float _629 = max(_606, _607);
        float _636 = ((_628 < (-_628)) && (_629 >= (-_629))) ? (-_627) : _627;
        float4 _640 = t8.SampleLevel(s6, _429, 0.0f);
        float _641 = _640.x;
        float _642 = _640.y;
        float _643 = _640.z;
        float _644 = _640.w;
        float _651 = (_602 - _603) * 1.73205077648162841796875f;
        float _653 = mad(_601, 2.0f, -_602);
        float _654 = _653 - _603;
        float _655 = abs(_654);
        float _656 = abs(_651);
        float _660 = min(_655, _656) * (1.0f / max(_655, _656));
        float _661 = _660 * _660;
        float _665 = mad(_661, mad(_661, mad(_661, mad(_661, 0.02083509974181652069091796875f, -0.08513300120830535888671875f), 0.1801410019397735595703125f), -0.33029949665069580078125f), 0.999866008758544921875f);
        float _674 = mad(_660, _665, (_655 < _656) ? mad(_660 * _665, -2.0f, 1.57079637050628662109375f) : 0.0f) + ((_654 < (_603 - _653)) ? (-3.1415927410125732421875f) : 0.0f);
        float _675 = min(_654, _651);
        float _676 = max(_654, _651);
        float _685 = ((_601 == _602) && (_603 == _602)) ? 0.0f : ((((_675 < (-_675)) && (_676 >= (-_676))) ? (-_674) : _674) * 57.295780181884765625f);
        float _694 = mad(cb2_m22.y, -360.0f, (_685 < 0.0f) ? (_685 + 360.0f) : _685);
        float _704 = clamp(1.0f - (abs((_694 < (-180.0f)) ? (_694 + 360.0f) : ((_694 > 180.0f) ? (_694 - 360.0f) : _694)) / (cb2_m22.z * 180.0f)), 0.0f, 1.0f);
        float _709 = dp3_f32(float3(_601, _602, _603), float3(0.21269999444484710693359375f, 0.715200006961822509765625f, 0.07209999859333038330078125f));
        float _712 = (mad(_704, -2.0f, 3.0f) * (_704 * _704)) * cb2_m22.w;
        float _724 = mad(mad(_712, _601 - _709, _709) - _601, cb2_m21.w, _601);
        float _725 = mad(cb2_m21.w, mad(_712, _602 - _709, _709) - _602, _602);
        float _726 = mad(cb2_m21.w, mad(_712, _603 - _709, _709) - _603, _603);
        float _728;
        _728 = 0.0f;
        float _729;
        uint _732;
        uint _731 = 0u;
        for (;;)
        {
            if (_731 >= 8u)
            {
                break;
            }
            uint _743 = min((_731 & 3u), 10u);
            float _763 = mad(float(_731), 0.785398185253143310546875f, -_636);
            float _764 = _763 + 1.57079637050628662109375f;
            _729 = mad(_644 * (dp4_f32(t9.Load((_731 >> 2u) + 10u), float4(_281[_743].x, _281[_743].y, _281[_743].z, _281[_743].w)) * clamp((abs((_764 > 3.1415927410125732421875f) ? (_763 - 4.7123889923095703125f) : _764) - 2.19911479949951171875f) * 2.1220657825469970703125f, 0.0f, 1.0f)), 1.0f - _728, _728);
            _732 = _731 + 1u;
            _728 = _729;
            _731 = _732;
            continue;
        }
        float _775 = clamp(_728, 0.0f, 1.0f);
        float _788 = asfloat(cb0_m[43u].w);
        float _794 = abs(t9.Load(8u).x);
        float2 _795 = float2(_604 * 1.40999996662139892578125f, _605 * 1.40999996662139892578125f);
        float _797 = sqrt(dp2_f32(_795, _795));
        float _798 = min(_797, 1.0f);
        float _799 = _798 * _798;
        float _804 = clamp(_797 - 0.5f, 0.0f, 1.0f);
        float _807 = (_798 * _799) + (mad(-_798, _799, 1.0f) * (_804 * _804));
        float _808 = mad(mad(mad(sin(_788 * 6.0f), 0.5f, 0.5f), 0.089999973773956298828125f, 0.910000026226043701171875f), _794, -1.0f);
        float _810 = _642 + _808;
        float _812 = clamp((_643 + _808) * 1.53846156597137451171875f, 0.0f, 1.0f);
        float _818 = clamp(_810 + _810, 0.0f, 1.0f);
        float _836 = dp3_f32(float3(t10.Load(8u).xyz), float3(0.21269999444484710693359375f, 0.715200006961822509765625f, 0.07209999859333038330078125f));
        float _842 = mad(sin(_642 * 17.52899932861328125f) + 1.0f, -0.1149999797344207763671875f, 0.89999997615814208984375f) * mad(exp2(log2(abs(_836)) * 0.699999988079071044921875f), 0.10000002384185791015625f, 0.89999997615814208984375f);
        float _844 = _842 * 0.02999999932944774627685546875f;
        float _845 = mad(_794, -0.3499999940395355224609375f, 0.3499999940395355224609375f);
        float _849 = mad(mad(-_807, _807, 1.0f), 1.0f - _845, _845);
        float _850 = min((exp2(log2(_807) * 0.699999988079071044921875f) * (mad(_818, -2.0f, 3.0f) * (_818 * _818))) + ((_812 * _812) * mad(_812, -2.0f, 3.0f)), 1.0f);
        float _860 = mad(_850, mad(_849, _842 * 0.62000000476837158203125f, mad(_724, _775, -_724)), mad(-_724, _775, _724));
        float _861 = mad(_850, mad(_849, _844, mad(_775, _725, -_725)), mad(-_775, _725, _725));
        float _862 = mad(_850, mad(_849, _844, mad(_775, _726, -_726)), mad(-_775, _726, _726));
        float _865 = mad(_642, _643 * (1.0f - _644), _644);
        float _867;
        _867 = 0.0f;
        float _868;
        uint _871;
        uint _870 = 0u;
        for (;;)
        {
            if (int(_870) >= 8)
            {
                break;
            }
            float4 _878 = t9.Load(_870);
            float _880 = _878.y;
            float _882 = _878.x - _636;
            _868 = mad(_865 * (_878.w * clamp((abs((_882 > 3.1415927410125732421875f) ? (_882 - 6.283185482025146484375f) : ((_882 < (-3.1415927410125732421875f)) ? (_882 + 6.283185482025146484375f) : _882)) + (_880 - 3.1415927410125732421875f)) / max(_880 * 0.699999988079071044921875f, 0.001000000047497451305389404296875f), 0.0f, 1.0f)), 1.0f - _867, _867);
            _871 = _870 + 1u;
            _867 = _868;
            _870 = _871;
            continue;
        }
        float _901 = clamp(_867 + _867, 0.0f, 1.0f) * 0.949999988079071044921875f;
        float _905 = mad(0.310000002384185791015625f - _860, _901, _860);
        float _906 = mad(0.014999999664723873138427734375f - _861, _901, _861);
        float _907 = mad(0.014999999664723873138427734375f - _862, _901, _862);
        float4 _908 = t9.Load(12u);
        float _909 = _908.x;
        float _937;
        float _938;
        float _939;
        if (_909 != 0.0f)
        {
            float _916 = clamp(_836, 0.0f, 1.0f);
            float _926 = clamp((_641 + (_909 - 1.0f)) / max(mad(_909, 0.5f, 0.5f), 0.001000000047497451305389404296875f), 0.0f, 1.0f);
            float _930 = clamp(_909 * 2.857142925262451171875f, 0.0f, 1.0f);
            float _933 = mad(_930, -2.0f, 3.0f) * (_930 * _930);
            _937 = mad(((_641 * 0.930000007152557373046875f) * _916) * _926, _933, _907);
            _938 = mad(((_641 * 0.85000002384185791015625f) * _916) * _926, _933, _906);
            _939 = mad(((_641 * 0.790000021457672119140625f) * _916) * _926, _933, _905);
        }
        else
        {
            _937 = _907;
            _938 = _906;
            _939 = _905;
        }
        bool _942 = cb2_m22.x > 0.0f;
        bool _946 = frac((_406 * 420.0f) + (_788 * 0.20000000298023223876953125f)) >= 0.5f;
        float _947 = _946 ? 0.300000011920928955078125f : 0.0f;
        float _948 = _947 * cb2_m22.x;
        _959 = _942 ? mad(_948, 0.0f - _939, _939) : _939;
        _960 = _942 ? mad(_948, (_946 ? 0.100000001490116119384765625f : 0.0f) - _938, _938) : _938;
        _961 = _942 ? mad(_948, _947 - _937, _937) : _937;
    }
    else
    {
        _959 = _582;
        _960 = _583;
        _961 = _584;
    }
    float _966 = 1.0f / max(1.0f - max(max(_960, _961), _959), 6.099999882280826568603515625e-05f);
    float _973 = min(-(_966 * _959), 0.0f);
    float _974 = min(-(_966 * _960), 0.0f);
    float _975 = min(-(_966 * _961), 0.0f);
    float2 _978 = float2(_405 - 0.5f, _406 - 0.5f);
    float _989 = clamp(-((sqrt(dp2_f32(_978, _978)) - cb2_m7.x) * (1.0f / cb2_m7.y)), 0.0f, 1.0f);
    float _990 = mad(_989, -2.0f, 3.0f);
    float _991 = _989 * _989;
    float _992 = _990 * _991;
    float _994 = mad(-_990, _991, 1.0f);
    float _1017 = cb2_m7.z * cb2_m7.w;
    float3 _1030 = float3(_409 ? (-_973) : mad(_973 + ((_994 * cb2_m5.x) - (_973 * _992)), _1017, -_973), _409 ? (-_974) : mad(_1017, ((_994 * cb2_m5.y) - (_992 * _974)) + _974, -_974), _409 ? (-_975) : mad(_1017, ((_994 * cb2_m5.z) - (_992 * _975)) + _975, -_975));
#if 1
  float _1037 = (RENODX_TONE_MAP_TYPE == 0) ? min(dp3_f32(float3(0.4397009909152984619140625f, 0.3829779922962188720703125f, 0.1773349940776824951171875f), _1030) * 2.5f, 65504.0f) : min(dp3_f32(float3(0.4397009909152984619140625f, 0.3829779922962188720703125f, 0.1773349940776824951171875f), _1030), 65504.0f);
  float _1038 = (RENODX_TONE_MAP_TYPE == 0) ? min(dp3_f32(float3(0.08979229629039764404296875f, 0.813422977924346923828125f, 0.09676159918308258056640625f), _1030) * 2.5f, 65504.0f) : min(dp3_f32(float3(0.08979229629039764404296875f, 0.813422977924346923828125f, 0.09676159918308258056640625f), _1030), 65504.0f);
  float _1039 = (RENODX_TONE_MAP_TYPE == 0) ? min(dp3_f32(float3(0.01754399947822093963623046875f, 0.11154399812221527099609375f, 0.870703995227813720703125f), _1030) * 2.5f, 65504.0f) : min(dp3_f32(float3(0.01754399947822093963623046875f, 0.11154399812221527099609375f, 0.870703995227813720703125f), _1030), 65504.0f);
#endif
    float _1043 = max(max(_1038, _1037), _1039);
    float _1048 = (max(_1043, 9.9999997473787516355514526367188e-05f) - max(min(min(_1038, _1037), _1039), 9.9999997473787516355514526367188e-05f)) / max(_1043, 0.00999999977648258209228515625f);
    float _1059 = mad(sqrt(mad(_1037 - _1039, _1037, ((_1039 - _1038) * _1039) + ((_1038 - _1037) * _1038))), 1.75f, (_1039 + _1038) + _1037);
    float _1060 = _1048 - 0.4000000059604644775390625f;
    float _1064 = max(1.0f - abs(_1060 * 2.5f), 0.0f);
    float _1072 = mad(mad(clamp(mad(_1060, asfloat(0x7f800000u /* inf */), 0.5f), 0.0f, 1.0f), 2.0f, -1.0f), mad(-_1064, _1064, 1.0f), 1.0f) * 0.02500000037252902984619140625f;
    float _1080 = ((_1059 <= 0.1599999964237213134765625f) ? _1072 : ((_1059 >= 0.4799999892711639404296875f) ? 0.0f : (((0.07999999821186065673828125f / (_1059 * 0.3333333432674407958984375f)) - 0.5f) * _1072))) + 1.0f;
    float _1081 = _1080 * _1037;
    float _1082 = _1080 * _1038;
    float _1083 = _1080 * _1039;
    float _1088 = (_1082 - _1083) * 1.73205077648162841796875f;
    float _1090 = (_1081 * 2.0f) - _1082;
    float _1092 = mad(-_1080, _1039, _1090);
    float _1093 = abs(_1092);
    float _1094 = abs(_1088);
    float _1098 = min(_1093, _1094) * (1.0f / max(_1093, _1094));
    float _1099 = _1098 * _1098;
    float _1103 = mad(_1099, mad(_1099, mad(_1099, mad(_1099, 0.02083509974181652069091796875f, -0.08513300120830535888671875f), 0.1801410019397735595703125f), -0.33029949665069580078125f), 0.999866008758544921875f);
    float _1113 = mad(_1098, _1103, (_1093 < _1094) ? mad(_1098 * _1103, -2.0f, 1.57079637050628662109375f) : 0.0f) + ((_1092 < mad(_1080, _1039, -_1090)) ? (-3.1415927410125732421875f) : 0.0f);
    float _1114 = min(_1088, _1092);
    float _1115 = max(_1088, _1092);
    float _1124 = ((_1081 == _1082) && (_1083 == _1082)) ? 0.0f : ((((_1114 < (-_1114)) && (_1115 >= (-_1115))) ? (-_1113) : _1113) * 57.295780181884765625f);
    float _1127 = (_1124 < 0.0f) ? (_1124 + 360.0f) : _1124;
    float _1137 = max(1.0f - abs(((_1127 < (-180.0f)) ? (_1127 + 360.0f) : ((_1127 > 180.0f) ? (_1127 - 360.0f) : _1127)) * 0.01481481455266475677490234375f), 0.0f);
    float _1140 = mad(_1137, -2.0f, 3.0f) * (_1137 * _1137);
    float3 _1151 = float3(clamp(_1081 + (((_1048 * (_1140 * _1140)) * mad(-_1080, _1037, 0.02999999932944774627685546875f)) * 0.180000007152557373046875f), 0.0f, 65504.0f), clamp(_1082, 0.0f, 65504.0f), clamp(_1083, 0.0f, 65504.0f));
    float _1155 = clamp(dp3_f32(float3(1.45143926143646240234375f, -0.236510753631591796875f, -0.214928567409515380859375f), _1151), 0.0f, 65504.0f);
    float _1156 = clamp(dp3_f32(float3(-0.07655377686023712158203125f, 1.1762297153472900390625f, -0.0996759235858917236328125f), _1151), 0.0f, 65504.0f);
    float _1157 = clamp(dp3_f32(float3(0.0083161480724811553955078125f, -0.0060324496589601039886474609375f, 0.99771630764007568359375f), _1151), 0.0f, 65504.0f);

    float _1159 = dp3_f32(float3(_1155, _1156, _1157), float3(0.2722289860248565673828125f, 0.674081981182098388671875f, 0.0536894984543323516845703125f));
    float _1163 = mad(_1155 - _1159, 0.959999978542327880859375f, _1159);
    float _1164 = mad(_1156 - _1159, 0.959999978542327880859375f, _1159);
    float _1165 = mad(_1157 - _1159, 0.959999978542327880859375f, _1159);
#if 1
  if (RENODX_TONE_MAP_TYPE != 0) {
    u0[_579] = float4(CustomACES(float3(_1163, _1164, _1165)), 1.f);
    return;
  }
#endif

    float _1172 = (_1163 <= 0.0f) ? (-14.0f) : log2(_1163);
    float _1173 = (_1164 <= 0.0f) ? (-14.0f) : log2(_1164);
    float _1174 = (_1165 <= 0.0f) ? (-14.0f) : log2(_1165);
    float _1261;
    if (_1172 <= (-17.4739322662353515625f))
    {
        _1261 = -4.0f;
    }
    else
    {
        float _1260;
        if (_1172 < (-2.4739310741424560546875f))
        {
            float _1185 = mad(_1172, 0.3010300099849700927734375f, 5.2601776123046875f);
            float _1186 = _1185 * 0.6643855571746826171875f;
            int _1187 = cvt_f32_i32(_1186);
            float _1190 = mad(_1185, 0.6643855571746826171875f, -trunc(_1186));
            uint _1196 = min(uint(_1187 + 4), 10u);
            uint _1202 = min(uint((_1187 + 1) + 4), 10u);
            uint _1208 = min(uint((_1187 + 2) + 4), 10u);
            float2 _1214 = float2(_281[_1196].x, _281[_1202].x);
            _1260 = dp3_f32(float3(_1190 * _1190, _1190, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(_281[_1196].x, _281[_1202].x, _281[_1208].x)), dp2_f32(float2(-1.0f, 1.0f), _1214), dp2_f32(0.5f.xx, _1214)));
        }
        else
        {
            float _1259;
            if (_1172 < 15.52606868743896484375f)
            {
                float _1224 = mad(_1172, 0.3010300099849700927734375f, 0.74472749233245849609375f);
                float _1225 = _1224 * 0.55365467071533203125f;
                int _1226 = cvt_f32_i32(_1225);
                float _1229 = mad(_1224, 0.55365467071533203125f, -trunc(_1225));
                uint _1235 = min(uint(_1226 + 4), 10u);
                uint _1241 = min(uint((_1226 + 1) + 4), 10u);
                uint _1247 = min(uint((_1226 + 2) + 4), 10u);
                float2 _1253 = float2(_281[_1235].y, _281[_1241].y);
                _1259 = dp3_f32(float3(_1229 * _1229, _1229, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(_281[_1235].y, _281[_1241].y, _281[_1247].y)), dp2_f32(float2(-1.0f, 1.0f), _1253), dp2_f32(0.5f.xx, _1253)));
            }
            else
            {
                _1259 = 4.0f;
            }
            _1260 = _1259;
        }
        _1261 = _1260;
    }
    float _1347;
    if (_1173 <= (-17.4739322662353515625f))
    {
        _1347 = -4.0f;
    }
    else
    {
        float _1346;
        if (_1173 < (-2.4739310741424560546875f))
        {
            float _1271 = mad(_1173, 0.3010300099849700927734375f, 5.2601776123046875f);
            float _1272 = _1271 * 0.6643855571746826171875f;
            int _1273 = cvt_f32_i32(_1272);
            float _1276 = mad(_1271, 0.6643855571746826171875f, -trunc(_1272));
            uint _1282 = min(uint(_1273 + 4), 10u);
            uint _1288 = min(uint((_1273 + 1) + 4), 10u);
            uint _1294 = min(uint((_1273 + 2) + 4), 10u);
            float2 _1300 = float2(_281[_1282].x, _281[_1288].x);
            _1346 = dp3_f32(float3(_1276 * _1276, _1276, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(_281[_1282].x, _281[_1288].x, _281[_1294].x)), dp2_f32(float2(-1.0f, 1.0f), _1300), dp2_f32(0.5f.xx, _1300)));
        }
        else
        {
            float _1345;
            if (_1173 < 15.52606868743896484375f)
            {
                float _1310 = mad(_1173, 0.3010300099849700927734375f, 0.74472749233245849609375f);
                float _1311 = _1310 * 0.55365467071533203125f;
                int _1312 = cvt_f32_i32(_1311);
                float _1315 = mad(_1310, 0.55365467071533203125f, -trunc(_1311));
                uint _1321 = min(uint(_1312 + 4), 10u);
                uint _1327 = min(uint((_1312 + 1) + 4), 10u);
                uint _1333 = min(uint((_1312 + 2) + 4), 10u);
                float2 _1339 = float2(_281[_1321].y, _281[_1327].y);
                _1345 = dp3_f32(float3(_1315 * _1315, _1315, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(_281[_1321].y, _281[_1327].y, _281[_1333].y)), dp2_f32(float2(-1.0f, 1.0f), _1339), dp2_f32(0.5f.xx, _1339)));
            }
            else
            {
                _1345 = 4.0f;
            }
            _1346 = _1345;
        }
        _1347 = _1346;
    }
    float _1433;
    if (_1174 <= (-17.4739322662353515625f))
    {
        _1433 = -4.0f;
    }
    else
    {
        float _1432;
        if (_1174 < (-2.4739310741424560546875f))
        {
            float _1357 = mad(_1174, 0.3010300099849700927734375f, 5.2601776123046875f);
            float _1358 = _1357 * 0.6643855571746826171875f;
            int _1359 = cvt_f32_i32(_1358);
            float _1362 = mad(_1357, 0.6643855571746826171875f, -trunc(_1358));
            uint _1368 = min(uint(_1359 + 4), 10u);
            uint _1374 = min(uint((_1359 + 1) + 4), 10u);
            uint _1380 = min(uint((_1359 + 2) + 4), 10u);
            float2 _1386 = float2(_281[_1368].x, _281[_1374].x);
            _1432 = dp3_f32(float3(_1362 * _1362, _1362, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(_281[_1368].x, _281[_1374].x, _281[_1380].x)), dp2_f32(float2(-1.0f, 1.0f), _1386), dp2_f32(0.5f.xx, _1386)));
        }
        else
        {
            float _1431;
            if (_1174 < 15.52606868743896484375f)
            {
                float _1396 = mad(_1174, 0.3010300099849700927734375f, 0.74472749233245849609375f);
                float _1397 = _1396 * 0.55365467071533203125f;
                int _1398 = cvt_f32_i32(_1397);
                float _1401 = mad(_1396, 0.55365467071533203125f, -trunc(_1397));
                uint _1407 = min(uint(_1398 + 4), 10u);
                uint _1413 = min(uint((_1398 + 1) + 4), 10u);
                uint _1419 = min(uint((_1398 + 2) + 4), 10u);
                float2 _1425 = float2(_281[_1407].y, _281[_1413].y);
                _1431 = dp3_f32(float3(_1401 * _1401, _1401, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(_281[_1407].y, _281[_1413].y, _281[_1419].y)), dp2_f32(float2(-1.0f, 1.0f), _1425), dp2_f32(0.5f.xx, _1425)));
            }
            else
            {
                _1431 = 4.0f;
            }
            _1432 = _1431;
        }
        _1433 = _1432;
    }
    float3 _1436 = float3(exp2(_1261 * 3.3219280242919921875f), exp2(_1347 * 3.3219280242919921875f), exp2(_1433 * 3.3219280242919921875f));
    float3 _1440 = float3(dp3_f32(float3(0.695452213287353515625f, 0.140678703784942626953125f, 0.16386906802654266357421875f), _1436), dp3_f32(float3(0.0447945632040500640869140625f, 0.859671115875244140625f, 0.095534317195415496826171875f), _1436), dp3_f32(float3(-0.0055258828215301036834716796875f, 0.0040252101607620716094970703125f, 1.00150072574615478515625f), _1436));
    float _1441 = dp3_f32(float3(1.45143926143646240234375f, -0.236510753631591796875f, -0.214928567409515380859375f), _1440);
    float _1442 = dp3_f32(float3(-0.07655377686023712158203125f, 1.1762297153472900390625f, -0.0996759235858917236328125f), _1440);
    float _1443 = dp3_f32(float3(0.0083161480724811553955078125f, -0.0060324496589601039886474609375f, 0.99771630764007568359375f), _1440);
    float _1447 = (_1441 <= 0.0f) ? (-4.0f) : (log2(_1441) * 0.3010300099849700927734375f);
    float _1451 = log2(cb1_m[19u].y);
    float _1452 = _1451 * 0.3010300099849700927734375f;
    float _1560;
    if (_1452 >= _1447)
    {
        _1560 = mad(cb1_m[21u].x, _1447, (log2(cb1_m[19u].z) * 0.3010300099849700927734375f) - (_1452 * cb1_m[21u].x));
    }
    else
    {
        float _1469 = log2(cb1_m[20u].x);
        float _1470 = _1469 * 0.3010300099849700927734375f;
        float _1559;
        if ((_1452 < _1447) && (_1470 > _1447))
        {
            float _1479 = (mad(_1451, -0.3010300099849700927734375f, _1447) * 7.0f) / (_1470 - _1452);
            int _1480 = cvt_f32_i32(_1479);
            float _1482 = _1479 - trunc(_1479);
            uint _1484 = uint(_1480 + 1);
            uint _1486 = uint(_1480 + 2);
            uint _1488 = uint(_1480);
            float2 _1500 = float2(cb1_m[_1488].x, cb1_m[_1484].x);
            _1559 = dp3_f32(float3(_1482 * _1482, _1482, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(cb1_m[_1488].x, cb1_m[_1484].x, cb1_m[_1486].x)), dp2_f32(float2(-1.0f, 1.0f), _1500), dp2_f32(0.5f.xx, _1500)));
        }
        else
        {
            float _1510 = log2(cb1_m[20u].z) * 0.3010300099849700927734375f;
            float _1558;
            if ((_1470 <= _1447) && (_1510 > _1447))
            {
                float _1519 = (mad(_1469, -0.3010300099849700927734375f, _1447) * 7.0f) / (_1510 - _1470);
                int _1520 = cvt_f32_i32(_1519);
                float _1522 = _1519 - trunc(_1519);
                uint _1527 = uint(_1520 + 10);
                uint _1532 = uint((_1520 + 1) + 10);
                uint _1537 = uint((_1520 + 2) + 10);
                float2 _1543 = float2(cb1_m[_1527].x, cb1_m[_1532].x);
                _1558 = dp3_f32(float3(_1522 * _1522, _1522, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(cb1_m[_1527].x, cb1_m[_1532].x, cb1_m[_1537].x)), dp2_f32(float2(-1.0f, 1.0f), _1543), dp2_f32(0.5f.xx, _1543)));
            }
            else
            {
                _1558 = mad(cb1_m[21u].y, _1447, (log2(cb1_m[20u].w) * 0.3010300099849700927734375f) - (_1510 * cb1_m[21u].y));
            }
            _1559 = _1558;
        }
        _1560 = _1559;
    }
    float _1564 = (_1442 <= 0.0f) ? (-4.0f) : (log2(_1442) * 0.3010300099849700927734375f);
    float _1672;
    if (_1452 >= _1564)
    {
        _1672 = mad(cb1_m[21u].x, _1564, (log2(cb1_m[19u].z) * 0.3010300099849700927734375f) - (_1452 * cb1_m[21u].x));
    }
    else
    {
        float _1581 = log2(cb1_m[20u].x);
        float _1582 = _1581 * 0.3010300099849700927734375f;
        float _1671;
        if ((_1452 < _1564) && (_1582 > _1564))
        {
            float _1591 = (mad(_1451, -0.3010300099849700927734375f, _1564) * 7.0f) / (_1582 - _1452);
            int _1592 = cvt_f32_i32(_1591);
            float _1594 = _1591 - trunc(_1591);
            uint _1596 = uint(_1592 + 1);
            uint _1598 = uint(_1592 + 2);
            uint _1600 = uint(_1592);
            float2 _1612 = float2(cb1_m[_1600].x, cb1_m[_1596].x);
            _1671 = dp3_f32(float3(_1594 * _1594, _1594, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(cb1_m[_1600].x, cb1_m[_1596].x, cb1_m[_1598].x)), dp2_f32(float2(-1.0f, 1.0f), _1612), dp2_f32(0.5f.xx, _1612)));
        }
        else
        {
            float _1622 = log2(cb1_m[20u].z) * 0.3010300099849700927734375f;
            float _1670;
            if ((_1582 <= _1564) && (_1622 > _1564))
            {
                float _1631 = (mad(_1581, -0.3010300099849700927734375f, _1564) * 7.0f) / (_1622 - _1582);
                int _1632 = cvt_f32_i32(_1631);
                float _1634 = _1631 - trunc(_1631);
                uint _1639 = uint(_1632 + 10);
                uint _1644 = uint((_1632 + 1) + 10);
                uint _1649 = uint((_1632 + 2) + 10);
                float2 _1655 = float2(cb1_m[_1639].x, cb1_m[_1644].x);
                _1670 = dp3_f32(float3(_1634 * _1634, _1634, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(cb1_m[_1639].x, cb1_m[_1644].x, cb1_m[_1649].x)), dp2_f32(float2(-1.0f, 1.0f), _1655), dp2_f32(0.5f.xx, _1655)));
            }
            else
            {
                _1670 = mad(cb1_m[21u].y, _1564, (log2(cb1_m[20u].w) * 0.3010300099849700927734375f) - (_1622 * cb1_m[21u].y));
            }
            _1671 = _1670;
        }
        _1672 = _1671;
    }
    float _1676 = (_1443 <= 0.0f) ? (-4.0f) : (log2(_1443) * 0.3010300099849700927734375f);
    float _1784;
    if (_1452 >= _1676)
    {
        _1784 = mad(cb1_m[21u].x, _1676, (log2(cb1_m[19u].z) * 0.3010300099849700927734375f) - (_1452 * cb1_m[21u].x));
    }
    else
    {
        float _1693 = log2(cb1_m[20u].x);
        float _1694 = _1693 * 0.3010300099849700927734375f;
        float _1783;
        if ((_1452 < _1676) && (_1694 > _1676))
        {
            float _1703 = (mad(_1451, -0.3010300099849700927734375f, _1676) * 7.0f) / (_1694 - _1452);
            int _1704 = cvt_f32_i32(_1703);
            float _1706 = _1703 - trunc(_1703);
            uint _1708 = uint(_1704 + 1);
            uint _1710 = uint(_1704 + 2);
            uint _1712 = uint(_1704);
            float2 _1724 = float2(cb1_m[_1712].x, cb1_m[_1708].x);
            _1783 = dp3_f32(float3(_1706 * _1706, _1706, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(cb1_m[_1712].x, cb1_m[_1708].x, cb1_m[_1710].x)), dp2_f32(float2(-1.0f, 1.0f), _1724), dp2_f32(0.5f.xx, _1724)));
        }
        else
        {
            float _1734 = log2(cb1_m[20u].z) * 0.3010300099849700927734375f;
            float _1782;
            if ((_1694 <= _1676) && (_1734 > _1676))
            {
                float _1743 = (mad(_1693, -0.3010300099849700927734375f, _1676) * 7.0f) / (_1734 - _1694);
                int _1744 = cvt_f32_i32(_1743);
                float _1746 = _1743 - trunc(_1743);
                uint _1751 = uint(_1744 + 10);
                uint _1756 = uint((_1744 + 1) + 10);
                uint _1761 = uint((_1744 + 2) + 10);
                float2 _1767 = float2(cb1_m[_1751].x, cb1_m[_1756].x);
                _1782 = dp3_f32(float3(_1746 * _1746, _1746, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(cb1_m[_1751].x, cb1_m[_1756].x, cb1_m[_1761].x)), dp2_f32(float2(-1.0f, 1.0f), _1767), dp2_f32(0.5f.xx, _1767)));
            }
            else
            {
                _1782 = mad(cb1_m[21u].y, _1676, (log2(cb1_m[20u].w) * 0.3010300099849700927734375f) - (_1734 * cb1_m[21u].y));
            }
            _1783 = _1782;
        }
        _1784 = _1783;
    }
    if (_585)
    {
        float3 _1796 = float3(exp2(_1560 * 3.3219280242919921875f) - 3.5073844628641381859779357910156e-05f, exp2(_1672 * 3.3219280242919921875f) - 3.5073844628641381859779357910156e-05f, exp2(_1784 * 3.3219280242919921875f) - 3.5073844628641381859779357910156e-05f);
        float3 _1800 = float3(dp3_f32(float3(0.662454187870025634765625f, 0.1340042054653167724609375f, 0.1561876833438873291015625f), _1796), dp3_f32(float3(0.272228717803955078125f, 0.674081742763519287109375f, 0.053689517080783843994140625f), _1796), dp3_f32(float3(-0.0055746496655046939849853515625f, 0.0040607335977256298065185546875f, 1.01033914089202880859375f), _1796));
        float3 _1804 = float3(dp3_f32(float3(0.98722398281097412109375f, -0.0061132698319852352142333984375f, 0.01595330052077770233154296875f), _1800), dp3_f32(float3(-0.007598360069096088409423828125f, 1.00186002254486083984375f, 0.0053301998414099216461181640625f), _1800), dp3_f32(float3(0.003072570078074932098388671875f, -0.0050959498621523380279541015625f, 1.0816800594329833984375f), _1800));
        float _1813 = exp2(log2(abs(dp3_f32(float3(1.71665096282958984375f, -0.35567080974578857421875f, -0.2533662319183349609375f), _1804) * 9.9999997473787516355514526367188e-05f)) * 0.1593017578125f);
        float _1824 = exp2(log2(abs(dp3_f32(float3(-0.666684329509735107421875f, 1.616481304168701171875f, 0.0157685391604900360107421875f), _1804) * 9.9999997473787516355514526367188e-05f)) * 0.1593017578125f);
        float _1834 = exp2(log2(abs(dp3_f32(float3(0.0176398493349552154541015625f, -0.04277060925960540771484375f, 0.94210326671600341796875f), _1804) * 9.9999997473787516355514526367188e-05f)) * 0.1593017578125f);
        u0[_579] = float4(min(exp2(log2(mad(_1813, 18.8515625f, 0.8359375f) / mad(_1813, 18.6875f, 1.0f)) * 78.84375f), 1.0f), min(exp2(log2(mad(_1824, 18.8515625f, 0.8359375f) / mad(_1824, 18.6875f, 1.0f)) * 78.84375f), 1.0f), min(exp2(log2(mad(_1834, 18.8515625f, 0.8359375f) / mad(_1834, 18.6875f, 1.0f)) * 78.84375f), 1.0f), 1.0f);
    }
}

[numthreads(8, 8, 1)]
void main(SPIRV_Cross_Input stage_input)
{
    gl_LocalInvocationID = stage_input.gl_LocalInvocationID;
    gl_GlobalInvocationID = stage_input.gl_GlobalInvocationID;
    comp_main();
}
