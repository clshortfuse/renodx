#include "../common.hlsl"
struct _471
{
    uint2 _m0;
    uint _m1;
};

static const float _3070[30] = { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f };
static const float _65[10][30] = { { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f }, { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f }, { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f }, { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f }, { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f }, { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f }, { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f }, { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f }, { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f }, { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f } };
static const float _70[1] = { 0.0f };
static const float4 _386[11] = { float4(1.0f, 0.0f, 0.0f, 0.0f), float4(0.0f, 1.0f, 0.0f, 0.0f), float4(0.0f, 0.0f, 1.0f, 0.0f), float4(0.0f, 0.0f, 0.0f, 1.0f), float4(-4.0f, -0.718548238277435302734375f, 0.0f, 0.0f), float4(-4.0f, 2.0810306072235107421875f, 0.0f, 0.0f), float4(-3.1573765277862548828125f, 3.66812419891357421875f, 0.0f, 0.0f), float4(-0.485249996185302734375f, 4.0f, 0.0f, 0.0f), float4(1.84773242473602294921875f, 4.0f, 0.0f, 0.0f), float4(1.84773242473602294921875f, 4.0f, 0.0f, 0.0f), 0.0f.xxxx };

cbuffer cb0_buf : register(b0)
{
    uint4 cb0_m[44] : packoffset(c0);
};

cbuffer cb1_buf : register(b1)
{
    float4 cb1_m[4096] : packoffset(c0);
};

cbuffer cb2_buf : register(b2)
{
    float4 cb2_m[20] : packoffset(c0);
};

SamplerState s0 : register(s0);
SamplerState s1 : register(s1);
SamplerState s2 : register(s2);
SamplerState s3 : register(s3);
SamplerState s4 : register(s4);
SamplerState s5 : register(s5);
SamplerState s6 : register(s6);
SamplerState s7 : register(s7);
SamplerState s8 : register(s8);
Buffer<float4> t0 : register(t0);
Texture2D<float4> t1 : register(t1);
Texture2D<float4> t2 : register(t2);
Texture2D<float4> t3 : register(t3);
Texture2D<float4> t4 : register(t4);
Texture2D<float4> t5 : register(t5);
Texture2D<float4> t6 : register(t6);
Texture2D<float4> t7 : register(t7);
Texture2D<float4> t8 : register(t8);
Texture2D<float4> t9 : register(t9);
Texture2D<float4> t10 : register(t10);
Buffer<float4> t11 : register(t11);
Buffer<float4> t12 : register(t12);
RWTexture2D<float4> u0 : register(u0);
RWTexture2D<float4> u1 : register(u1);
RWTexture2D<float4> u2 : register(u2);

static uint3 gl_LocalInvocationID;
static uint3 gl_GlobalInvocationID;
struct SPIRV_Cross_Input
{
    uint3 gl_LocalInvocationID : SV_GroupThreadID;
    uint3 gl_GlobalInvocationID : SV_DispatchThreadID;
};

groupshared float g0[10][30];
groupshared float g1[1];

uint2 spvImageSize(RWTexture2D<float4> Tex, out uint Param)
{
    uint2 ret;
    Tex.GetDimensions(ret.x, ret.y);
    Param = 0u;
    return ret;
}

uint spvBitfieldInsert(uint Base, uint Insert, uint Offset, uint Count)
{
    uint Mask = Count == 32 ? 0xffffffff : (((1u << Count) - 1) << (Offset & 31));
    return (Base & ~Mask) | ((Insert << Offset) & Mask);
}

uint2 spvBitfieldInsert(uint2 Base, uint2 Insert, uint Offset, uint Count)
{
    uint Mask = Count == 32 ? 0xffffffff : (((1u << Count) - 1) << (Offset & 31));
    return (Base & ~Mask) | ((Insert << Offset) & Mask);
}

uint3 spvBitfieldInsert(uint3 Base, uint3 Insert, uint Offset, uint Count)
{
    uint Mask = Count == 32 ? 0xffffffff : (((1u << Count) - 1) << (Offset & 31));
    return (Base & ~Mask) | ((Insert << Offset) & Mask);
}

uint4 spvBitfieldInsert(uint4 Base, uint4 Insert, uint Offset, uint Count)
{
    uint Mask = Count == 32 ? 0xffffffff : (((1u << Count) - 1) << (Offset & 31));
    return (Base & ~Mask) | ((Insert << Offset) & Mask);
}

uint spvBitfieldUExtract(uint Base, uint Offset, uint Count)
{
    uint Mask = Count == 32 ? 0xffffffff : ((1 << Count) - 1);
    return (Base >> Offset) & Mask;
}

uint2 spvBitfieldUExtract(uint2 Base, uint Offset, uint Count)
{
    uint Mask = Count == 32 ? 0xffffffff : ((1 << Count) - 1);
    return (Base >> Offset) & Mask;
}

uint3 spvBitfieldUExtract(uint3 Base, uint Offset, uint Count)
{
    uint Mask = Count == 32 ? 0xffffffff : ((1 << Count) - 1);
    return (Base >> Offset) & Mask;
}

uint4 spvBitfieldUExtract(uint4 Base, uint Offset, uint Count)
{
    uint Mask = Count == 32 ? 0xffffffff : ((1 << Count) - 1);
    return (Base >> Offset) & Mask;
}

int spvBitfieldSExtract(int Base, int Offset, int Count)
{
    int Mask = Count == 32 ? -1 : ((1 << Count) - 1);
    int Masked = (Base >> Offset) & Mask;
    int ExtendShift = (32 - Count) & 31;
    return (Masked << ExtendShift) >> ExtendShift;
}

int2 spvBitfieldSExtract(int2 Base, int Offset, int Count)
{
    int Mask = Count == 32 ? -1 : ((1 << Count) - 1);
    int2 Masked = (Base >> Offset) & Mask;
    int ExtendShift = (32 - Count) & 31;
    return (Masked << ExtendShift) >> ExtendShift;
}

int3 spvBitfieldSExtract(int3 Base, int Offset, int Count)
{
    int Mask = Count == 32 ? -1 : ((1 << Count) - 1);
    int3 Masked = (Base >> Offset) & Mask;
    int ExtendShift = (32 - Count) & 31;
    return (Masked << ExtendShift) >> ExtendShift;
}

int4 spvBitfieldSExtract(int4 Base, int Offset, int Count)
{
    int Mask = Count == 32 ? -1 : ((1 << Count) - 1);
    int4 Masked = (Base >> Offset) & Mask;
    int ExtendShift = (32 - Count) & 31;
    return (Masked << ExtendShift) >> ExtendShift;
}

float dp2_f32(float2 a, float2 b)
{
    precise float _462 = a.x * b.x;
    return mad(a.y, b.y, _462);
}

float dp3_f32(float3 a, float3 b)
{
    precise float _448 = a.x * b.x;
    return mad(a.z, b.z, mad(a.y, b.y, _448));
}

float dp4_f32(float4 a, float4 b)
{
    precise float _430 = a.x * b.x;
    return mad(a.w, b.w, mad(a.z, b.z, mad(a.y, b.y, _430)));
}

int cvt_f32_i32(float v)
{
    return isnan(v) ? 0 : ((v < (-2147483648.0f)) ? int(0x80000000) : ((v > 2147483520.0f) ? 2147483647 : int(v)));
}

void comp_main()
{
    uint _470_dummy_parameter;
    _471 _472 = { spvImageSize(u0, _470_dummy_parameter), 1u };
    uint _484 = gl_GlobalInvocationID.x - gl_LocalInvocationID.x;
    uint _485 = gl_GlobalInvocationID.y - gl_LocalInvocationID.y;
    uint _487 = gl_LocalInvocationID.x + (gl_LocalInvocationID.y * 8u);
    uint _488 = spvBitfieldUExtract(_487, 1u, 3u);
    uint _490 = spvBitfieldInsert(spvBitfieldUExtract(gl_LocalInvocationID.y, 0u, 29u), _487, 0u, 1u);
    uint _491 = _484 + _488;
    uint _492 = _490 + _485;
    float _497 = float(_472._m0.x);
    float _498 = float(_472._m0.y);
    float _499 = (float(_491) + 0.5f) / _497;
    float _500 = (float(_492) + 0.5f) / _498;
    bool _503 = (_472._m0.x < _491) || (_472._m0.y < _492);
    bool _508 = cb2_m[3u].y == 1.0f;
    if (((gl_LocalInvocationID.x == 0u) && _508) && (gl_LocalInvocationID.y == 0u))
    {
        g1[0u] = t8.Load(int3(uint2(0u, 0u), 0u)).x;
    }
    GroupMemoryBarrierWithGroupSync();
    if (_487 < 36u)
    {
        bool _536 = _487 < 4u;
        bool _537 = _487 < 12u;
        bool _538 = _487 < 20u;
        bool _539 = _487 < 28u;
        uint _550 = _536 ? ((_487 >> 1u) * 9u) : (_537 ? 0u : (_538 ? 9u : (_539 ? (((_487 - 20u) & 7u) + 1u) : (((_487 - 28u) & 7u) + 1u))));
        uint _551 = _536 ? ((_487 & 1u) * 9u) : (_537 ? (((_487 - 4u) & 7u) + 1u) : (_538 ? (((_487 - 12u) & 7u) + 1u) : (_539 ? 0u : 9u)));
        float _552 = 1.0f / _497;
        float _553 = 1.0f / _498;
        float _572 = clamp((_552 * (float(int(_550 - 1u)) + 0.5f)) + (_552 * float(int(_484))), 0.0f, 1.0f);
        float _573 = clamp((float(int(_485)) * _553) + ((float(int(_551 - 1u)) + 0.5f) * _553), 0.0f, 1.0f);
        float2 _576 = float2(_572, _573);
        float _581 = mad(t6.SampleLevel(s5, _576, 0.0f).x, 2.0f, -1.0f);
        float _596;
        if (_581 > 0.0f)
        {
            _596 = min(sqrt(_581), t0.Load(8u).x);
        }
        else
        {
            _596 = max(_581, -t0.Load(7u).x);
        }
        float4 _600 = t5.SampleLevel(s4, _576, 0.0f);
        float2 _610 = float2(_600.x * cb2_m[2u].z, _600.y * cb2_m[2u].w);
        bool _622 = (cb2_m[7u].z != 0.0f) && (cb2_m[7u].w != 0.0f);
        bool _626 = (cb2_m[6u].w != 0.0f) && (cb2_m[7u].x != 0.0f);
        float _638 = exp2(max(_622 ? clamp((sqrt(dp2_f32(_610, _610)) - 2.0f) * 0.0555555559694766998291015625f, 0.0f, 1.0f) : 0.0f, _626 ? clamp((abs(_596) - 0.0471399985253810882568359375f) * 1.0494720935821533203125f, 0.0f, 1.0f) : 0.0f) * (-4.3280849456787109375f));
        float _640 = _572 - 0.5f;
        float _641 = _573 - 0.5f;
        float2 _642 = float2(_640, _641);
        float _646 = mad(dp2_f32(_642, _642), cb2_m[18u].x, 1.0f);
        float _668 = mad(exp2(log2(clamp(cb2_m[18u].x, 0.0f, 1.0f)) * 0.75f), -0.339999973773956298828125f, 1.0f) * mad(cb2_m[18u].y, -0.089999973773956298828125f, 1.0f);
        float _669 = (_646 * mad(mad(cb2_m[18u].z, -0.001999996602535247802734375f, 0.092000000178813934326171875f), cb2_m[18u].y, 1.0f)) * _668;
        float _670 = _668 * (_646 * mad(mad(cb2_m[18u].z, 0.04500000178813934326171875f, 0.046999998390674591064453125f), cb2_m[18u].y, 1.0f));
        float _671 = _668 * (_646 * mad(mad(cb2_m[18u].z, 0.0f, 0.04500000178813934326171875f), cb2_m[18u].y, 1.0f));
        float _672 = mad(_640, _669, 0.5f);
        float _673 = mad(_669, _641, 0.5f);
        float _674 = mad(_640, _670, 0.5f);
        float _675 = mad(_670, _641, 0.5f);
        float2 _678 = float2(_672, _673);
        float4 _680 = t1.SampleLevel(s0, _678, 0.0f);
        float _681 = _680.x;
        bool _682 = _626 || _622;
        float _716;
        if (_682)
        {
            float4 _688 = t2.SampleLevel(s1, _678, 0.0f);
            float _689 = _688.x;
            float _697 = asfloat(cb0_m[43u].w) * 20.0f;
            float _713 = mad(mad(t9.SampleLevel(s7, float2(mad(_672, 30.0f, sin(_697)), mad(_673, 30.0f, cos(_697))), 0.0f).x, 0.00999999977648258209228515625f, -0.004999999888241291046142578125f), sqrt(max(max(_689, max(_688.y, _688.z)), 1.0000000133514319600180897396058e-10f)), _689);
            _716 = mad(_638, _681 - _713, _713);
        }
        else
        {
            _716 = _681;
        }
        float2 _717 = float2(_674, _675);
        float4 _719 = t1.SampleLevel(s0, _717, 0.0f);
        float _720 = _719.y;
        float _753;
        if (_682)
        {
            float4 _726 = t2.SampleLevel(s1, _717, 0.0f);
            float _728 = _726.y;
            float _734 = asfloat(cb0_m[43u].w) * 20.0f;
            float _750 = mad(mad(t9.SampleLevel(s7, float2(mad(_674, 30.0f, sin(_734)), mad(_675, 30.0f, cos(_734))), 0.0f).x, 0.00999999977648258209228515625f, -0.004999999888241291046142578125f), sqrt(max(max(_726.x, max(_728, _726.z)), 1.0000000133514319600180897396058e-10f)), _728);
            _753 = mad(_638, _720 - _750, _750);
        }
        else
        {
            _753 = _720;
        }
        float _754 = mad(_640, _671, 0.5f);
        float _755 = mad(_671, _641, 0.5f);
        float2 _756 = float2(_754, _755);
        float4 _758 = t1.SampleLevel(s0, _756, 0.0f);
        float _759 = _758.z;
        float _792;
        if (_682)
        {
            float4 _765 = t2.SampleLevel(s1, _756, 0.0f);
            float _768 = _765.z;
            float _773 = asfloat(cb0_m[43u].w) * 20.0f;
            float _789 = mad(mad(t9.SampleLevel(s7, float2(mad(_754, 30.0f, sin(_773)), mad(_755, 30.0f, cos(_773))), 0.0f).x, 0.00999999977648258209228515625f, -0.004999999888241291046142578125f), sqrt(max(max(_765.x, max(_765.y, _768)), 1.0000000133514319600180897396058e-10f)), _768);
            _792 = mad(_638, _759 - _789, _789);
        }
        else
        {
            _792 = _759;
        }
        float _797 = _508 ? g1[0u] : cb2_m[3u].x;
        float4 _801 = t7.SampleLevel(s6, _576, 0.0f);
        float _802 = _801.x;
        float _810 = max(cb2_m[3u].w - dp3_f32(float3(_802, _801.yz), float3(0.21269999444484710693359375f, 0.715200006961822509765625f, 0.07209999859333038330078125f)), 6.099999882280826568603515625e-05f);
        float _814 = mad(_716, _797, _802 / _810);
        float _815 = mad(_753, _797, _801.y / _810);
        float _816 = mad(_792, _797, _801.z / _810);
        float _820 = 1.0f / (max(_814, max(_816, _815)) + 1.0f);
        float _821 = _814 * _820;
        float _823 = _820 * _816;
        float3 _824 = float3(_821, _823, _820 * _815);
        uint _829 = (_551 * 12u) >> 2u;
        g0[_550][_829] = dp3_f32(_824, float3(0.25f, 0.25f, 0.5f));
        uint _832 = _829 + 1u;
        g0[_550][_832] = dp2_f32(float2(_821, _823), float2(0.5f, -0.5f));
        uint _835 = _829 + 2u;
        g0[_550][_835] = dp3_f32(_824, float3(-0.25f, -0.25f, 0.5f));
    }
    float2 _840 = float2(_499, _500);
    float _844 = mad(t6.SampleLevel(s5, _840, 0.0f).x, 2.0f, -1.0f);
    float _859;
    if (_844 > 0.0f)
    {
        _859 = min(sqrt(_844), t0.Load(8u).x);
    }
    else
    {
        _859 = max(_844, -t0.Load(7u).x);
    }
    float4 _863 = t5.SampleLevel(s4, _840, 0.0f);
    float _864 = _863.x;
    float _865 = _863.y;
    float2 _876 = float2(_864 * cb2_m[2u].z, _865 * cb2_m[2u].w);
    bool _888 = (cb2_m[7u].z != 0.0f) && (cb2_m[7u].w != 0.0f);
    bool _892 = (cb2_m[6u].w != 0.0f) && (cb2_m[7u].x != 0.0f);
    float _896 = abs(_859);
    float _904 = exp2(max(_888 ? clamp((sqrt(dp2_f32(_876, _876)) - 2.0f) * 0.0555555559694766998291015625f, 0.0f, 1.0f) : 0.0f, _892 ? clamp((_896 - 0.0471399985253810882568359375f) * 1.0494720935821533203125f, 0.0f, 1.0f) : 0.0f) * (-4.3280849456787109375f));
    float _905 = _499 - 0.5f;
    float _906 = _500 - 0.5f;
    float2 _907 = float2(_905, _906);
    float _908 = dp2_f32(_907, _907);
    float _911 = mad(_908, cb2_m[18u].x, 1.0f);
    float _933 = mad(exp2(log2(clamp(cb2_m[18u].x, 0.0f, 1.0f)) * 0.75f), -0.339999973773956298828125f, 1.0f) * mad(cb2_m[18u].y, -0.089999973773956298828125f, 1.0f);
    float _934 = (_911 * mad(mad(cb2_m[18u].z, -0.001999996602535247802734375f, 0.092000000178813934326171875f), cb2_m[18u].y, 1.0f)) * _933;
    float _935 = _933 * (_911 * mad(mad(cb2_m[18u].z, 0.04500000178813934326171875f, 0.046999998390674591064453125f), cb2_m[18u].y, 1.0f));
    float _936 = _933 * (_911 * mad(mad(cb2_m[18u].z, 0.0f, 0.04500000178813934326171875f), cb2_m[18u].y, 1.0f));
    float _937 = mad(_905, _934, 0.5f);
    float _938 = mad(_934, _906, 0.5f);
    float _939 = mad(_905, _935, 0.5f);
    float _940 = mad(_935, _906, 0.5f);
    float2 _943 = float2(_937, _938);
    float4 _945 = t1.SampleLevel(s0, _943, 0.0f);
    float _946 = _945.x;
    bool _947 = _892 || _888;
    float _980;
    if (_947)
    {
        float4 _953 = t2.SampleLevel(s1, _943, 0.0f);
        float _954 = _953.x;
        float _961 = asfloat(cb0_m[43u].w) * 20.0f;
        float _977 = mad(mad(t9.SampleLevel(s7, float2(mad(_937, 30.0f, sin(_961)), mad(_938, 30.0f, cos(_961))), 0.0f).x, 0.00999999977648258209228515625f, -0.004999999888241291046142578125f), sqrt(max(max(_954, max(_953.y, _953.z)), 1.0000000133514319600180897396058e-10f)), _954);
        _980 = mad(_904, _946 - _977, _977);
    }
    else
    {
        _980 = _946;
    }
    float2 _981 = float2(_939, _940);
    float4 _983 = t1.SampleLevel(s0, _981, 0.0f);
    float _984 = _983.y;
    float _1017;
    if (_947)
    {
        float4 _990 = t2.SampleLevel(s1, _981, 0.0f);
        float _992 = _990.y;
        float _998 = asfloat(cb0_m[43u].w) * 20.0f;
        float _1014 = mad(mad(t9.SampleLevel(s7, float2(mad(_939, 30.0f, sin(_998)), mad(_940, 30.0f, cos(_998))), 0.0f).x, 0.00999999977648258209228515625f, -0.004999999888241291046142578125f), sqrt(max(max(_990.x, max(_992, _990.z)), 1.0000000133514319600180897396058e-10f)), _992);
        _1017 = mad(_904, _984 - _1014, _1014);
    }
    else
    {
        _1017 = _984;
    }
    float _1018 = mad(_905, _936, 0.5f);
    float _1019 = mad(_936, _906, 0.5f);
    float2 _1020 = float2(_1018, _1019);
    float4 _1022 = t1.SampleLevel(s0, _1020, 0.0f);
    float _1023 = _1022.z;
    float _1056;
    if (_947)
    {
        float4 _1029 = t2.SampleLevel(s1, _1020, 0.0f);
        float _1032 = _1029.z;
        float _1037 = asfloat(cb0_m[43u].w) * 20.0f;
        float _1053 = mad(mad(t9.SampleLevel(s7, float2(mad(_1018, 30.0f, sin(_1037)), mad(_1019, 30.0f, cos(_1037))), 0.0f).x, 0.00999999977648258209228515625f, -0.004999999888241291046142578125f), sqrt(max(max(_1029.x, max(_1029.y, _1032)), 1.0000000133514319600180897396058e-10f)), _1032);
        _1056 = mad(_904, _1023 - _1053, _1053);
    }
    else
    {
        _1056 = _1023;
    }
    float _1061 = _508 ? g1[0u] : cb2_m[3u].x;
    float4 _1065 = t7.SampleLevel(s6, _840, 0.0f);
    float _1066 = _1065.x;
    float _1074 = max(cb2_m[3u].w - dp3_f32(float3(_1066, _1065.yz), float3(0.21269999444484710693359375f, 0.715200006961822509765625f, 0.07209999859333038330078125f)), 6.099999882280826568603515625e-05f);
    float _1078 = mad(_980, _1061, _1066 / _1074);
    float _1079 = mad(_1017, _1061, _1065.y / _1074);
    float _1080 = mad(_1056, _1061, _1065.z / _1074);
    float _1084 = 1.0f / (max(_1078, max(_1079, _1080)) + 1.0f);
    float _1085 = _1078 * _1084;
    float _1087 = _1084 * _1080;
    float3 _1088 = float3(_1085, _1087, _1084 * _1079);
    float _1089 = dp3_f32(_1088, float3(0.25f, 0.25f, 0.5f));
    float _1090 = dp3_f32(_1088, float3(-0.25f, -0.25f, 0.5f));
    float _1092 = dp2_f32(float2(_1085, _1087), float2(0.5f, -0.5f));
    uint _1093 = _488 + 1u;
    uint _1094 = _488 + 2u;
    uint _1095 = _490 * 12u;
    uint _1098 = (_1095 + 12u) >> 2u;
    g0[_1093][_1098] = _1089;
    uint _1101 = _1098 + 1u;
    g0[_1093][_1101] = _1092;
    uint _1104 = _1098 + 2u;
    g0[_1093][_1104] = _1090;
    float2 _1107 = float2(_864 * cb2_m[2u].x, _865 * cb2_m[2u].y);
    float _1111 = min(sqrt(dp2_f32(_1107, _1107)) * 0.07500000298023223876953125f, 1.0f);
    float _1112 = _499 - _864;
    float _1113 = _500 - _865;
    float _1121 = (max(abs(mad(_1113, 2.0f, -1.0f)), abs(mad(_1112, 2.0f, -1.0f))) >= 1.0f) ? (-_1111) : _1111;
    float _1128 = floor(mad(cb2_m[2u].x, _1112, -0.5f));
    float _1129 = floor(mad(cb2_m[2u].y, _1113, -0.5f));
    float _1130 = _1128 + 0.5f;
    float _1131 = _1129 + 0.5f;
    float _1135 = mad(cb2_m[2u].x, _1112, -_1130);
    float _1137 = mad(cb2_m[2u].y, _1113, -_1131);
    float _1139 = mad(-cb2_m[2u].x, _1112, _1130);
    float _1141 = mad(-cb2_m[2u].y, _1113, _1131);
    float _1148 = mad(_1135, mad(_1139, 1.5f, 2.0f), 0.5f);
    float _1149 = mad(mad(_1141, 1.5f, 2.0f), _1137, 0.5f);
    float _1150 = _1135 * _1135;
    float _1151 = _1137 * _1137;
    float _1156 = _1150 * mad(_1135, 0.5f, -0.5f);
    float _1157 = _1151 * mad(_1137, 0.5f, -0.5f);
    float _1160 = _1135 * mad(_1135, mad(_1139, 0.5f, 1.0f), -0.5f);
    float _1161 = mad(mad(_1141, 0.5f, 1.0f), _1137, -0.5f) * _1137;
    float _1164 = mad(_1135, _1148, mad(_1150, mad(_1135, 1.5f, -2.5f), 1.0f));
    float _1165 = mad(_1149, _1137, mad(mad(_1137, 1.5f, -2.5f), _1151, 1.0f));
    float _1172 = (_1128 - 0.5f) / cb2_m[2u].x;
    float _1173 = (_1129 - 0.5f) / cb2_m[2u].y;
    float _1174 = (_1128 + 2.5f) / cb2_m[2u].x;
    float _1175 = (_1129 + 2.5f) / cb2_m[2u].y;
    float _1176 = (((_1149 * _1137) / _1165) + _1131) / cb2_m[2u].y;
    float _1177 = (_1130 + ((_1135 * _1148) / _1164)) / cb2_m[2u].x;
    float4 _1182 = t3.SampleLevel(s2, float2(_1172, _1173), 0.0f);
    float4 _1191 = t3.SampleLevel(s2, float2(_1174, _1173), 0.0f);
    float4 _1209 = t3.SampleLevel(s2, float2(_1177, _1173), 0.0f);
    float4 _1221 = t3.SampleLevel(s2, float2(_1172, _1176), 0.0f);
    float4 _1233 = t3.SampleLevel(s2, float2(_1177, _1176), 0.0f);
    float4 _1245 = t3.SampleLevel(s2, float2(_1174, _1176), 0.0f);
    float4 _1257 = t3.SampleLevel(s2, float2(_1172, _1175), 0.0f);
    float4 _1269 = t3.SampleLevel(s2, float2(_1177, _1175), 0.0f);
    float4 _1281 = t3.SampleLevel(s2, float2(_1174, _1175), 0.0f);
    float _1288 = mad(_1156 * _1281.x, _1157, mad(_1164 * _1269.x, _1157, mad(_1160 * _1257.x, _1157, mad(_1156 * _1245.x, _1165, mad(_1164 * _1233.x, _1165, mad(_1160 * _1221.x, _1165, mad(_1164 * _1209.x, _1161, ((_1156 * _1191.x) * _1161) + ((_1160 * _1182.x) * _1161))))))));
    float _1290 = mad(_1156 * _1281.z, _1157, mad(_1157, _1164 * _1269.z, mad(_1160 * _1257.z, _1157, mad(_1156 * _1245.z, _1165, mad(_1164 * _1233.z, _1165, mad(_1160 * _1221.z, _1165, mad(_1164 * _1209.z, _1161, (_1161 * (_1160 * _1182.z)) + (_1161 * (_1156 * _1191.z)))))))));
    float3 _1291 = float3(_1288, _1290, mad(_1156 * _1281.y, _1157, mad(_1157, _1164 * _1269.y, mad(_1160 * _1257.y, _1157, mad(_1156 * _1245.y, _1165, mad(_1164 * _1233.y, _1165, mad(_1160 * _1221.y, _1165, mad(_1164 * _1209.y, _1161, ((_1160 * _1182.y) * _1161) + ((_1156 * _1191.y) * _1161)))))))));
    float _1292 = dp3_f32(_1291, float3(0.25f, 0.25f, 0.5f));
    float _1293 = dp3_f32(_1291, float3(-0.25f, -0.25f, 0.5f));
    float _1295 = dp2_f32(float2(_1288, _1290), float2(0.5f, -0.5f));
    GroupMemoryBarrierWithGroupSync();
    uint _1296 = _1095 >> 2u;
    uint _1300 = _1296 + 1u;
    uint _1304 = _1296 + 2u;
    uint _1390 = (_1095 + 24u) >> 2u;
    uint _1394 = _1390 + 1u;
    uint _1398 = _1390 + 2u;
    float _1419 = min(min(min(min(_1089, g0[_1093][_1296]), g0[_488][_1098]), g0[_1094][_1098]), g0[_1093][_1390]);
    float _1420 = max(max(max(max(_1089, g0[_1093][_1296]), g0[_488][_1098]), g0[_1094][_1098]), g0[_1093][_1390]);
    float _1438 = (((((((_1089 + g0[_1093][_1296]) + g0[_488][_1296]) + g0[_488][_1098]) + g0[_1094][_1296]) + g0[_1094][_1098]) + g0[_488][_1390]) + g0[_1093][_1390]) + g0[_1094][_1390];
    float _1452 = _1438 * 0.111111111938953399658203125f;
    float _1453 = (g0[_1094][_1394] + (g0[_1093][_1394] + (g0[_488][_1394] + (g0[_1094][_1101] + (g0[_1094][_1300] + (g0[_488][_1101] + (g0[_488][_1300] + (_1092 + g0[_1093][_1300])))))))) * 0.111111111938953399658203125f;
    float _1454 = (g0[_1094][_1398] + (g0[_1093][_1398] + (g0[_488][_1398] + (g0[_1094][_1104] + (g0[_1094][_1304] + (g0[_488][_1104] + (g0[_488][_1304] + (_1090 + g0[_1093][_1304])))))))) * 0.111111111938953399658203125f;
    float _1473 = mad(_1292 / max(mad(_1438, 0.111111111938953399658203125f, _1292), 1.0000000116860974230803549289703e-07f), 0.5f, 0.75f);
    float _1474 = sqrt(max((mad(g0[_1094][_1390], g0[_1094][_1390], mad(g0[_1093][_1390], g0[_1093][_1390], mad(g0[_488][_1390], g0[_488][_1390], mad(g0[_1094][_1098], g0[_1094][_1098], mad(g0[_1094][_1296], g0[_1094][_1296], mad(g0[_488][_1098], g0[_488][_1098], mad(g0[_488][_1296], g0[_488][_1296], (g0[_1093][_1296] * g0[_1093][_1296]) + (_1089 * _1089)))))))) * 0.111111111938953399658203125f) - (_1452 * _1452), 1.0000000133514319600180897396058e-10f)) * _1473;
    float _1475 = _1473 * sqrt(max((mad(g0[_1094][_1394], g0[_1094][_1394], mad(g0[_1093][_1394], g0[_1093][_1394], mad(g0[_488][_1394], g0[_488][_1394], mad(g0[_1094][_1101], g0[_1094][_1101], mad(g0[_1094][_1300], g0[_1094][_1300], mad(g0[_488][_1101], g0[_488][_1101], mad(g0[_488][_1300], g0[_488][_1300], (_1092 * _1092) + (g0[_1093][_1300] * g0[_1093][_1300])))))))) * 0.111111111938953399658203125f) - (_1453 * _1453), 1.0000000133514319600180897396058e-10f));
    float _1476 = _1473 * sqrt(max((mad(g0[_1094][_1398], g0[_1094][_1398], mad(g0[_1093][_1398], g0[_1093][_1398], mad(g0[_488][_1398], g0[_488][_1398], mad(g0[_1094][_1104], g0[_1094][_1104], mad(g0[_1094][_1304], g0[_1094][_1304], mad(g0[_488][_1104], g0[_488][_1104], mad(g0[_488][_1304], g0[_488][_1304], (_1090 * _1090) + (g0[_1093][_1304] * g0[_1093][_1304])))))))) * 0.111111111938953399658203125f) - (_1454 * _1454), 1.0000000133514319600180897396058e-10f));
    float _1480 = _1452 + _1474;
    float _1481 = _1475 + _1453;
    float _1482 = _1476 + _1454;
    float _1483 = (_1452 - _1474) + _1480;
    float _1484 = _1481 + (_1453 - _1475);
    float _1485 = _1482 + (_1454 - _1476);
    float _1495 = mad(_1483, -0.5f, _1292);
    float _1496 = mad(_1484, -0.5f, _1295);
    float _1497 = mad(_1485, -0.5f, _1293);
    float _1505 = max(max(abs(_1496 / mad((_1475 - _1453) + _1481, 0.5f, 9.9999997473787516355514526367188e-05f)), abs(_1495 / mad(_1480 + (_1474 - _1452), 0.5f, 9.9999997473787516355514526367188e-05f))), abs(_1497 / mad((_1476 - _1454) + _1482, 0.5f, 9.9999997473787516355514526367188e-05f)));
    bool _1506 = _1505 > 1.0f;
    uint2 _1524 = uint2(_491, _492);
    float _1528 = max((_1292 / ((_1292 + (mad(_1420, 0.5f, max(_1420 * 0.5f, max(max(max(max(_1089, g0[_488][_1296]), g0[_1094][_1296]), g0[_488][_1390]), g0[_1094][_1390]) * 0.5f)) - mad(_1419, 0.5f, min(_1419 * 0.5f, min(min(min(min(_1089, g0[_488][_1296]), g0[_1094][_1296]), g0[_488][_1390]), g0[_1094][_1390]) * 0.5f)))) + 1.0000000116860974230803549289703e-07f)) * mad(abs(_1121), 0.85000002384185791015625f, 0.100000001490116119384765625f), u2[_1524].x * 0.75f);
    bool _1529 = _1121 < 0.0f;
    float _1530 = _1529 ? _1089 : (_1506 ? mad(_1483, 0.5f, _1495 / _1505) : _1292);
    float _1531 = _1529 ? _1092 : (_1506 ? mad(_1484, 0.5f, _1496 / _1505) : _1295);
    float _1532 = _1529 ? _1090 : (_1506 ? mad(_1485, 0.5f, _1497 / _1505) : _1293);
    float _1540 = clamp(mad(t4.SampleLevel(s3, _840, 0.0f).y, 1.0f - _1528, _1528), 0.0039215688593685626983642578125f, 0.949999988079071044921875f);
    float _1544 = mad(1.0f - _1540, cb2_m[0u].x, _1540);
    float _1548 = mad(_1544, _1089 - _1530, _1530);
    float _1549 = mad(_1544, _1092 - _1531, _1531);
    float _1550 = mad(_1544, _1090 - _1532, _1532);
    float _1551 = _1548 - _1550;
    float _1552 = _1551 + _1549;
    float _1553 = _1548 + _1550;
    float _1554 = _1551 - _1549;
    u1[_1524] = float4(_1552, _1553, _1554, 0.0f);
    u2[_1524] = _1544.xxxx;
    bool _1558 = !_503;
    float _1910;
    float _1911;
    float _1912;
    if (_1558)
    {
        float _1562 = dp3_f32(float3(_1552, _1553, _1554), float3(0.21269999444484710693359375f, 0.715200006961822509765625f, 0.07209999859333038330078125f));
        float _1569 = mad(-_896, cb2_m[7u].y, 1.0f) * cb2_m[6u].x;
        float _1573 = mad(_1569, _1552 - _1562, _1562);
        float _1574 = mad(_1569, _1553 - _1562, _1562);
        float _1575 = mad(_1569, _1554 - _1562, _1562);
        float _1576 = _906 + _906;
        float _1577 = _905 + _905;
        float _1578 = abs(_1577);
        float _1579 = abs(_1576);
        float _1583 = min(_1578, _1579) * (1.0f / max(_1578, _1579));
        float _1584 = _1583 * _1583;
        float _1588 = mad(_1584, mad(_1584, mad(_1584, mad(_1584, 0.02083509974181652069091796875f, -0.08513300120830535888671875f), 0.1801410019397735595703125f), -0.33029949665069580078125f), 0.999866008758544921875f);
        float _1597 = mad(_1583, _1588, (_1578 < _1579) ? mad(_1583 * _1588, -2.0f, 1.57079637050628662109375f) : 0.0f) + (((-_1577) > _1577) ? (-3.1415927410125732421875f) : 0.0f);
        float _1598 = min(_1576, _1577);
        float _1599 = max(_1576, _1577);
        float _1606 = ((_1598 < (-_1598)) && (_1599 >= (-_1599))) ? (-_1597) : _1597;
        float4 _1610 = t10.SampleLevel(s8, _840, 0.0f);
        float _1611 = _1610.x;
        float _1612 = _1610.y;
        float _1613 = _1610.z;
        float _1614 = _1610.w;
        float _1619 = (_1574 - _1575) * 1.73205077648162841796875f;
        float _1621 = mad(_1573, 2.0f, -_1574);
        float _1622 = _1621 - _1575;
        float _1623 = abs(_1622);
        float _1624 = abs(_1619);
        float _1628 = min(_1623, _1624) * (1.0f / max(_1623, _1624));
        float _1629 = _1628 * _1628;
        float _1633 = mad(_1629, mad(_1629, mad(_1629, mad(_1629, 0.02083509974181652069091796875f, -0.08513300120830535888671875f), 0.1801410019397735595703125f), -0.33029949665069580078125f), 0.999866008758544921875f);
        float _1642 = mad(_1628, _1633, (_1623 < _1624) ? mad(_1628 * _1633, -2.0f, 1.57079637050628662109375f) : 0.0f) + ((_1622 < (_1575 - _1621)) ? (-3.1415927410125732421875f) : 0.0f);
        float _1643 = min(_1619, _1622);
        float _1644 = max(_1619, _1622);
        float _1653 = ((_1573 == _1574) && (_1575 == _1574)) ? 0.0f : ((((_1643 < (-_1643)) && (_1644 >= (-_1644))) ? (-_1642) : _1642) * 57.295780181884765625f);
        float _1662 = mad(cb2_m[19u].x, -360.0f, (_1653 < 0.0f) ? (_1653 + 360.0f) : _1653);
        float _1672 = clamp(1.0f - (abs((_1662 < (-180.0f)) ? (_1662 + 360.0f) : ((_1662 > 180.0f) ? (_1662 - 360.0f) : _1662)) / (cb2_m[19u].y * 180.0f)), 0.0f, 1.0f);
        float _1677 = dp3_f32(float3(_1573, _1574, _1575), float3(0.21269999444484710693359375f, 0.715200006961822509765625f, 0.07209999859333038330078125f));
        float _1680 = (mad(_1672, -2.0f, 3.0f) * (_1672 * _1672)) * cb2_m[19u].z;
        float _1692 = mad(mad(_1680, _1573 - _1677, _1677) - _1573, cb2_m[18u].w, _1573);
        float _1693 = mad(cb2_m[18u].w, mad(_1680, _1574 - _1677, _1677) - _1574, _1574);
        float _1694 = mad(cb2_m[18u].w, mad(_1680, _1575 - _1677, _1677) - _1575, _1575);
        float _1696;
        _1696 = 0.0f;
        float _1697;
        uint _1700;
        uint _1699 = 0u;
        for (;;)
        {
            if (_1699 >= 8u)
            {
                break;
            }
            uint _1711 = min((_1699 & 3u), 10u);
            float _1731 = mad(float(_1699), 0.785398185253143310546875f, -_1606);
            float _1732 = _1731 + 1.57079637050628662109375f;
            _1697 = mad(_1614 * (dp4_f32(t11.Load((_1699 >> 2u) + 10u), float4(_386[_1711].x, _386[_1711].y, _386[_1711].z, _386[_1711].w)) * clamp((abs((_1732 > 3.1415927410125732421875f) ? (_1731 - 4.7123889923095703125f) : _1732) - 2.19911479949951171875f) * 2.1220657825469970703125f, 0.0f, 1.0f)), 1.0f - _1696, _1696);
            _1700 = _1699 + 1u;
            _1696 = _1697;
            _1699 = _1700;
            continue;
        }
        float _1743 = clamp(_1696, 0.0f, 1.0f);
        float _1761 = abs(t11.Load(8u).x);
        float2 _1764 = float2(_905 * 1.40999996662139892578125f, _906 * 1.40999996662139892578125f);
        float _1766 = sqrt(dp2_f32(_1764, _1764));
        float _1767 = min(_1766, 1.0f);
        float _1768 = _1767 * _1767;
        float _1773 = clamp(_1766 - 0.5f, 0.0f, 1.0f);
        float _1776 = (_1767 * _1768) + (mad(-_1767, _1768, 1.0f) * (_1773 * _1773));
        float _1777 = mad(mad(mad(sin(asfloat(cb0_m[43u].w) * 6.0f), 0.5f, 0.5f), 0.089999973773956298828125f, 0.910000026226043701171875f), _1761, -1.0f);
        float _1779 = _1612 + _1777;
        float _1781 = clamp((_1613 + _1777) * 1.53846156597137451171875f, 0.0f, 1.0f);
        float _1788 = clamp(_1779 + _1779, 0.0f, 1.0f);
        float _1798 = mad(sin(_1612 * 17.52899932861328125f) + 1.0f, -0.1149999797344207763671875f, 0.89999997615814208984375f);
        float _1805 = dp3_f32(float3(t12.Load(8u).xyz), float3(0.21269999444484710693359375f, 0.715200006961822509765625f, 0.07209999859333038330078125f));
        float _1810 = mad(exp2(log2(abs(_1805)) * 0.699999988079071044921875f), 0.10000002384185791015625f, 0.89999997615814208984375f);
        float _1814 = _1798 * (_1810 * 0.02999999932944774627685546875f);
        float _1815 = mad(_1761, -0.3499999940395355224609375f, 0.3499999940395355224609375f);
        float _1819 = mad(mad(-_1776, _1776, 1.0f), 1.0f - _1815, _1815);
        float _1820 = min((exp2(log2(_1776) * 0.699999988079071044921875f) * (mad(_1788, -2.0f, 3.0f) * (_1788 * _1788))) + (mad(_1781, -2.0f, 3.0f) * (_1781 * _1781)), 1.0f);
        float _1830 = mad(_1820, mad((_1798 * _1810) * 0.62000000476837158203125f, _1819, mad(_1692, _1743, -_1692)), mad(-_1692, _1743, _1692));
        float _1831 = mad(_1820, mad(_1819, _1814, mad(_1743, _1693, -_1693)), mad(-_1743, _1693, _1693));
        float _1832 = mad(_1820, mad(_1819, _1814, mad(_1743, _1694, -_1694)), mad(-_1743, _1694, _1694));
        float _1835 = mad(_1612, _1613 * (1.0f - _1614), _1614);
        float _1837;
        _1837 = 0.0f;
        float _1838;
        uint _1841;
        uint _1840 = 0u;
        for (;;)
        {
            if (int(_1840) >= 8)
            {
                break;
            }
            float4 _1848 = t11.Load(_1840);
            float _1850 = _1848.y;
            float _1852 = _1848.x - _1606;
            _1838 = mad(_1835 * (_1848.w * clamp((abs((_1852 > 3.1415927410125732421875f) ? (_1852 - 6.283185482025146484375f) : ((_1852 < (-3.1415927410125732421875f)) ? (_1852 + 6.283185482025146484375f) : _1852)) + (_1850 - 3.1415927410125732421875f)) / max(_1850 * 0.699999988079071044921875f, 0.001000000047497451305389404296875f), 0.0f, 1.0f)), 1.0f - _1837, _1837);
            _1841 = _1840 + 1u;
            _1837 = _1838;
            _1840 = _1841;
            continue;
        }
        float _1871 = clamp(_1837 + _1837, 0.0f, 1.0f) * 0.949999988079071044921875f;
        float _1875 = mad(_1871, 0.310000002384185791015625f - _1830, _1830);
        float _1876 = mad(_1871, 0.014999999664723873138427734375f - _1831, _1831);
        float _1877 = mad(_1871, 0.014999999664723873138427734375f - _1832, _1832);
        float4 _1878 = t11.Load(12u);
        float _1879 = _1878.x;
        float _1907;
        float _1908;
        float _1909;
        if (_1879 != 0.0f)
        {
            float _1886 = clamp(_1805, 0.0f, 1.0f);
            float _1896 = clamp((_1611 + (_1879 - 1.0f)) / max(mad(_1879, 0.5f, 0.5f), 0.001000000047497451305389404296875f), 0.0f, 1.0f);
            float _1900 = clamp(_1879 * 2.857142925262451171875f, 0.0f, 1.0f);
            float _1903 = mad(_1900, -2.0f, 3.0f) * (_1900 * _1900);
            _1907 = mad((_1886 * (_1611 * 0.790000021457672119140625f)) * _1896, _1903, _1875);
            _1908 = mad(_1903, _1896 * (_1886 * (_1611 * 0.85000002384185791015625f)), _1876);
            _1909 = mad(_1903, _1896 * (_1886 * (_1611 * 0.930000007152557373046875f)), _1877);
        }
        else
        {
            _1907 = _1875;
            _1908 = _1876;
            _1909 = _1877;
        }
        _1910 = _1907;
        _1911 = _1908;
        _1912 = _1909;
    }
    else
    {
        _1910 = _1552;
        _1911 = _1553;
        _1912 = _1554;
    }
    float _1917 = 1.0f / max(1.0f - max(max(_1911, _1912), _1910), 6.099999882280826568603515625e-05f);
    float _1924 = min(-(_1917 * _1910), 0.0f);
    float _1925 = min(-(_1917 * _1911), 0.0f);
    float _1926 = min(-(_1917 * _1912), 0.0f);
    float _1936 = clamp(-((1.0f / cb2_m[5u].y) * (sqrt(_908) - cb2_m[5u].x)), 0.0f, 1.0f);
    float _1937 = mad(_1936, -2.0f, 3.0f);
    float _1938 = _1936 * _1936;
    float _1939 = _1937 * _1938;
    float _1941 = mad(-_1937, _1938, 1.0f);
    float _1963 = cb2_m[5u].z * cb2_m[5u].w;
    float3 _1976 = float3(_503 ? (-_1924) : mad(_1924 + ((_1941 * cb2_m[4u].x) - (_1924 * _1939)), _1963, -_1924), _503 ? (-_1925) : mad(_1963, ((cb2_m[4u].y * _1941) - (_1939 * _1925)) + _1925, -_1925), _503 ? (-_1926) : mad(_1963, ((cb2_m[4u].z * _1941) - (_1939 * _1926)) + _1926, -_1926));
    float _1977 = dp3_f32(float3(0.4397009909152984619140625f, 0.3829779922962188720703125f, 0.1773349940776824951171875f), _1976);
    float _1978 = dp3_f32(float3(0.08979229629039764404296875f, 0.813422977924346923828125f, 0.09676159918308258056640625f), _1976);
    float _1979 = dp3_f32(float3(0.01754399947822093963623046875f, 0.11154399812221527099609375f, 0.870703995227813720703125f), _1976);
    bool _1982 = cb2_m[8u].x != 0.0f;
    float _1999;
    float _2000;
    float _2001;
    if (!_1982)
    {
        _1999 = clamp(mad(cb2_m[9u].x, mad(_1979, cb2_m[9u].y, -0.1800537109375f), 0.1800537109375f), 0.0f, 65504.0f);
        _2000 = clamp(mad(cb2_m[9u].x, mad(_1978, cb2_m[9u].y, -0.1800537109375f), 0.1800537109375f), 0.0f, 65504.0f);
        _2001 = clamp(mad(cb2_m[9u].x, mad(_1977, cb2_m[9u].y, -0.1800537109375f), 0.1800537109375f), 0.0f, 65504.0f);
    }
    else
    {
        _1999 = _1979;
        _2000 = _1978;
        _2001 = _1977;
    }
    float _2004 = mad(cb2_m[8u].y, -0.0005000000237487256526947021484375f, 0.312709987163543701171875f);
    float _2011 = mad(cb2_m[8u].z, 0.0005000000237487256526947021484375f, (_2004 * 2.86999988555908203125f) - (_2004 * (_2004 * 3.0f)));
    float _2012 = _2011 - 0.2750950753688812255859375f;
    float _2013 = _2004 / _2012;
    float _2017 = ((1.0f - _2004) + (0.2750950753688812255859375f - _2011)) / _2012;
    float3 _2027 = float3(_2001, _2000, _1999);
    float3 _2034 = float3((0.94923698902130126953125f / mad(_2017, -0.1624000072479248046875f, mad(_2013, 0.732800006866455078125f, 0.4296000003814697265625f))) * dp3_f32(float3(0.390404999256134033203125f, 0.549941003322601318359375f, 0.008926319889724254608154296875f), _2027), dp3_f32(float3(0.070841602981090545654296875f, 0.963172018527984619140625f, 0.001357750035822391510009765625f), _2027) * (1.035419940948486328125f / mad(_2017, 0.006099999882280826568603515625f, mad(_2013, -0.703599989414215087890625f, 1.6974999904632568359375f))), dp3_f32(float3(0.02310819923877716064453125f, 0.1280210018157958984375f, 0.936245024204254150390625f), _2027) * (1.0872800350189208984375f / mad(_2017, 0.98339998722076416015625f, mad(_2013, 0.0030000000260770320892333984375f, 0.013600000180304050445556640625f))));
    float3 _2044 = float3(dp3_f32(float3(2.85846996307373046875f, -1.62879002094268798828125f, -0.0248910002410411834716796875f), _2034), dp3_f32(float3(-0.21018199622631072998046875f, 1.1582000255584716796875f, 0.0003242809907533228397369384765625f), _2034), dp3_f32(float3(-0.0418119989335536956787109375f, -0.118169002234935760498046875f, 1.0686700344085693359375f), _2034));
    float _2046 = dp3_f32(_2044, float3(cb2_m[9u].w, cb2_m[10u].xy));
    float _2052 = dp3_f32(_2044, float3(cb2_m[10u].zw, cb2_m[11u].x));
    float _2059 = dp3_f32(_2044, float3(cb2_m[11u].yzw));
    float _2061 = dp3_f32(float3(_2046, _2052, _2059), float3(0.21267290413379669189453125f, 0.715152204036712646484375f, 0.072175003588199615478515625f));
    float _2070 = clamp((_2061 - cb2_m[14u].w) * (1.0f / (cb2_m[15u].x - cb2_m[14u].w)), 0.0f, 1.0f);
    float _2074 = mad(-mad(_2070, -2.0f, 3.0f), _2070 * _2070, 1.0f);
    float _2083 = clamp((_2061 - cb2_m[15u].y) * (1.0f / (cb2_m[15u].z - cb2_m[15u].y)), 0.0f, 1.0f);
    float _2084 = mad(_2083, -2.0f, 3.0f);
    float _2085 = _2083 * _2083;
    float _2086 = _2084 * _2085;
    float _2089 = 1.0f - clamp(mad(_2084, _2085, _2074), 0.0f, 1.0f);
    float _2114;
    float _2115;
    float _2116;
    if (_1982)
    {
        _2114 = cb2_m[16u].y + 1.0f;
        _2115 = cb2_m[15u].w + 1.0f;
        _2116 = cb2_m[16u].x + 1.0f;
    }
    else
    {
        _2114 = cb2_m[16u].y + mad(cb2_m[16u].x, 0.5f, mad(cb2_m[15u].w, 0.25f, 1.0f));
        _2115 = cb2_m[15u].w + 1.0f;
        _2116 = mad(cb2_m[15u].w, 0.5f, cb2_m[16u].x) + 1.0f;
    }
    float _2159 = mad(_2086 * (_2052 * cb2_m[14u].y), _2114, ((_2074 * (cb2_m[12u].y * _2052)) * _2115) + ((_2089 * (cb2_m[13u].y * _2052)) * _2116));
    float _2160 = mad(_2086 * (_2059 * cb2_m[14u].z), _2114, ((_2074 * (cb2_m[12u].z * _2059)) * _2115) + ((_2089 * (_2059 * cb2_m[13u].z)) * _2116));
    float _2161 = mad(_2086 * (_2046 * cb2_m[14u].x), _2114, ((_2089 * (cb2_m[13u].x * _2046)) * _2116) + ((_2074 * (_2046 * cb2_m[12u].x)) * _2115));
    float _2165 = float(_2159 >= _2160);
    float _2166 = mad(_2159 - _2160, _2165, _2160);
    float _2167 = mad(_2165, _2160 - _2159, _2159);
    float _2169 = mad(_2165, -1.0f, 0.666666686534881591796875f);
    float _2175 = float(_2166 <= _2161);
    float _2176 = mad(_2161 - _2166, _2175, _2166);
    float _2177 = mad(_2175, _2167 - _2167, _2167);
    float _2179 = mad(_2175, _2166 - _2161, _2161);
    float _2181 = _2176 - min(_2179, _2177);
    float _2187 = _2181 / (_2176 + 9.9999997473787516355514526367188e-05f);
    float _2191 = cb2_m[9u].z + abs(((_2179 - _2177) / mad(_2181, 6.0f, 9.9999997473787516355514526367188e-05f)) + mad(_2175, mad(_2165, 1.0f, -1.0f) - _2169, _2169));
    float _2197 = (_2191 < 0.0f) ? (_2191 + 1.0f) : ((_2191 > 1.0f) ? (_2191 - 1.0f) : _2191);
    float _2219 = mad(_2187, clamp(abs(mad(frac(_2197 + 1.0f), 6.0f, -3.0f)) - 1.0f, 0.0f, 1.0f) - 1.0f, 1.0f);
    float _2220 = mad(_2187, clamp(abs(mad(frac(_2197 + 0.666666686534881591796875f), 6.0f, -3.0f)) - 1.0f, 0.0f, 1.0f) - 1.0f, 1.0f);
    float _2221 = mad(_2187, clamp(abs(mad(frac(_2197 + 0.3333333432674407958984375f), 6.0f, -3.0f)) - 1.0f, 0.0f, 1.0f) - 1.0f, 1.0f);
    float _2226 = dp3_f32(float3(_2176 * _2219, _2176 * _2220, _2176 * _2221), float3(0.21267290413379669189453125f, 0.715152204036712646484375f, 0.072175003588199615478515625f));
    float _2235 = mad(cb2_m[8u].w, mad(_2176, _2219, -_2226), _2226);
    float _2236 = mad(cb2_m[8u].w, mad(_2176, _2220, -_2226), _2226);
    float _2237 = mad(cb2_m[8u].w, mad(_2176, _2221, -_2226), _2226);
    float _2256;
    float _2257;
    float _2258;
    if (_1982)
    {
        _2256 = cb2_m[9u].y * clamp(mad(cb2_m[9u].x, _2237 - 0.1800537109375f, 0.1800537109375f), 0.0f, 65504.0f);
        _2257 = cb2_m[9u].y * clamp(mad(cb2_m[9u].x, _2236 - 0.1800537109375f, 0.1800537109375f), 0.0f, 65504.0f);
        _2258 = cb2_m[9u].y * clamp(mad(cb2_m[9u].x, _2235 - 0.1800537109375f, 0.1800537109375f), 0.0f, 65504.0f);
    }
    else
    {
        _2256 = _2237;
        _2257 = _2236;
        _2258 = _2235;
    }
#if 1
  float _2262 = (RENODX_TONE_MAP_TYPE == 0) ? min(_2258 * 2.5f, 65504.0f) : _2258;
  float _2263 = (RENODX_TONE_MAP_TYPE == 0) ? min(_2257 * 2.5f, 65504.0f) : _2257;
  float _2264 = (RENODX_TONE_MAP_TYPE == 0) ? min(_2256 * 2.5f, 65504.0f) : _2256;
#endif
    float _2268 = max(max(_2262, _2263), _2264);
    float _2273 = (max(_2268, 9.9999997473787516355514526367188e-05f) - max(min(min(_2262, _2263), _2264), 9.9999997473787516355514526367188e-05f)) / max(_2268, 0.00999999977648258209228515625f);
    float _2284 = mad(sqrt(mad(_2262, _2262 - _2264, ((_2264 - _2263) * _2264) + ((_2263 - _2262) * _2263))), 1.75f, _2262 + (_2264 + _2263));
    float _2285 = _2273 - 0.4000000059604644775390625f;
    float _2289 = max(1.0f - abs(_2285 * 2.5f), 0.0f);
    float _2297 = mad(mad(clamp(mad(_2285, asfloat(0x7f800000u /* inf */), 0.5f), 0.0f, 1.0f), 2.0f, -1.0f), mad(-_2289, _2289, 1.0f), 1.0f) * 0.02500000037252902984619140625f;
    float _2305 = ((_2284 <= 0.1599999964237213134765625f) ? _2297 : ((_2284 >= 0.4799999892711639404296875f) ? 0.0f : (((0.07999999821186065673828125f / (_2284 * 0.3333333432674407958984375f)) - 0.5f) * _2297))) + 1.0f;
    float _2306 = _2262 * _2305;
    float _2307 = _2305 * _2263;
    float _2308 = _2305 * _2264;
    float _2313 = (_2307 - _2308) * 1.73205077648162841796875f;
    float _2315 = (_2306 * 2.0f) - _2307;
    float _2317 = mad(-_2305, _2264, _2315);
    float _2318 = abs(_2317);
    float _2319 = abs(_2313);
    float _2323 = min(_2318, _2319) * (1.0f / max(_2318, _2319));
    float _2324 = _2323 * _2323;
    float _2328 = mad(_2324, mad(_2324, mad(_2324, mad(_2324, 0.02083509974181652069091796875f, -0.08513300120830535888671875f), 0.1801410019397735595703125f), -0.33029949665069580078125f), 0.999866008758544921875f);
    float _2338 = mad(_2323, _2328, (_2318 < _2319) ? mad(_2323 * _2328, -2.0f, 1.57079637050628662109375f) : 0.0f) + ((_2317 < mad(_2305, _2264, -_2315)) ? (-3.1415927410125732421875f) : 0.0f);
    float _2339 = min(_2313, _2317);
    float _2340 = max(_2313, _2317);
    float _2349 = ((_2306 == _2307) && (_2308 == _2307)) ? 0.0f : ((((_2339 < (-_2339)) && (_2340 >= (-_2340))) ? (-_2338) : _2338) * 57.295780181884765625f);
    float _2352 = (_2349 < 0.0f) ? (_2349 + 360.0f) : _2349;
    float _2362 = max(1.0f - abs(((_2352 < (-180.0f)) ? (_2352 + 360.0f) : ((_2352 > 180.0f) ? (_2352 - 360.0f) : _2352)) * 0.01481481455266475677490234375f), 0.0f);
    float _2365 = mad(_2362, -2.0f, 3.0f) * (_2362 * _2362);
    float3 _2376 = float3(clamp(_2306 + (((_2273 * (_2365 * _2365)) * mad(-_2262, _2305, 0.02999999932944774627685546875f)) * 0.180000007152557373046875f), 0.0f, 65504.0f), clamp(_2307, 0.0f, 65504.0f), clamp(_2308, 0.0f, 65504.0f));
    float _2380 = clamp(dp3_f32(float3(1.45143926143646240234375f, -0.236510753631591796875f, -0.214928567409515380859375f), _2376), 0.0f, 65504.0f);
    float _2381 = clamp(dp3_f32(float3(-0.07655377686023712158203125f, 1.1762297153472900390625f, -0.0996759235858917236328125f), _2376), 0.0f, 65504.0f);
    float _2382 = clamp(dp3_f32(float3(0.0083161480724811553955078125f, -0.0060324496589601039886474609375f, 0.99771630764007568359375f), _2376), 0.0f, 65504.0f);

    float _2384 = dp3_f32(float3(_2380, _2381, _2382), float3(0.2722289860248565673828125f, 0.674081981182098388671875f, 0.0536894984543323516845703125f));
    float _2388 = mad(_2380 - _2384, 0.959999978542327880859375f, _2384);
    float _2389 = mad(_2381 - _2384, 0.959999978542327880859375f, _2384);
    float _2390 = mad(_2382 - _2384, 0.959999978542327880859375f, _2384);
#if 1
  if (RENODX_TONE_MAP_TYPE != 0) {
    u0[_1524] = float4(CustomACES(float3(_2388, _2389, _2390)), 1.f);
    return;
  }
#endif

    float _2397 = (_2388 <= 0.0f) ? (-14.0f) : log2(_2388);
    float _2398 = (_2389 <= 0.0f) ? (-14.0f) : log2(_2389);
    float _2399 = (_2390 <= 0.0f) ? (-14.0f) : log2(_2390);
    float _2486;
    if (_2397 <= (-17.4739322662353515625f))
    {
        _2486 = -4.0f;
    }
    else
    {
        float _2485;
        if (_2397 < (-2.4739310741424560546875f))
        {
            float _2410 = mad(_2397, 0.3010300099849700927734375f, 5.2601776123046875f);
            float _2411 = _2410 * 0.6643855571746826171875f;
            int _2412 = cvt_f32_i32(_2411);
            float _2415 = mad(_2410, 0.6643855571746826171875f, -trunc(_2411));
            uint _2421 = min(uint(_2412 + 4), 10u);
            uint _2427 = min(uint((_2412 + 1) + 4), 10u);
            uint _2433 = min(uint((_2412 + 2) + 4), 10u);
            float2 _2439 = float2(_386[_2421].x, _386[_2427].x);
            _2485 = dp3_f32(float3(_2415 * _2415, _2415, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(_386[_2421].x, _386[_2427].x, _386[_2433].x)), dp2_f32(float2(-1.0f, 1.0f), _2439), dp2_f32(0.5f.xx, _2439)));
        }
        else
        {
            float _2484;
            if (_2397 < 15.52606868743896484375f)
            {
                float _2449 = mad(_2397, 0.3010300099849700927734375f, 0.74472749233245849609375f);
                float _2450 = _2449 * 0.55365467071533203125f;
                int _2451 = cvt_f32_i32(_2450);
                float _2454 = mad(_2449, 0.55365467071533203125f, -trunc(_2450));
                uint _2460 = min(uint(_2451 + 4), 10u);
                uint _2466 = min(uint((_2451 + 1) + 4), 10u);
                uint _2472 = min(uint((_2451 + 2) + 4), 10u);
                float2 _2478 = float2(_386[_2460].y, _386[_2466].y);
                _2484 = dp3_f32(float3(_2454 * _2454, _2454, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(_386[_2460].y, _386[_2466].y, _386[_2472].y)), dp2_f32(float2(-1.0f, 1.0f), _2478), dp2_f32(0.5f.xx, _2478)));
            }
            else
            {
                _2484 = 4.0f;
            }
            _2485 = _2484;
        }
        _2486 = _2485;
    }
    float _2572;
    if (_2398 <= (-17.4739322662353515625f))
    {
        _2572 = -4.0f;
    }
    else
    {
        float _2571;
        if (_2398 < (-2.4739310741424560546875f))
        {
            float _2496 = mad(_2398, 0.3010300099849700927734375f, 5.2601776123046875f);
            float _2497 = _2496 * 0.6643855571746826171875f;
            int _2498 = cvt_f32_i32(_2497);
            float _2501 = mad(_2496, 0.6643855571746826171875f, -trunc(_2497));
            uint _2507 = min(uint(_2498 + 4), 10u);
            uint _2513 = min(uint((_2498 + 1) + 4), 10u);
            uint _2519 = min(uint((_2498 + 2) + 4), 10u);
            float2 _2525 = float2(_386[_2507].x, _386[_2513].x);
            _2571 = dp3_f32(float3(_2501 * _2501, _2501, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(_386[_2507].x, _386[_2513].x, _386[_2519].x)), dp2_f32(float2(-1.0f, 1.0f), _2525), dp2_f32(0.5f.xx, _2525)));
        }
        else
        {
            float _2570;
            if (_2398 < 15.52606868743896484375f)
            {
                float _2535 = mad(_2398, 0.3010300099849700927734375f, 0.74472749233245849609375f);
                float _2536 = _2535 * 0.55365467071533203125f;
                int _2537 = cvt_f32_i32(_2536);
                float _2540 = mad(_2535, 0.55365467071533203125f, -trunc(_2536));
                uint _2546 = min(uint(_2537 + 4), 10u);
                uint _2552 = min(uint((_2537 + 1) + 4), 10u);
                uint _2558 = min(uint((_2537 + 2) + 4), 10u);
                float2 _2564 = float2(_386[_2546].y, _386[_2552].y);
                _2570 = dp3_f32(float3(_2540 * _2540, _2540, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(_386[_2546].y, _386[_2552].y, _386[_2558].y)), dp2_f32(float2(-1.0f, 1.0f), _2564), dp2_f32(0.5f.xx, _2564)));
            }
            else
            {
                _2570 = 4.0f;
            }
            _2571 = _2570;
        }
        _2572 = _2571;
    }
    float _2658;
    if (_2399 <= (-17.4739322662353515625f))
    {
        _2658 = -4.0f;
    }
    else
    {
        float _2657;
        if (_2399 < (-2.4739310741424560546875f))
        {
            float _2582 = mad(_2399, 0.3010300099849700927734375f, 5.2601776123046875f);
            float _2583 = _2582 * 0.6643855571746826171875f;
            int _2584 = cvt_f32_i32(_2583);
            float _2587 = mad(_2582, 0.6643855571746826171875f, -trunc(_2583));
            uint _2593 = min(uint(_2584 + 4), 10u);
            uint _2599 = min(uint((_2584 + 1) + 4), 10u);
            uint _2605 = min(uint((_2584 + 2) + 4), 10u);
            float2 _2611 = float2(_386[_2593].x, _386[_2599].x);
            _2657 = dp3_f32(float3(_2587 * _2587, _2587, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(_386[_2593].x, _386[_2599].x, _386[_2605].x)), dp2_f32(float2(-1.0f, 1.0f), _2611), dp2_f32(0.5f.xx, _2611)));
        }
        else
        {
            float _2656;
            if (_2399 < 15.52606868743896484375f)
            {
                float _2621 = mad(_2399, 0.3010300099849700927734375f, 0.74472749233245849609375f);
                float _2622 = _2621 * 0.55365467071533203125f;
                int _2623 = cvt_f32_i32(_2622);
                float _2626 = mad(_2621, 0.55365467071533203125f, -trunc(_2622));
                uint _2632 = min(uint(_2623 + 4), 10u);
                uint _2638 = min(uint((_2623 + 1) + 4), 10u);
                uint _2644 = min(uint((_2623 + 2) + 4), 10u);
                float2 _2650 = float2(_386[_2632].y, _386[_2638].y);
                _2656 = dp3_f32(float3(_2626 * _2626, _2626, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(_386[_2632].y, _386[_2638].y, _386[_2644].y)), dp2_f32(float2(-1.0f, 1.0f), _2650), dp2_f32(0.5f.xx, _2650)));
            }
            else
            {
                _2656 = 4.0f;
            }
            _2657 = _2656;
        }
        _2658 = _2657;
    }
    float3 _2661 = float3(exp2(_2486 * 3.3219280242919921875f), exp2(_2572 * 3.3219280242919921875f), exp2(_2658 * 3.3219280242919921875f));
    float3 _2665 = float3(dp3_f32(float3(0.695452213287353515625f, 0.140678703784942626953125f, 0.16386906802654266357421875f), _2661), dp3_f32(float3(0.0447945632040500640869140625f, 0.859671115875244140625f, 0.095534317195415496826171875f), _2661), dp3_f32(float3(-0.0055258828215301036834716796875f, 0.0040252101607620716094970703125f, 1.00150072574615478515625f), _2661));
    float _2666 = dp3_f32(float3(1.45143926143646240234375f, -0.236510753631591796875f, -0.214928567409515380859375f), _2665);
    float _2667 = dp3_f32(float3(-0.07655377686023712158203125f, 1.1762297153472900390625f, -0.0996759235858917236328125f), _2665);
    float _2668 = dp3_f32(float3(0.0083161480724811553955078125f, -0.0060324496589601039886474609375f, 0.99771630764007568359375f), _2665);
    float _2672 = (_2666 <= 0.0f) ? (-4.0f) : (log2(_2666) * 0.3010300099849700927734375f);
    float _2676 = log2(cb1_m[19u].y);
    float _2677 = _2676 * 0.3010300099849700927734375f;
    float _2785;
    if (_2677 >= _2672)
    {
        _2785 = mad(cb1_m[21u].x, _2672, (log2(cb1_m[19u].z) * 0.3010300099849700927734375f) - (_2677 * cb1_m[21u].x));
    }
    else
    {
        float _2694 = log2(cb1_m[20u].x);
        float _2695 = _2694 * 0.3010300099849700927734375f;
        float _2784;
        if ((_2677 < _2672) && (_2695 > _2672))
        {
            float _2704 = (mad(_2676, -0.3010300099849700927734375f, _2672) * 7.0f) / (_2695 - _2677);
            int _2705 = cvt_f32_i32(_2704);
            float _2707 = _2704 - trunc(_2704);
            uint _2709 = uint(_2705 + 1);
            uint _2711 = uint(_2705 + 2);
            uint _2713 = uint(_2705);
            float2 _2725 = float2(cb1_m[_2713].x, cb1_m[_2709].x);
            _2784 = dp3_f32(float3(_2707 * _2707, _2707, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(cb1_m[_2713].x, cb1_m[_2709].x, cb1_m[_2711].x)), dp2_f32(float2(-1.0f, 1.0f), _2725), dp2_f32(0.5f.xx, _2725)));
        }
        else
        {
            float _2735 = log2(cb1_m[20u].z) * 0.3010300099849700927734375f;
            float _2783;
            if ((_2695 <= _2672) && (_2735 > _2672))
            {
                float _2744 = (mad(_2694, -0.3010300099849700927734375f, _2672) * 7.0f) / (_2735 - _2695);
                int _2745 = cvt_f32_i32(_2744);
                float _2747 = _2744 - trunc(_2744);
                uint _2752 = uint(_2745 + 10);
                uint _2757 = uint((_2745 + 1) + 10);
                uint _2762 = uint((_2745 + 2) + 10);
                float2 _2768 = float2(cb1_m[_2752].x, cb1_m[_2757].x);
                _2783 = dp3_f32(float3(_2747 * _2747, _2747, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(cb1_m[_2752].x, cb1_m[_2757].x, cb1_m[_2762].x)), dp2_f32(float2(-1.0f, 1.0f), _2768), dp2_f32(0.5f.xx, _2768)));
            }
            else
            {
                _2783 = mad(cb1_m[21u].y, _2672, (log2(cb1_m[20u].w) * 0.3010300099849700927734375f) - (_2735 * cb1_m[21u].y));
            }
            _2784 = _2783;
        }
        _2785 = _2784;
    }
    float _2789 = (_2667 <= 0.0f) ? (-4.0f) : (log2(_2667) * 0.3010300099849700927734375f);
    float _2897;
    if (_2677 >= _2789)
    {
        _2897 = mad(cb1_m[21u].x, _2789, (log2(cb1_m[19u].z) * 0.3010300099849700927734375f) - (_2677 * cb1_m[21u].x));
    }
    else
    {
        float _2806 = log2(cb1_m[20u].x);
        float _2807 = _2806 * 0.3010300099849700927734375f;
        float _2896;
        if ((_2677 < _2789) && (_2807 > _2789))
        {
            float _2816 = (mad(_2676, -0.3010300099849700927734375f, _2789) * 7.0f) / (_2807 - _2677);
            int _2817 = cvt_f32_i32(_2816);
            float _2819 = _2816 - trunc(_2816);
            uint _2821 = uint(_2817 + 1);
            uint _2823 = uint(_2817 + 2);
            uint _2825 = uint(_2817);
            float2 _2837 = float2(cb1_m[_2825].x, cb1_m[_2821].x);
            _2896 = dp3_f32(float3(_2819 * _2819, _2819, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(cb1_m[_2825].x, cb1_m[_2821].x, cb1_m[_2823].x)), dp2_f32(float2(-1.0f, 1.0f), _2837), dp2_f32(0.5f.xx, _2837)));
        }
        else
        {
            float _2847 = log2(cb1_m[20u].z) * 0.3010300099849700927734375f;
            float _2895;
            if ((_2807 <= _2789) && (_2847 > _2789))
            {
                float _2856 = (mad(_2806, -0.3010300099849700927734375f, _2789) * 7.0f) / (_2847 - _2807);
                int _2857 = cvt_f32_i32(_2856);
                float _2859 = _2856 - trunc(_2856);
                uint _2864 = uint(_2857 + 10);
                uint _2869 = uint((_2857 + 1) + 10);
                uint _2874 = uint((_2857 + 2) + 10);
                float2 _2880 = float2(cb1_m[_2864].x, cb1_m[_2869].x);
                _2895 = dp3_f32(float3(_2859 * _2859, _2859, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(cb1_m[_2864].x, cb1_m[_2869].x, cb1_m[_2874].x)), dp2_f32(float2(-1.0f, 1.0f), _2880), dp2_f32(0.5f.xx, _2880)));
            }
            else
            {
                _2895 = mad(cb1_m[21u].y, _2789, (log2(cb1_m[20u].w) * 0.3010300099849700927734375f) - (_2847 * cb1_m[21u].y));
            }
            _2896 = _2895;
        }
        _2897 = _2896;
    }
    float _2901 = (_2668 <= 0.0f) ? (-4.0f) : (log2(_2668) * 0.3010300099849700927734375f);
    float _3009;
    if (_2677 >= _2901)
    {
        _3009 = mad(cb1_m[21u].x, _2901, (log2(cb1_m[19u].z) * 0.3010300099849700927734375f) - (_2677 * cb1_m[21u].x));
    }
    else
    {
        float _2918 = log2(cb1_m[20u].x);
        float _2919 = _2918 * 0.3010300099849700927734375f;
        float _3008;
        if ((_2677 < _2901) && (_2919 > _2901))
        {
            float _2928 = (mad(_2676, -0.3010300099849700927734375f, _2901) * 7.0f) / (_2919 - _2677);
            int _2929 = cvt_f32_i32(_2928);
            float _2931 = _2928 - trunc(_2928);
            uint _2933 = uint(_2929 + 1);
            uint _2935 = uint(_2929 + 2);
            uint _2937 = uint(_2929);
            float2 _2949 = float2(cb1_m[_2937].x, cb1_m[_2933].x);
            _3008 = dp3_f32(float3(_2931 * _2931, _2931, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(cb1_m[_2937].x, cb1_m[_2933].x, cb1_m[_2935].x)), dp2_f32(float2(-1.0f, 1.0f), _2949), dp2_f32(0.5f.xx, _2949)));
        }
        else
        {
            float _2959 = log2(cb1_m[20u].z) * 0.3010300099849700927734375f;
            float _3007;
            if ((_2919 <= _2901) && (_2959 > _2901))
            {
                float _2968 = (mad(_2918, -0.3010300099849700927734375f, _2901) * 7.0f) / (_2959 - _2919);
                int _2969 = cvt_f32_i32(_2968);
                float _2971 = _2968 - trunc(_2968);
                uint _2976 = uint(_2969 + 10);
                uint _2981 = uint((_2969 + 1) + 10);
                uint _2986 = uint((_2969 + 2) + 10);
                float2 _2992 = float2(cb1_m[_2976].x, cb1_m[_2981].x);
                _3007 = dp3_f32(float3(_2971 * _2971, _2971, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(cb1_m[_2976].x, cb1_m[_2981].x, cb1_m[_2986].x)), dp2_f32(float2(-1.0f, 1.0f), _2992), dp2_f32(0.5f.xx, _2992)));
            }
            else
            {
                _3007 = mad(cb1_m[21u].y, _2901, (log2(cb1_m[20u].w) * 0.3010300099849700927734375f) - (_2959 * cb1_m[21u].y));
            }
            _3008 = _3007;
        }
        _3009 = _3008;
    }
    if (_1558)
    {
        float3 _3021 = float3(exp2(_2785 * 3.3219280242919921875f) - 3.5073844628641381859779357910156e-05f, exp2(_2897 * 3.3219280242919921875f) - 3.5073844628641381859779357910156e-05f, exp2(_3009 * 3.3219280242919921875f) - 3.5073844628641381859779357910156e-05f);
        float3 _3025 = float3(dp3_f32(float3(0.662454187870025634765625f, 0.1340042054653167724609375f, 0.1561876833438873291015625f), _3021), dp3_f32(float3(0.272228717803955078125f, 0.674081742763519287109375f, 0.053689517080783843994140625f), _3021), dp3_f32(float3(-0.0055746496655046939849853515625f, 0.0040607335977256298065185546875f, 1.01033914089202880859375f), _3021));
        float3 _3029 = float3(dp3_f32(float3(0.98722398281097412109375f, -0.0061132698319852352142333984375f, 0.01595330052077770233154296875f), _3025), dp3_f32(float3(-0.007598360069096088409423828125f, 1.00186002254486083984375f, 0.0053301998414099216461181640625f), _3025), dp3_f32(float3(0.003072570078074932098388671875f, -0.0050959498621523380279541015625f, 1.0816800594329833984375f), _3025));
        float _3038 = exp2(log2(abs(dp3_f32(float3(1.71665096282958984375f, -0.35567080974578857421875f, -0.2533662319183349609375f), _3029) * 9.9999997473787516355514526367188e-05f)) * 0.1593017578125f);
        float _3049 = exp2(log2(abs(dp3_f32(float3(-0.666684329509735107421875f, 1.616481304168701171875f, 0.0157685391604900360107421875f), _3029) * 9.9999997473787516355514526367188e-05f)) * 0.1593017578125f);
        float _3059 = exp2(log2(abs(dp3_f32(float3(0.0176398493349552154541015625f, -0.04277060925960540771484375f, 0.94210326671600341796875f), _3029) * 9.9999997473787516355514526367188e-05f)) * 0.1593017578125f);
        u0[_1524] = float4(min(exp2(log2(mad(_3038, 18.8515625f, 0.8359375f) / mad(_3038, 18.6875f, 1.0f)) * 78.84375f), 1.0f), min(exp2(log2(mad(_3049, 18.8515625f, 0.8359375f) / mad(_3049, 18.6875f, 1.0f)) * 78.84375f), 1.0f), min(exp2(log2(mad(_3059, 18.8515625f, 0.8359375f) / mad(_3059, 18.6875f, 1.0f)) * 78.84375f), 1.0f), 1.0f);
    }
}

[numthreads(8, 8, 1)]
void main(SPIRV_Cross_Input stage_input)
{
    gl_LocalInvocationID = stage_input.gl_LocalInvocationID;
    gl_GlobalInvocationID = stage_input.gl_GlobalInvocationID;
    comp_main();
}
