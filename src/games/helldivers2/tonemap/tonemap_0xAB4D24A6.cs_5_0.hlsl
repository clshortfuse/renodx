#include "../common.hlsl"
struct _376
{
    uint2 _m0;
    uint _m1;
};

static const float _57[1] = { 0.0f };
static const float4 _280[11] = { float4(1.0f, 0.0f, 0.0f, 0.0f), float4(0.0f, 1.0f, 0.0f, 0.0f), float4(0.0f, 0.0f, 1.0f, 0.0f), float4(0.0f, 0.0f, 0.0f, 1.0f), float4(-4.0f, -0.718548238277435302734375f, 0.0f, 0.0f), float4(-4.0f, 2.0810306072235107421875f, 0.0f, 0.0f), float4(-3.1573765277862548828125f, 3.66812419891357421875f, 0.0f, 0.0f), float4(-0.485249996185302734375f, 4.0f, 0.0f, 0.0f), float4(1.84773242473602294921875f, 4.0f, 0.0f, 0.0f), float4(1.84773242473602294921875f, 4.0f, 0.0f, 0.0f), 0.0f.xxxx };

cbuffer cb0_buf : register(b0)
{
    uint4 cb0_m[44] : packoffset(c0);
};

cbuffer cb1_buf : register(b1)
{
    float4 cb1_m[4096] : packoffset(c0);
};

cbuffer cb2_buf : register(b2)
{
    uint4 cb2_m0 : packoffset(c0);
    uint4 cb2_m1 : packoffset(c1);
    float2 cb2_m2 : packoffset(c2);
    float2 cb2_m3 : packoffset(c2.z);
    float4 cb2_m4 : packoffset(c3);
    float3 cb2_m5 : packoffset(c4);
    uint cb2_m6 : packoffset(c4.w);
    float4 cb2_m7 : packoffset(c5);
    float4 cb2_m8 : packoffset(c6);
    float2 cb2_m9 : packoffset(c7);
    float2 cb2_m10 : packoffset(c7.z);
    uint4 cb2_m11 : packoffset(c8);
    uint4 cb2_m12 : packoffset(c9);
    uint4 cb2_m13 : packoffset(c10);
    uint4 cb2_m14 : packoffset(c11);
    uint4 cb2_m15 : packoffset(c12);
    uint4 cb2_m16 : packoffset(c13);
    uint4 cb2_m17 : packoffset(c14);
    uint4 cb2_m18 : packoffset(c15);
    uint4 cb2_m19 : packoffset(c16);
    uint4 cb2_m20 : packoffset(c17);
    float4 cb2_m21 : packoffset(c18);
    float4 cb2_m22 : packoffset(c19);
};

SamplerState s0 : register(s0);
SamplerState s1 : register(s1);
SamplerState s2 : register(s2);
SamplerState s3 : register(s3);
SamplerState s4 : register(s4);
SamplerState s5 : register(s5);
SamplerState s6 : register(s6);
Buffer<float4> t0 : register(t0);
Texture2D<float4> t1 : register(t1);
Texture2D<float4> t2 : register(t2);
Texture2D<float4> t3 : register(t3);
Texture2D<float4> t4 : register(t4);
Texture2D<float4> t5 : register(t5);
Texture2D<float4> t6 : register(t6);
Texture2D<float4> t7 : register(t7);
Texture2D<float4> t8 : register(t8);
Buffer<float4> t9 : register(t9);
Buffer<float4> t10 : register(t10);
RWTexture2D<float4> u0 : register(u0);

static uint3 gl_LocalInvocationID;
static uint3 gl_GlobalInvocationID;
struct SPIRV_Cross_Input
{
    uint3 gl_LocalInvocationID : SV_GroupThreadID;
    uint3 gl_GlobalInvocationID : SV_DispatchThreadID;
};

groupshared float g0[1];

uint2 spvImageSize(RWTexture2D<float4> Tex, out uint Param)
{
    uint2 ret;
    Tex.GetDimensions(ret.x, ret.y);
    Param = 0u;
    return ret;
}

uint spvBitfieldInsert(uint Base, uint Insert, uint Offset, uint Count)
{
    uint Mask = Count == 32 ? 0xffffffff : (((1u << Count) - 1) << (Offset & 31));
    return (Base & ~Mask) | ((Insert << Offset) & Mask);
}

uint2 spvBitfieldInsert(uint2 Base, uint2 Insert, uint Offset, uint Count)
{
    uint Mask = Count == 32 ? 0xffffffff : (((1u << Count) - 1) << (Offset & 31));
    return (Base & ~Mask) | ((Insert << Offset) & Mask);
}

uint3 spvBitfieldInsert(uint3 Base, uint3 Insert, uint Offset, uint Count)
{
    uint Mask = Count == 32 ? 0xffffffff : (((1u << Count) - 1) << (Offset & 31));
    return (Base & ~Mask) | ((Insert << Offset) & Mask);
}

uint4 spvBitfieldInsert(uint4 Base, uint4 Insert, uint Offset, uint Count)
{
    uint Mask = Count == 32 ? 0xffffffff : (((1u << Count) - 1) << (Offset & 31));
    return (Base & ~Mask) | ((Insert << Offset) & Mask);
}

uint spvBitfieldUExtract(uint Base, uint Offset, uint Count)
{
    uint Mask = Count == 32 ? 0xffffffff : ((1 << Count) - 1);
    return (Base >> Offset) & Mask;
}

uint2 spvBitfieldUExtract(uint2 Base, uint Offset, uint Count)
{
    uint Mask = Count == 32 ? 0xffffffff : ((1 << Count) - 1);
    return (Base >> Offset) & Mask;
}

uint3 spvBitfieldUExtract(uint3 Base, uint Offset, uint Count)
{
    uint Mask = Count == 32 ? 0xffffffff : ((1 << Count) - 1);
    return (Base >> Offset) & Mask;
}

uint4 spvBitfieldUExtract(uint4 Base, uint Offset, uint Count)
{
    uint Mask = Count == 32 ? 0xffffffff : ((1 << Count) - 1);
    return (Base >> Offset) & Mask;
}

int spvBitfieldSExtract(int Base, int Offset, int Count)
{
    int Mask = Count == 32 ? -1 : ((1 << Count) - 1);
    int Masked = (Base >> Offset) & Mask;
    int ExtendShift = (32 - Count) & 31;
    return (Masked << ExtendShift) >> ExtendShift;
}

int2 spvBitfieldSExtract(int2 Base, int Offset, int Count)
{
    int Mask = Count == 32 ? -1 : ((1 << Count) - 1);
    int2 Masked = (Base >> Offset) & Mask;
    int ExtendShift = (32 - Count) & 31;
    return (Masked << ExtendShift) >> ExtendShift;
}

int3 spvBitfieldSExtract(int3 Base, int Offset, int Count)
{
    int Mask = Count == 32 ? -1 : ((1 << Count) - 1);
    int3 Masked = (Base >> Offset) & Mask;
    int ExtendShift = (32 - Count) & 31;
    return (Masked << ExtendShift) >> ExtendShift;
}

int4 spvBitfieldSExtract(int4 Base, int Offset, int Count)
{
    int Mask = Count == 32 ? -1 : ((1 << Count) - 1);
    int4 Masked = (Base >> Offset) & Mask;
    int ExtendShift = (32 - Count) & 31;
    return (Masked << ExtendShift) >> ExtendShift;
}

float dp2_f32(float2 a, float2 b)
{
    precise float _367 = a.x * b.x;
    return mad(a.y, b.y, _367);
}

float dp3_f32(float3 a, float3 b)
{
    precise float _353 = a.x * b.x;
    return mad(a.z, b.z, mad(a.y, b.y, _353));
}

float dp4_f32(float4 a, float4 b)
{
    precise float _335 = a.x * b.x;
    return mad(a.w, b.w, mad(a.z, b.z, mad(a.y, b.y, _335)));
}

int cvt_f32_i32(float v)
{
    return isnan(v) ? 0 : ((v < (-2147483648.0f)) ? int(0x80000000) : ((v > 2147483520.0f) ? 2147483647 : int(v)));
}

void comp_main()
{
    uint _375_dummy_parameter;
    _376 _377 = { spvImageSize(u0, _375_dummy_parameter), 1u };
    uint _392 = gl_LocalInvocationID.x + (gl_LocalInvocationID.y * 8u);
    uint _396 = (gl_GlobalInvocationID.x - gl_LocalInvocationID.x) + spvBitfieldUExtract(_392, 1u, 3u);
    uint _397 = spvBitfieldInsert(spvBitfieldUExtract(gl_LocalInvocationID.y, 0u, 29u), _392, 0u, 1u) + (gl_GlobalInvocationID.y - gl_LocalInvocationID.y);
    float _404 = (float(_396) + 0.5f) / float(_377._m0.x);
    float _405 = (float(_397) + 0.5f) / float(_377._m0.y);
    bool _408 = (_377._m0.x < _396) || (_377._m0.y < _397);
    bool _413 = cb2_m3.y == 1.0f;
    if (((gl_LocalInvocationID.x == 0u) && _413) && (gl_LocalInvocationID.y == 0u))
    {
        g0[0u] = t6.Load(int3(uint2(0u, 0u), 0u)).x;
    }
    GroupMemoryBarrierWithGroupSync();
    float2 _428 = float2(_404, _405);
    float _433 = mad(t4.SampleLevel(s3, _428, 0.0f).x, 2.0f, -1.0f);
    float _448;
    if (_433 > 0.0f)
    {
        _448 = min(sqrt(_433), t0.Load(8u).x);
    }
    else
    {
        _448 = max(_433, -t0.Load(7u).x);
    }
    bool _459 = (cb2_m10.x != 0.0f) && (cb2_m10.y != 0.0f);
    bool _463 = (cb2_m8.w != 0.0f) && (cb2_m9.x != 0.0f);
    float4 _467 = t1.SampleLevel(s0, _428, 0.0f);
    float _468 = _467.x;
    float _469 = _467.y;
    float _470 = _467.z;
    float _538;
    float _539;
    float _540;
    if (_463 || _459)
    {
        float4 _477 = t3.SampleLevel(s2, _428, 0.0f);
        float2 _486 = float2(_477.x * cb2_m2.x, _477.y * cb2_m2.y);
        float _500 = exp2(max(_459 ? clamp((sqrt(dp2_f32(_486, _486)) - 2.0f) * 0.0555555559694766998291015625f, 0.0f, 1.0f) : 0.0f, _463 ? clamp((abs(_448) - 0.0471399985253810882568359375f) * 1.0494720935821533203125f, 0.0f, 1.0f) : 0.0f) * (-4.3280849456787109375f));
        float4 _504 = t2.SampleLevel(s1, _428, 0.0f);
        float _505 = _504.x;
        float _506 = _504.y;
        float _507 = _504.z;
        float _513 = asfloat(cb0_m[43u].w) * 20.0f;
        float _524 = mad(t7.SampleLevel(s5, float2(mad(_404, 30.0f, sin(_513)), mad(_405, 30.0f, cos(_513))), 0.0f).x, 0.00999999977648258209228515625f, -0.004999999888241291046142578125f);
        float _528 = sqrt(max(max(_505, max(_506, _507)), 1.0000000133514319600180897396058e-10f));
        float _529 = mad(_524, _528, _505);
        float _530 = mad(_524, _528, _506);
        float _531 = mad(_524, _528, _507);
        _538 = mad(_500, _470 - _531, _531);
        _539 = mad(_500, _469 - _530, _530);
        _540 = mad(_500, _468 - _529, _529);
    }
    else
    {
        _538 = _470;
        _539 = _469;
        _540 = _468;
    }
    float _545 = _413 ? g0[0u] : cb2_m3.x;
    float4 _549 = t5.SampleLevel(s4, _428, 0.0f);
    float _550 = _549.x;
    float _558 = max(cb2_m4.y - dp3_f32(float3(_550, _549.yz), float3(0.21269999444484710693359375f, 0.715200006961822509765625f, 0.07209999859333038330078125f)), 6.099999882280826568603515625e-05f);
    float _562 = mad(_545, _540, _550 / _558);
    float _563 = mad(_545, _539, _549.y / _558);
    float _564 = mad(_545, _538, _549.z / _558);
    float _568 = 1.0f / (max(_562, max(_564, _563)) + 1.0f);
    float _569 = _562 * _568;
    float _571 = _568 * _564;
    float3 _572 = float3(_569, _571, _568 * _563);
    float _573 = dp3_f32(_572, float3(0.25f, 0.25f, 0.5f));
    float _574 = dp3_f32(_572, float3(-0.25f, -0.25f, 0.5f));
    float _576 = dp2_f32(float2(_569, _571), float2(0.5f, -0.5f));
    float _577 = _573 - _574;
    float _578 = _576 + _577;
    float _579 = _573 + _574;
    float _580 = _577 - _576;
    bool _581 = !_408;
    float _955;
    float _956;
    float _957;
    if (_581)
    {
        float _585 = dp3_f32(float3(_578, _579, _580), float3(0.21269999444484710693359375f, 0.715200006961822509765625f, 0.07209999859333038330078125f));
        float _593 = mad(-abs(_448), cb2_m9.y, 1.0f) * cb2_m8.x;
        float _597 = mad(_593, _578 - _585, _585);
        float _598 = mad(_593, _579 - _585, _585);
        float _599 = mad(_593, _580 - _585, _585);
        float _600 = _404 - 0.5f;
        float _601 = _405 - 0.5f;
        float _602 = _601 + _601;
        float _603 = _600 + _600;
        float _604 = abs(_603);
        float _605 = abs(_602);
        float _609 = min(_604, _605) * (1.0f / max(_604, _605));
        float _610 = _609 * _609;
        float _614 = mad(_610, mad(_610, mad(_610, mad(_610, 0.02083509974181652069091796875f, -0.08513300120830535888671875f), 0.1801410019397735595703125f), -0.33029949665069580078125f), 0.999866008758544921875f);
        float _623 = mad(_609, _614, (_604 < _605) ? mad(_609 * _614, -2.0f, 1.57079637050628662109375f) : 0.0f) + (((-_603) > _603) ? (-3.1415927410125732421875f) : 0.0f);
        float _624 = min(_602, _603);
        float _625 = max(_602, _603);
        float _632 = ((_624 < (-_624)) && (_625 >= (-_625))) ? (-_623) : _623;
        float4 _636 = t8.SampleLevel(s6, _428, 0.0f);
        float _637 = _636.x;
        float _638 = _636.y;
        float _639 = _636.z;
        float _640 = _636.w;
        float _645 = (_598 - _599) * 1.73205077648162841796875f;
        float _647 = mad(_597, 2.0f, -_598);
        float _648 = _647 - _599;
        float _649 = abs(_645);
        float _650 = abs(_648);
        float _654 = min(_649, _650) * (1.0f / max(_649, _650));
        float _655 = _654 * _654;
        float _659 = mad(_655, mad(_655, mad(_655, mad(_655, 0.02083509974181652069091796875f, -0.08513300120830535888671875f), 0.1801410019397735595703125f), -0.33029949665069580078125f), 0.999866008758544921875f);
        float _668 = mad(_654, _659, (_649 > _650) ? mad(_654 * _659, -2.0f, 1.57079637050628662109375f) : 0.0f) + ((_648 < (_599 - _647)) ? (-3.1415927410125732421875f) : 0.0f);
        float _669 = min(_645, _648);
        float _670 = max(_645, _648);
        float _679 = ((_597 == _598) && (_599 == _598)) ? 0.0f : ((((_669 < (-_669)) && (_670 >= (-_670))) ? (-_668) : _668) * 57.295780181884765625f);
        float _688 = mad(cb2_m22.y, -360.0f, (_679 < 0.0f) ? (_679 + 360.0f) : _679);
        float _698 = clamp(1.0f - (abs((_688 < (-180.0f)) ? (_688 + 360.0f) : ((_688 > 180.0f) ? (_688 - 360.0f) : _688)) / (cb2_m22.z * 180.0f)), 0.0f, 1.0f);
        float _703 = dp3_f32(float3(_597, _598, _599), float3(0.21269999444484710693359375f, 0.715200006961822509765625f, 0.07209999859333038330078125f));
        float _706 = (mad(_698, -2.0f, 3.0f) * (_698 * _698)) * cb2_m22.w;
        float _718 = mad(mad(_706, _597 - _703, _703) - _597, cb2_m21.w, _597);
        float _719 = mad(cb2_m21.w, mad(_706, _598 - _703, _703) - _598, _598);
        float _720 = mad(cb2_m21.w, mad(_706, _599 - _703, _703) - _599, _599);
        float _722;
        _722 = 0.0f;
        float _723;
        uint _726;
        uint _725 = 0u;
        for (;;)
        {
            if (_725 >= 8u)
            {
                break;
            }
            uint _737 = min((_725 & 3u), 10u);
            float _757 = mad(float(_725), 0.785398185253143310546875f, -_632);
            float _758 = _757 + 1.57079637050628662109375f;
            _723 = mad(_640 * (dp4_f32(t9.Load((_725 >> 2u) + 10u), float4(_280[_737].x, _280[_737].y, _280[_737].z, _280[_737].w)) * clamp((abs((_758 > 3.1415927410125732421875f) ? (_757 - 4.7123889923095703125f) : _758) - 2.19911479949951171875f) * 2.1220657825469970703125f, 0.0f, 1.0f)), 1.0f - _722, _722);
            _726 = _725 + 1u;
            _722 = _723;
            _725 = _726;
            continue;
        }
        float _769 = clamp(_722, 0.0f, 1.0f);
        float _782 = asfloat(cb0_m[43u].w);
        float _788 = abs(t9.Load(8u).x);
        float2 _791 = float2(_600 * 1.40999996662139892578125f, _601 * 1.40999996662139892578125f);
        float _793 = sqrt(dp2_f32(_791, _791));
        float _794 = min(_793, 1.0f);
        float _795 = _794 * _794;
        float _800 = clamp(_793 - 0.5f, 0.0f, 1.0f);
        float _803 = (_794 * _795) + (mad(-_794, _795, 1.0f) * (_800 * _800));
        float _804 = mad(mad(mad(sin(_782 * 6.0f), 0.5f, 0.5f), 0.089999973773956298828125f, 0.910000026226043701171875f), _788, -1.0f);
        float _806 = _638 + _804;
        float _808 = clamp((_639 + _804) * 1.53846156597137451171875f, 0.0f, 1.0f);
        float _815 = clamp(_806 + _806, 0.0f, 1.0f);
        float _832 = dp3_f32(float3(t10.Load(8u).xyz), float3(0.21269999444484710693359375f, 0.715200006961822509765625f, 0.07209999859333038330078125f));
        float _838 = mad(sin(_638 * 17.52899932861328125f) + 1.0f, -0.1149999797344207763671875f, 0.89999997615814208984375f) * mad(exp2(log2(abs(_832)) * 0.699999988079071044921875f), 0.10000002384185791015625f, 0.89999997615814208984375f);
        float _840 = _838 * 0.02999999932944774627685546875f;
        float _841 = mad(_788, -0.3499999940395355224609375f, 0.3499999940395355224609375f);
        float _845 = mad(mad(-_803, _803, 1.0f), 1.0f - _841, _841);
        float _846 = min((exp2(log2(_803) * 0.699999988079071044921875f) * (mad(_815, -2.0f, 3.0f) * (_815 * _815))) + (mad(_808, -2.0f, 3.0f) * (_808 * _808)), 1.0f);
        float _856 = mad(_846, mad(_845, _838 * 0.62000000476837158203125f, mad(_718, _769, -_718)), mad(-_718, _769, _718));
        float _857 = mad(_846, mad(_845, _840, mad(_769, _719, -_719)), mad(-_769, _719, _719));
        float _858 = mad(_846, mad(_845, _840, mad(_769, _720, -_720)), mad(-_769, _720, _720));
        float _861 = mad(_638, _639 * (1.0f - _640), _640);
        float _863;
        _863 = 0.0f;
        float _864;
        uint _867;
        uint _866 = 0u;
        for (;;)
        {
            if (int(_866) >= 8)
            {
                break;
            }
            float4 _874 = t9.Load(_866);
            float _876 = _874.y;
            float _878 = _874.x - _632;
            _864 = mad(_861 * (_874.w * clamp((abs((_878 > 3.1415927410125732421875f) ? (_878 - 6.283185482025146484375f) : ((_878 < (-3.1415927410125732421875f)) ? (_878 + 6.283185482025146484375f) : _878)) + (_876 - 3.1415927410125732421875f)) / max(_876 * 0.699999988079071044921875f, 0.001000000047497451305389404296875f), 0.0f, 1.0f)), 1.0f - _863, _863);
            _867 = _866 + 1u;
            _863 = _864;
            _866 = _867;
            continue;
        }
        float _897 = clamp(_863 + _863, 0.0f, 1.0f) * 0.949999988079071044921875f;
        float _901 = mad(0.310000002384185791015625f - _856, _897, _856);
        float _902 = mad(0.014999999664723873138427734375f - _857, _897, _857);
        float _903 = mad(0.014999999664723873138427734375f - _858, _897, _858);
        float4 _904 = t9.Load(12u);
        float _905 = _904.x;
        float _933;
        float _934;
        float _935;
        if (_905 != 0.0f)
        {
            float _912 = clamp(_832, 0.0f, 1.0f);
            float _922 = clamp((_637 + (_905 - 1.0f)) / max(mad(_905, 0.5f, 0.5f), 0.001000000047497451305389404296875f), 0.0f, 1.0f);
            float _926 = clamp(_905 * 2.857142925262451171875f, 0.0f, 1.0f);
            float _929 = mad(_926, -2.0f, 3.0f) * (_926 * _926);
            _933 = mad(((_637 * 0.930000007152557373046875f) * _912) * _922, _929, _903);
            _934 = mad(((_637 * 0.85000002384185791015625f) * _912) * _922, _929, _902);
            _935 = mad(((_637 * 0.790000021457672119140625f) * _912) * _922, _929, _901);
        }
        else
        {
            _933 = _903;
            _934 = _902;
            _935 = _901;
        }
        bool _938 = cb2_m22.x > 0.0f;
        bool _942 = frac((_405 * 420.0f) + (_782 * 0.20000000298023223876953125f)) >= 0.5f;
        float _943 = _942 ? 0.300000011920928955078125f : 0.0f;
        float _944 = _943 * cb2_m22.x;
        _955 = _938 ? mad(_944, 0.0f - _935, _935) : _935;
        _956 = _938 ? mad(_944, (_942 ? 0.100000001490116119384765625f : 0.0f) - _934, _934) : _934;
        _957 = _938 ? mad(_944, _943 - _933, _933) : _933;
    }
    else
    {
        _955 = _578;
        _956 = _579;
        _957 = _580;
    }
    float _962 = 1.0f / max(1.0f - max(max(_956, _957), _955), 6.099999882280826568603515625e-05f);
    float _969 = min(-(_962 * _955), 0.0f);
    float _970 = min(-(_962 * _956), 0.0f);
    float _971 = min(-(_962 * _957), 0.0f);
    float2 _974 = float2(_404 - 0.5f, _405 - 0.5f);
    float _985 = clamp(-((sqrt(dp2_f32(_974, _974)) - cb2_m7.x) * (1.0f / cb2_m7.y)), 0.0f, 1.0f);
    float _986 = mad(_985, -2.0f, 3.0f);
    float _987 = _985 * _985;
    float _988 = _986 * _987;
    float _990 = mad(-_986, _987, 1.0f);
    float _1013 = cb2_m7.z * cb2_m7.w;
    float3 _1026 = float3(_408 ? (-_969) : mad(_969 + ((_990 * cb2_m5.x) - (_969 * _988)), _1013, -_969), _408 ? (-_970) : mad(_1013, ((_990 * cb2_m5.y) - (_988 * _970)) + _970, -_970), _408 ? (-_971) : mad(_1013, ((_990 * cb2_m5.z) - (_988 * _971)) + _971, -_971));
#if 1
  float _1033 = (RENODX_TONE_MAP_TYPE == 0) ? min(dp3_f32(float3(0.4397009909152984619140625f, 0.3829779922962188720703125f, 0.1773349940776824951171875f), _1026) * 2.5f, 65504.0f) : min(dp3_f32(float3(0.4397009909152984619140625f, 0.3829779922962188720703125f, 0.1773349940776824951171875f), _1026), 65504.0f);
  float _1034 = (RENODX_TONE_MAP_TYPE == 0) ? min(dp3_f32(float3(0.08979229629039764404296875f, 0.813422977924346923828125f, 0.09676159918308258056640625f), _1026) * 2.5f, 65504.0f) : min(dp3_f32(float3(0.08979229629039764404296875f, 0.813422977924346923828125f, 0.09676159918308258056640625f), _1026), 65504.0f);
  float _1035 = (RENODX_TONE_MAP_TYPE == 0) ? min(dp3_f32(float3(0.01754399947822093963623046875f, 0.11154399812221527099609375f, 0.870703995227813720703125f), _1026) * 2.5f, 65504.0f) : min(dp3_f32(float3(0.01754399947822093963623046875f, 0.11154399812221527099609375f, 0.870703995227813720703125f), _1026), 65504.0f);
#endif
    float _1039 = max(max(_1034, _1033), _1035);
    float _1044 = (max(_1039, 9.9999997473787516355514526367188e-05f) - max(min(min(_1034, _1033), _1035), 9.9999997473787516355514526367188e-05f)) / max(_1039, 0.00999999977648258209228515625f);
    float _1055 = mad(sqrt(mad(_1033 - _1035, _1033, ((_1035 - _1034) * _1035) + ((_1034 - _1033) * _1034))), 1.75f, (_1035 + _1034) + _1033);
    float _1056 = _1044 - 0.4000000059604644775390625f;
    float _1060 = max(1.0f - abs(_1056 * 2.5f), 0.0f);
    float _1068 = mad(mad(clamp(mad(_1056, asfloat(0x7f800000u /* inf */), 0.5f), 0.0f, 1.0f), 2.0f, -1.0f), mad(-_1060, _1060, 1.0f), 1.0f) * 0.02500000037252902984619140625f;
    float _1076 = ((_1055 <= 0.1599999964237213134765625f) ? _1068 : ((_1055 >= 0.4799999892711639404296875f) ? 0.0f : (((0.07999999821186065673828125f / (_1055 * 0.3333333432674407958984375f)) - 0.5f) * _1068))) + 1.0f;
    float _1077 = _1076 * _1033;
    float _1078 = _1076 * _1034;
    float _1079 = _1076 * _1035;
    float _1084 = (_1078 - _1079) * 1.73205077648162841796875f;
    float _1086 = (_1077 * 2.0f) - _1078;
    float _1088 = mad(-_1076, _1035, _1086);
    float _1089 = abs(_1088);
    float _1090 = abs(_1084);
    float _1094 = min(_1089, _1090) * (1.0f / max(_1089, _1090));
    float _1095 = _1094 * _1094;
    float _1099 = mad(_1095, mad(_1095, mad(_1095, mad(_1095, 0.02083509974181652069091796875f, -0.08513300120830535888671875f), 0.1801410019397735595703125f), -0.33029949665069580078125f), 0.999866008758544921875f);
    float _1109 = mad(_1094, _1099, (_1089 < _1090) ? mad(_1094 * _1099, -2.0f, 1.57079637050628662109375f) : 0.0f) + ((_1088 < mad(_1076, _1035, -_1086)) ? (-3.1415927410125732421875f) : 0.0f);
    float _1110 = min(_1084, _1088);
    float _1111 = max(_1084, _1088);
    float _1120 = ((_1077 == _1078) && (_1079 == _1078)) ? 0.0f : ((((_1110 < (-_1110)) && (_1111 >= (-_1111))) ? (-_1109) : _1109) * 57.295780181884765625f);
    float _1123 = (_1120 < 0.0f) ? (_1120 + 360.0f) : _1120;
    float _1133 = max(1.0f - abs(((_1123 < (-180.0f)) ? (_1123 + 360.0f) : ((_1123 > 180.0f) ? (_1123 - 360.0f) : _1123)) * 0.01481481455266475677490234375f), 0.0f);
    float _1136 = mad(_1133, -2.0f, 3.0f) * (_1133 * _1133);
    float3 _1147 = float3(clamp(_1077 + (((_1044 * (_1136 * _1136)) * mad(-_1076, _1033, 0.02999999932944774627685546875f)) * 0.180000007152557373046875f), 0.0f, 65504.0f), clamp(_1078, 0.0f, 65504.0f), clamp(_1079, 0.0f, 65504.0f));
    float _1151 = clamp(dp3_f32(float3(1.45143926143646240234375f, -0.236510753631591796875f, -0.214928567409515380859375f), _1147), 0.0f, 65504.0f);
    float _1152 = clamp(dp3_f32(float3(-0.07655377686023712158203125f, 1.1762297153472900390625f, -0.0996759235858917236328125f), _1147), 0.0f, 65504.0f);
    float _1153 = clamp(dp3_f32(float3(0.0083161480724811553955078125f, -0.0060324496589601039886474609375f, 0.99771630764007568359375f), _1147), 0.0f, 65504.0f);

    float _1155 = dp3_f32(float3(_1151, _1152, _1153), float3(0.2722289860248565673828125f, 0.674081981182098388671875f, 0.0536894984543323516845703125f));
    float _1159 = mad(_1151 - _1155, 0.959999978542327880859375f, _1155);
    float _1160 = mad(_1152 - _1155, 0.959999978542327880859375f, _1155);
    float _1161 = mad(_1153 - _1155, 0.959999978542327880859375f, _1155);
#if 1
  if (RENODX_TONE_MAP_TYPE != 0) {
    u0[uint2(_396, _397)] = float4(CustomACES(float3(_1159, _1160, _1161)), 1.f);
    return;
  }
#endif

    float _1168 = (_1159 <= 0.0f) ? (-14.0f) : log2(_1159);
    float _1169 = (_1160 <= 0.0f) ? (-14.0f) : log2(_1160);
    float _1170 = (_1161 <= 0.0f) ? (-14.0f) : log2(_1161);
    float _1257;
    if (_1168 <= (-17.4739322662353515625f))
    {
        _1257 = -4.0f;
    }
    else
    {
        float _1256;
        if (_1168 < (-2.4739310741424560546875f))
        {
            float _1181 = mad(_1168, 0.3010300099849700927734375f, 5.2601776123046875f);
            float _1182 = _1181 * 0.6643855571746826171875f;
            int _1183 = cvt_f32_i32(_1182);
            float _1186 = mad(_1181, 0.6643855571746826171875f, -trunc(_1182));
            uint _1192 = min(uint(_1183 + 4), 10u);
            uint _1198 = min(uint((_1183 + 1) + 4), 10u);
            uint _1204 = min(uint((_1183 + 2) + 4), 10u);
            float2 _1210 = float2(_280[_1192].x, _280[_1198].x);
            _1256 = dp3_f32(float3(_1186 * _1186, _1186, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(_280[_1192].x, _280[_1198].x, _280[_1204].x)), dp2_f32(float2(-1.0f, 1.0f), _1210), dp2_f32(0.5f.xx, _1210)));
        }
        else
        {
            float _1255;
            if (_1168 < 15.52606868743896484375f)
            {
                float _1220 = mad(_1168, 0.3010300099849700927734375f, 0.74472749233245849609375f);
                float _1221 = _1220 * 0.55365467071533203125f;
                int _1222 = cvt_f32_i32(_1221);
                float _1225 = mad(_1220, 0.55365467071533203125f, -trunc(_1221));
                uint _1231 = min(uint(_1222 + 4), 10u);
                uint _1237 = min(uint((_1222 + 1) + 4), 10u);
                uint _1243 = min(uint((_1222 + 2) + 4), 10u);
                float2 _1249 = float2(_280[_1231].y, _280[_1237].y);
                _1255 = dp3_f32(float3(_1225 * _1225, _1225, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(_280[_1231].y, _280[_1237].y, _280[_1243].y)), dp2_f32(float2(-1.0f, 1.0f), _1249), dp2_f32(0.5f.xx, _1249)));
            }
            else
            {
                _1255 = 4.0f;
            }
            _1256 = _1255;
        }
        _1257 = _1256;
    }
    float _1343;
    if (_1169 <= (-17.4739322662353515625f))
    {
        _1343 = -4.0f;
    }
    else
    {
        float _1342;
        if (_1169 < (-2.4739310741424560546875f))
        {
            float _1267 = mad(_1169, 0.3010300099849700927734375f, 5.2601776123046875f);
            float _1268 = _1267 * 0.6643855571746826171875f;
            int _1269 = cvt_f32_i32(_1268);
            float _1272 = mad(_1267, 0.6643855571746826171875f, -trunc(_1268));
            uint _1278 = min(uint(_1269 + 4), 10u);
            uint _1284 = min(uint((_1269 + 1) + 4), 10u);
            uint _1290 = min(uint((_1269 + 2) + 4), 10u);
            float2 _1296 = float2(_280[_1278].x, _280[_1284].x);
            _1342 = dp3_f32(float3(_1272 * _1272, _1272, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(_280[_1278].x, _280[_1284].x, _280[_1290].x)), dp2_f32(float2(-1.0f, 1.0f), _1296), dp2_f32(0.5f.xx, _1296)));
        }
        else
        {
            float _1341;
            if (_1169 < 15.52606868743896484375f)
            {
                float _1306 = mad(_1169, 0.3010300099849700927734375f, 0.74472749233245849609375f);
                float _1307 = _1306 * 0.55365467071533203125f;
                int _1308 = cvt_f32_i32(_1307);
                float _1311 = mad(_1306, 0.55365467071533203125f, -trunc(_1307));
                uint _1317 = min(uint(_1308 + 4), 10u);
                uint _1323 = min(uint((_1308 + 1) + 4), 10u);
                uint _1329 = min(uint((_1308 + 2) + 4), 10u);
                float2 _1335 = float2(_280[_1317].y, _280[_1323].y);
                _1341 = dp3_f32(float3(_1311 * _1311, _1311, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(_280[_1317].y, _280[_1323].y, _280[_1329].y)), dp2_f32(float2(-1.0f, 1.0f), _1335), dp2_f32(0.5f.xx, _1335)));
            }
            else
            {
                _1341 = 4.0f;
            }
            _1342 = _1341;
        }
        _1343 = _1342;
    }
    float _1429;
    if (_1170 <= (-17.4739322662353515625f))
    {
        _1429 = -4.0f;
    }
    else
    {
        float _1428;
        if (_1170 < (-2.4739310741424560546875f))
        {
            float _1353 = mad(_1170, 0.3010300099849700927734375f, 5.2601776123046875f);
            float _1354 = _1353 * 0.6643855571746826171875f;
            int _1355 = cvt_f32_i32(_1354);
            float _1358 = mad(_1353, 0.6643855571746826171875f, -trunc(_1354));
            uint _1364 = min(uint(_1355 + 4), 10u);
            uint _1370 = min(uint((_1355 + 1) + 4), 10u);
            uint _1376 = min(uint((_1355 + 2) + 4), 10u);
            float2 _1382 = float2(_280[_1364].x, _280[_1370].x);
            _1428 = dp3_f32(float3(_1358 * _1358, _1358, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(_280[_1364].x, _280[_1370].x, _280[_1376].x)), dp2_f32(float2(-1.0f, 1.0f), _1382), dp2_f32(0.5f.xx, _1382)));
        }
        else
        {
            float _1427;
            if (_1170 < 15.52606868743896484375f)
            {
                float _1392 = mad(_1170, 0.3010300099849700927734375f, 0.74472749233245849609375f);
                float _1393 = _1392 * 0.55365467071533203125f;
                int _1394 = cvt_f32_i32(_1393);
                float _1397 = mad(_1392, 0.55365467071533203125f, -trunc(_1393));
                uint _1403 = min(uint(_1394 + 4), 10u);
                uint _1409 = min(uint((_1394 + 1) + 4), 10u);
                uint _1415 = min(uint((_1394 + 2) + 4), 10u);
                float2 _1421 = float2(_280[_1403].y, _280[_1409].y);
                _1427 = dp3_f32(float3(_1397 * _1397, _1397, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(_280[_1403].y, _280[_1409].y, _280[_1415].y)), dp2_f32(float2(-1.0f, 1.0f), _1421), dp2_f32(0.5f.xx, _1421)));
            }
            else
            {
                _1427 = 4.0f;
            }
            _1428 = _1427;
        }
        _1429 = _1428;
    }
    float3 _1432 = float3(exp2(_1257 * 3.3219280242919921875f), exp2(_1343 * 3.3219280242919921875f), exp2(_1429 * 3.3219280242919921875f));
    float3 _1436 = float3(dp3_f32(float3(0.695452213287353515625f, 0.140678703784942626953125f, 0.16386906802654266357421875f), _1432), dp3_f32(float3(0.0447945632040500640869140625f, 0.859671115875244140625f, 0.095534317195415496826171875f), _1432), dp3_f32(float3(-0.0055258828215301036834716796875f, 0.0040252101607620716094970703125f, 1.00150072574615478515625f), _1432));
    float _1437 = dp3_f32(float3(1.45143926143646240234375f, -0.236510753631591796875f, -0.214928567409515380859375f), _1436);
    float _1438 = dp3_f32(float3(-0.07655377686023712158203125f, 1.1762297153472900390625f, -0.0996759235858917236328125f), _1436);
    float _1439 = dp3_f32(float3(0.0083161480724811553955078125f, -0.0060324496589601039886474609375f, 0.99771630764007568359375f), _1436);
    float _1443 = (_1437 <= 0.0f) ? (-4.0f) : (log2(_1437) * 0.3010300099849700927734375f);
    float _1447 = log2(cb1_m[19u].y);
    float _1448 = _1447 * 0.3010300099849700927734375f;
    float _1556;
    if (_1448 >= _1443)
    {
        _1556 = mad(cb1_m[21u].x, _1443, (log2(cb1_m[19u].z) * 0.3010300099849700927734375f) - (_1448 * cb1_m[21u].x));
    }
    else
    {
        float _1465 = log2(cb1_m[20u].x);
        float _1466 = _1465 * 0.3010300099849700927734375f;
        float _1555;
        if ((_1448 < _1443) && (_1466 > _1443))
        {
            float _1475 = (mad(_1447, -0.3010300099849700927734375f, _1443) * 7.0f) / (_1466 - _1448);
            int _1476 = cvt_f32_i32(_1475);
            float _1478 = _1475 - trunc(_1475);
            uint _1480 = uint(_1476 + 1);
            uint _1482 = uint(_1476 + 2);
            uint _1484 = uint(_1476);
            float2 _1496 = float2(cb1_m[_1484].x, cb1_m[_1480].x);
            _1555 = dp3_f32(float3(_1478 * _1478, _1478, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(cb1_m[_1484].x, cb1_m[_1480].x, cb1_m[_1482].x)), dp2_f32(float2(-1.0f, 1.0f), _1496), dp2_f32(0.5f.xx, _1496)));
        }
        else
        {
            float _1506 = log2(cb1_m[20u].z) * 0.3010300099849700927734375f;
            float _1554;
            if ((_1466 <= _1443) && (_1506 > _1443))
            {
                float _1515 = (mad(_1465, -0.3010300099849700927734375f, _1443) * 7.0f) / (_1506 - _1466);
                int _1516 = cvt_f32_i32(_1515);
                float _1518 = _1515 - trunc(_1515);
                uint _1523 = uint(_1516 + 10);
                uint _1528 = uint((_1516 + 1) + 10);
                uint _1533 = uint((_1516 + 2) + 10);
                float2 _1539 = float2(cb1_m[_1523].x, cb1_m[_1528].x);
                _1554 = dp3_f32(float3(_1518 * _1518, _1518, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(cb1_m[_1523].x, cb1_m[_1528].x, cb1_m[_1533].x)), dp2_f32(float2(-1.0f, 1.0f), _1539), dp2_f32(0.5f.xx, _1539)));
            }
            else
            {
                _1554 = mad(cb1_m[21u].y, _1443, (log2(cb1_m[20u].w) * 0.3010300099849700927734375f) - (_1506 * cb1_m[21u].y));
            }
            _1555 = _1554;
        }
        _1556 = _1555;
    }
    float _1560 = (_1438 <= 0.0f) ? (-4.0f) : (log2(_1438) * 0.3010300099849700927734375f);
    float _1668;
    if (_1448 >= _1560)
    {
        _1668 = mad(cb1_m[21u].x, _1560, (log2(cb1_m[19u].z) * 0.3010300099849700927734375f) - (_1448 * cb1_m[21u].x));
    }
    else
    {
        float _1577 = log2(cb1_m[20u].x);
        float _1578 = _1577 * 0.3010300099849700927734375f;
        float _1667;
        if ((_1448 < _1560) && (_1578 > _1560))
        {
            float _1587 = (mad(_1447, -0.3010300099849700927734375f, _1560) * 7.0f) / (_1578 - _1448);
            int _1588 = cvt_f32_i32(_1587);
            float _1590 = _1587 - trunc(_1587);
            uint _1592 = uint(_1588 + 1);
            uint _1594 = uint(_1588 + 2);
            uint _1596 = uint(_1588);
            float2 _1608 = float2(cb1_m[_1596].x, cb1_m[_1592].x);
            _1667 = dp3_f32(float3(_1590 * _1590, _1590, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(cb1_m[_1596].x, cb1_m[_1592].x, cb1_m[_1594].x)), dp2_f32(float2(-1.0f, 1.0f), _1608), dp2_f32(0.5f.xx, _1608)));
        }
        else
        {
            float _1618 = log2(cb1_m[20u].z) * 0.3010300099849700927734375f;
            float _1666;
            if ((_1578 <= _1560) && (_1618 > _1560))
            {
                float _1627 = (mad(_1577, -0.3010300099849700927734375f, _1560) * 7.0f) / (_1618 - _1578);
                int _1628 = cvt_f32_i32(_1627);
                float _1630 = _1627 - trunc(_1627);
                uint _1635 = uint(_1628 + 10);
                uint _1640 = uint((_1628 + 1) + 10);
                uint _1645 = uint((_1628 + 2) + 10);
                float2 _1651 = float2(cb1_m[_1635].x, cb1_m[_1640].x);
                _1666 = dp3_f32(float3(_1630 * _1630, _1630, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(cb1_m[_1635].x, cb1_m[_1640].x, cb1_m[_1645].x)), dp2_f32(float2(-1.0f, 1.0f), _1651), dp2_f32(0.5f.xx, _1651)));
            }
            else
            {
                _1666 = mad(cb1_m[21u].y, _1560, (log2(cb1_m[20u].w) * 0.3010300099849700927734375f) - (_1618 * cb1_m[21u].y));
            }
            _1667 = _1666;
        }
        _1668 = _1667;
    }
    float _1672 = (_1439 <= 0.0f) ? (-4.0f) : (log2(_1439) * 0.3010300099849700927734375f);
    float _1780;
    if (_1448 >= _1672)
    {
        _1780 = mad(cb1_m[21u].x, _1672, (log2(cb1_m[19u].z) * 0.3010300099849700927734375f) - (_1448 * cb1_m[21u].x));
    }
    else
    {
        float _1689 = log2(cb1_m[20u].x);
        float _1690 = _1689 * 0.3010300099849700927734375f;
        float _1779;
        if ((_1448 < _1672) && (_1690 > _1672))
        {
            float _1699 = (mad(_1447, -0.3010300099849700927734375f, _1672) * 7.0f) / (_1690 - _1448);
            int _1700 = cvt_f32_i32(_1699);
            float _1702 = _1699 - trunc(_1699);
            uint _1704 = uint(_1700 + 1);
            uint _1706 = uint(_1700 + 2);
            uint _1708 = uint(_1700);
            float2 _1720 = float2(cb1_m[_1708].x, cb1_m[_1704].x);
            _1779 = dp3_f32(float3(_1702 * _1702, _1702, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(cb1_m[_1708].x, cb1_m[_1704].x, cb1_m[_1706].x)), dp2_f32(float2(-1.0f, 1.0f), _1720), dp2_f32(0.5f.xx, _1720)));
        }
        else
        {
            float _1730 = log2(cb1_m[20u].z) * 0.3010300099849700927734375f;
            float _1778;
            if ((_1690 <= _1672) && (_1730 > _1672))
            {
                float _1739 = (mad(_1689, -0.3010300099849700927734375f, _1672) * 7.0f) / (_1730 - _1690);
                int _1740 = cvt_f32_i32(_1739);
                float _1742 = _1739 - trunc(_1739);
                uint _1747 = uint(_1740 + 10);
                uint _1752 = uint((_1740 + 1) + 10);
                uint _1757 = uint((_1740 + 2) + 10);
                float2 _1763 = float2(cb1_m[_1747].x, cb1_m[_1752].x);
                _1778 = dp3_f32(float3(_1742 * _1742, _1742, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(cb1_m[_1747].x, cb1_m[_1752].x, cb1_m[_1757].x)), dp2_f32(float2(-1.0f, 1.0f), _1763), dp2_f32(0.5f.xx, _1763)));
            }
            else
            {
                _1778 = mad(cb1_m[21u].y, _1672, (log2(cb1_m[20u].w) * 0.3010300099849700927734375f) - (_1730 * cb1_m[21u].y));
            }
            _1779 = _1778;
        }
        _1780 = _1779;
    }
    if (_581)
    {
        float3 _1792 = float3(exp2(_1556 * 3.3219280242919921875f) - 3.5073844628641381859779357910156e-05f, exp2(_1668 * 3.3219280242919921875f) - 3.5073844628641381859779357910156e-05f, exp2(_1780 * 3.3219280242919921875f) - 3.5073844628641381859779357910156e-05f);
        float3 _1796 = float3(dp3_f32(float3(0.662454187870025634765625f, 0.1340042054653167724609375f, 0.1561876833438873291015625f), _1792), dp3_f32(float3(0.272228717803955078125f, 0.674081742763519287109375f, 0.053689517080783843994140625f), _1792), dp3_f32(float3(-0.0055746496655046939849853515625f, 0.0040607335977256298065185546875f, 1.01033914089202880859375f), _1792));
        float3 _1800 = float3(dp3_f32(float3(0.98722398281097412109375f, -0.0061132698319852352142333984375f, 0.01595330052077770233154296875f), _1796), dp3_f32(float3(-0.007598360069096088409423828125f, 1.00186002254486083984375f, 0.0053301998414099216461181640625f), _1796), dp3_f32(float3(0.003072570078074932098388671875f, -0.0050959498621523380279541015625f, 1.0816800594329833984375f), _1796));
        float _1809 = exp2(log2(abs(dp3_f32(float3(1.71665096282958984375f, -0.35567080974578857421875f, -0.2533662319183349609375f), _1800) * 9.9999997473787516355514526367188e-05f)) * 0.1593017578125f);
        float _1820 = exp2(log2(abs(dp3_f32(float3(-0.666684329509735107421875f, 1.616481304168701171875f, 0.0157685391604900360107421875f), _1800) * 9.9999997473787516355514526367188e-05f)) * 0.1593017578125f);
        float _1830 = exp2(log2(abs(dp3_f32(float3(0.0176398493349552154541015625f, -0.04277060925960540771484375f, 0.94210326671600341796875f), _1800) * 9.9999997473787516355514526367188e-05f)) * 0.1593017578125f);
        u0[uint2(_396, _397)] = float4(min(exp2(log2(mad(_1809, 18.8515625f, 0.8359375f) / mad(_1809, 18.6875f, 1.0f)) * 78.84375f), 1.0f), min(exp2(log2(mad(_1820, 18.8515625f, 0.8359375f) / mad(_1820, 18.6875f, 1.0f)) * 78.84375f), 1.0f), min(exp2(log2(mad(_1830, 18.8515625f, 0.8359375f) / mad(_1830, 18.6875f, 1.0f)) * 78.84375f), 1.0f), 1.0f);
    }
}

[numthreads(8, 8, 1)]
void main(SPIRV_Cross_Input stage_input)
{
    gl_LocalInvocationID = stage_input.gl_LocalInvocationID;
    gl_GlobalInvocationID = stage_input.gl_GlobalInvocationID;
    comp_main();
}
