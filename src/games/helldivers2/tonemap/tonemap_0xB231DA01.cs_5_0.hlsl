#include "../common.hlsl"
struct _371
{
    uint2 _m0;
    uint _m1;
};

static const float _57[1] = { 0.0f };
static const float4 _278[11] = { float4(1.0f, 0.0f, 0.0f, 0.0f), float4(0.0f, 1.0f, 0.0f, 0.0f), float4(0.0f, 0.0f, 1.0f, 0.0f), float4(0.0f, 0.0f, 0.0f, 1.0f), float4(-4.0f, -0.718548238277435302734375f, 0.0f, 0.0f), float4(-4.0f, 2.0810306072235107421875f, 0.0f, 0.0f), float4(-3.1573765277862548828125f, 3.66812419891357421875f, 0.0f, 0.0f), float4(-0.485249996185302734375f, 4.0f, 0.0f, 0.0f), float4(1.84773242473602294921875f, 4.0f, 0.0f, 0.0f), float4(1.84773242473602294921875f, 4.0f, 0.0f, 0.0f), 0.0f.xxxx };

cbuffer cb0_buf : register(b0)
{
    uint4 cb0_m[44] : packoffset(c0);
};

cbuffer cb1_buf : register(b1)
{
    float4 cb1_m[4096] : packoffset(c0);
};

cbuffer cb2_buf : register(b2)
{
    uint4 cb2_m0 : packoffset(c0);
    uint4 cb2_m1 : packoffset(c1);
    float2 cb2_m2 : packoffset(c2);
    float2 cb2_m3 : packoffset(c2.z);
    float4 cb2_m4 : packoffset(c3);
    float3 cb2_m5 : packoffset(c4);
    uint cb2_m6 : packoffset(c4.w);
    float4 cb2_m7 : packoffset(c5);
    float4 cb2_m8 : packoffset(c6);
    float2 cb2_m9 : packoffset(c7);
    float2 cb2_m10 : packoffset(c7.z);
    uint4 cb2_m11 : packoffset(c8);
    uint4 cb2_m12 : packoffset(c9);
    uint4 cb2_m13 : packoffset(c10);
    uint4 cb2_m14 : packoffset(c11);
    uint4 cb2_m15 : packoffset(c12);
    uint4 cb2_m16 : packoffset(c13);
    uint4 cb2_m17 : packoffset(c14);
    uint4 cb2_m18 : packoffset(c15);
    uint4 cb2_m19 : packoffset(c16);
    uint4 cb2_m20 : packoffset(c17);
    float4 cb2_m21 : packoffset(c18);
    float4 cb2_m22 : packoffset(c19);
};

SamplerState s0 : register(s0);
SamplerState s1 : register(s1);
SamplerState s2 : register(s2);
SamplerState s3 : register(s3);
SamplerState s4 : register(s4);
SamplerState s5 : register(s5);
SamplerState s6 : register(s6);
Buffer<float4> t0 : register(t0);
Texture2D<float4> t1 : register(t1);
Texture2D<float4> t2 : register(t2);
Texture2D<float4> t3 : register(t3);
Texture2D<float4> t4 : register(t4);
Texture2D<float4> t5 : register(t5);
Texture2D<float4> t6 : register(t6);
Texture2D<float4> t7 : register(t7);
Texture2D<float4> t8 : register(t8);
Buffer<float4> t9 : register(t9);
Buffer<float4> t10 : register(t10);
RWTexture2D<float4> u0 : register(u0);

static uint3 gl_LocalInvocationID;
static uint3 gl_GlobalInvocationID;
struct SPIRV_Cross_Input
{
    uint3 gl_LocalInvocationID : SV_GroupThreadID;
    uint3 gl_GlobalInvocationID : SV_DispatchThreadID;
};

groupshared float g0[1];

uint2 spvImageSize(RWTexture2D<float4> Tex, out uint Param)
{
    uint2 ret;
    Tex.GetDimensions(ret.x, ret.y);
    Param = 0u;
    return ret;
}

uint spvBitfieldInsert(uint Base, uint Insert, uint Offset, uint Count)
{
    uint Mask = Count == 32 ? 0xffffffff : (((1u << Count) - 1) << (Offset & 31));
    return (Base & ~Mask) | ((Insert << Offset) & Mask);
}

uint2 spvBitfieldInsert(uint2 Base, uint2 Insert, uint Offset, uint Count)
{
    uint Mask = Count == 32 ? 0xffffffff : (((1u << Count) - 1) << (Offset & 31));
    return (Base & ~Mask) | ((Insert << Offset) & Mask);
}

uint3 spvBitfieldInsert(uint3 Base, uint3 Insert, uint Offset, uint Count)
{
    uint Mask = Count == 32 ? 0xffffffff : (((1u << Count) - 1) << (Offset & 31));
    return (Base & ~Mask) | ((Insert << Offset) & Mask);
}

uint4 spvBitfieldInsert(uint4 Base, uint4 Insert, uint Offset, uint Count)
{
    uint Mask = Count == 32 ? 0xffffffff : (((1u << Count) - 1) << (Offset & 31));
    return (Base & ~Mask) | ((Insert << Offset) & Mask);
}

uint spvBitfieldUExtract(uint Base, uint Offset, uint Count)
{
    uint Mask = Count == 32 ? 0xffffffff : ((1 << Count) - 1);
    return (Base >> Offset) & Mask;
}

uint2 spvBitfieldUExtract(uint2 Base, uint Offset, uint Count)
{
    uint Mask = Count == 32 ? 0xffffffff : ((1 << Count) - 1);
    return (Base >> Offset) & Mask;
}

uint3 spvBitfieldUExtract(uint3 Base, uint Offset, uint Count)
{
    uint Mask = Count == 32 ? 0xffffffff : ((1 << Count) - 1);
    return (Base >> Offset) & Mask;
}

uint4 spvBitfieldUExtract(uint4 Base, uint Offset, uint Count)
{
    uint Mask = Count == 32 ? 0xffffffff : ((1 << Count) - 1);
    return (Base >> Offset) & Mask;
}

int spvBitfieldSExtract(int Base, int Offset, int Count)
{
    int Mask = Count == 32 ? -1 : ((1 << Count) - 1);
    int Masked = (Base >> Offset) & Mask;
    int ExtendShift = (32 - Count) & 31;
    return (Masked << ExtendShift) >> ExtendShift;
}

int2 spvBitfieldSExtract(int2 Base, int Offset, int Count)
{
    int Mask = Count == 32 ? -1 : ((1 << Count) - 1);
    int2 Masked = (Base >> Offset) & Mask;
    int ExtendShift = (32 - Count) & 31;
    return (Masked << ExtendShift) >> ExtendShift;
}

int3 spvBitfieldSExtract(int3 Base, int Offset, int Count)
{
    int Mask = Count == 32 ? -1 : ((1 << Count) - 1);
    int3 Masked = (Base >> Offset) & Mask;
    int ExtendShift = (32 - Count) & 31;
    return (Masked << ExtendShift) >> ExtendShift;
}

int4 spvBitfieldSExtract(int4 Base, int Offset, int Count)
{
    int Mask = Count == 32 ? -1 : ((1 << Count) - 1);
    int4 Masked = (Base >> Offset) & Mask;
    int ExtendShift = (32 - Count) & 31;
    return (Masked << ExtendShift) >> ExtendShift;
}

float dp2_f32(float2 a, float2 b)
{
    precise float _362 = a.x * b.x;
    return mad(a.y, b.y, _362);
}

float dp3_f32(float3 a, float3 b)
{
    precise float _348 = a.x * b.x;
    return mad(a.z, b.z, mad(a.y, b.y, _348));
}

float dp4_f32(float4 a, float4 b)
{
    precise float _330 = a.x * b.x;
    return mad(a.w, b.w, mad(a.z, b.z, mad(a.y, b.y, _330)));
}

int cvt_f32_i32(float v)
{
    return isnan(v) ? 0 : ((v < (-2147483648.0f)) ? int(0x80000000) : ((v > 2147483520.0f) ? 2147483647 : int(v)));
}

void comp_main()
{
    uint _370_dummy_parameter;
    _371 _372 = { spvImageSize(u0, _370_dummy_parameter), 1u };
    uint _387 = gl_LocalInvocationID.x + (gl_LocalInvocationID.y * 8u);
    uint _391 = (gl_GlobalInvocationID.x - gl_LocalInvocationID.x) + spvBitfieldUExtract(_387, 1u, 3u);
    uint _392 = spvBitfieldInsert(spvBitfieldUExtract(gl_LocalInvocationID.y, 0u, 29u), _387, 0u, 1u) + (gl_GlobalInvocationID.y - gl_LocalInvocationID.y);
    float _399 = (float(_391) + 0.5f) / float(_372._m0.x);
    float _400 = (float(_392) + 0.5f) / float(_372._m0.y);
    bool _403 = (_372._m0.x < _391) || (_372._m0.y < _392);
    bool _408 = cb2_m3.y == 1.0f;
    if (((gl_LocalInvocationID.x == 0u) && _408) && (gl_LocalInvocationID.y == 0u))
    {
        g0[0u] = t6.Load(int3(uint2(0u, 0u), 0u)).x;
    }
    GroupMemoryBarrierWithGroupSync();
    float2 _423 = float2(_399, _400);
    float _428 = mad(t4.SampleLevel(s3, _423, 0.0f).x, 2.0f, -1.0f);
    float _443;
    if (_428 > 0.0f)
    {
        _443 = min(sqrt(_428), t0.Load(8u).x);
    }
    else
    {
        _443 = max(_428, -t0.Load(7u).x);
    }
    bool _454 = (cb2_m10.x != 0.0f) && (cb2_m10.y != 0.0f);
    bool _458 = (cb2_m8.w != 0.0f) && (cb2_m9.x != 0.0f);
    float4 _462 = t1.SampleLevel(s0, _423, 0.0f);
    float _463 = _462.x;
    float _464 = _462.y;
    float _465 = _462.z;
    float _533;
    float _534;
    float _535;
    if (_458 || _454)
    {
        float4 _472 = t3.SampleLevel(s2, _423, 0.0f);
        float2 _481 = float2(_472.x * cb2_m2.x, _472.y * cb2_m2.y);
        float _495 = exp2(max(_454 ? clamp((sqrt(dp2_f32(_481, _481)) - 2.0f) * 0.0555555559694766998291015625f, 0.0f, 1.0f) : 0.0f, _458 ? clamp((abs(_443) - 0.0471399985253810882568359375f) * 1.0494720935821533203125f, 0.0f, 1.0f) : 0.0f) * (-4.3280849456787109375f));
        float4 _499 = t2.SampleLevel(s1, _423, 0.0f);
        float _500 = _499.x;
        float _501 = _499.y;
        float _502 = _499.z;
        float _508 = asfloat(cb0_m[43u].w) * 20.0f;
        float _519 = mad(t7.SampleLevel(s5, float2(mad(_399, 30.0f, sin(_508)), mad(_400, 30.0f, cos(_508))), 0.0f).x, 0.00999999977648258209228515625f, -0.004999999888241291046142578125f);
        float _523 = sqrt(max(max(_500, max(_501, _502)), 1.0000000133514319600180897396058e-10f));
        float _524 = mad(_519, _523, _500);
        float _525 = mad(_519, _523, _501);
        float _526 = mad(_519, _523, _502);
        _533 = mad(_495, _465 - _526, _526);
        _534 = mad(_495, _464 - _525, _525);
        _535 = mad(_495, _463 - _524, _524);
    }
    else
    {
        _533 = _465;
        _534 = _464;
        _535 = _463;
    }
    float _540 = _408 ? g0[0u] : cb2_m3.x;
    float4 _544 = t5.SampleLevel(s4, _423, 0.0f);
    float _545 = _544.x;
    float _553 = max(cb2_m4.y - dp3_f32(float3(_545, _544.yz), float3(0.21269999444484710693359375f, 0.715200006961822509765625f, 0.07209999859333038330078125f)), 6.099999882280826568603515625e-05f);
    float _557 = mad(_535, _540, _545 / _553);
    float _558 = mad(_534, _540, _544.y / _553);
    float _559 = mad(_533, _540, _544.z / _553);
    float _563 = 1.0f / (max(_557, max(_559, _558)) + 1.0f);
    float _564 = _557 * _563;
    float _566 = _563 * _559;
    float3 _567 = float3(_564, _566, _563 * _558);
    float _568 = dp3_f32(_567, float3(0.25f, 0.25f, 0.5f));
    float _569 = dp3_f32(_567, float3(-0.25f, -0.25f, 0.5f));
    float _571 = dp2_f32(float2(_564, _566), float2(0.5f, -0.5f));
    float _572 = _568 - _569;
    float _573 = _571 + _572;
    float _574 = _568 + _569;
    float _575 = _572 - _571;
    bool _576 = !_403;
    float _931;
    float _932;
    float _933;
    if (_576)
    {
        float _580 = dp3_f32(float3(_573, _574, _575), float3(0.21269999444484710693359375f, 0.715200006961822509765625f, 0.07209999859333038330078125f));
        float _588 = mad(-abs(_443), cb2_m9.y, 1.0f) * cb2_m8.x;
        float _592 = mad(_588, _573 - _580, _580);
        float _593 = mad(_588, _574 - _580, _580);
        float _594 = mad(_588, _575 - _580, _580);
        float _595 = _399 - 0.5f;
        float _596 = _400 - 0.5f;
        float _597 = _596 + _596;
        float _598 = _595 + _595;
        float _599 = abs(_598);
        float _600 = abs(_597);
        float _604 = min(_599, _600) * (1.0f / max(_599, _600));
        float _605 = _604 * _604;
        float _609 = mad(_605, mad(_605, mad(_605, mad(_605, 0.02083509974181652069091796875f, -0.08513300120830535888671875f), 0.1801410019397735595703125f), -0.33029949665069580078125f), 0.999866008758544921875f);
        float _618 = mad(_604, _609, (_599 < _600) ? mad(_604 * _609, -2.0f, 1.57079637050628662109375f) : 0.0f) + (((-_598) > _598) ? (-3.1415927410125732421875f) : 0.0f);
        float _619 = min(_597, _598);
        float _620 = max(_597, _598);
        float _627 = ((_619 < (-_619)) && (_620 >= (-_620))) ? (-_618) : _618;
        float4 _631 = t8.SampleLevel(s6, _423, 0.0f);
        float _632 = _631.x;
        float _633 = _631.y;
        float _634 = _631.z;
        float _635 = _631.w;
        float _640 = (_593 - _594) * 1.73205077648162841796875f;
        float _642 = mad(_592, 2.0f, -_593);
        float _643 = _642 - _594;
        float _644 = abs(_640);
        float _645 = abs(_643);
        float _649 = min(_644, _645) * (1.0f / max(_644, _645));
        float _650 = _649 * _649;
        float _654 = mad(_650, mad(_650, mad(_650, mad(_650, 0.02083509974181652069091796875f, -0.08513300120830535888671875f), 0.1801410019397735595703125f), -0.33029949665069580078125f), 0.999866008758544921875f);
        float _663 = mad(_649, _654, (_644 > _645) ? mad(_649 * _654, -2.0f, 1.57079637050628662109375f) : 0.0f) + ((_643 < (_594 - _642)) ? (-3.1415927410125732421875f) : 0.0f);
        float _664 = min(_640, _643);
        float _665 = max(_640, _643);
        float _674 = ((_592 == _593) && (_594 == _593)) ? 0.0f : ((((_664 < (-_664)) && (_665 >= (-_665))) ? (-_663) : _663) * 57.295780181884765625f);
        float _683 = mad(cb2_m22.x, -360.0f, (_674 < 0.0f) ? (_674 + 360.0f) : _674);
        float _693 = clamp(1.0f - (abs((_683 < (-180.0f)) ? (_683 + 360.0f) : ((_683 > 180.0f) ? (_683 - 360.0f) : _683)) / (cb2_m22.y * 180.0f)), 0.0f, 1.0f);
        float _698 = dp3_f32(float3(_592, _593, _594), float3(0.21269999444484710693359375f, 0.715200006961822509765625f, 0.07209999859333038330078125f));
        float _701 = (mad(_693, -2.0f, 3.0f) * (_693 * _693)) * cb2_m22.z;
        float _713 = mad(mad(_701, _592 - _698, _698) - _592, cb2_m21.w, _592);
        float _714 = mad(cb2_m21.w, mad(_701, _593 - _698, _698) - _593, _593);
        float _715 = mad(cb2_m21.w, mad(_701, _594 - _698, _698) - _594, _594);
        float _717;
        _717 = 0.0f;
        float _718;
        uint _721;
        uint _720 = 0u;
        for (;;)
        {
            if (_720 >= 8u)
            {
                break;
            }
            uint _732 = min((_720 & 3u), 10u);
            float _752 = mad(float(_720), 0.785398185253143310546875f, -_627);
            float _753 = _752 + 1.57079637050628662109375f;
            _718 = mad(_635 * (dp4_f32(t9.Load((_720 >> 2u) + 10u), float4(_278[_732].x, _278[_732].y, _278[_732].z, _278[_732].w)) * clamp((abs((_753 > 3.1415927410125732421875f) ? (_752 - 4.7123889923095703125f) : _753) - 2.19911479949951171875f) * 2.1220657825469970703125f, 0.0f, 1.0f)), 1.0f - _717, _717);
            _721 = _720 + 1u;
            _717 = _718;
            _720 = _721;
            continue;
        }
        float _764 = clamp(_717, 0.0f, 1.0f);
        float _782 = abs(t9.Load(8u).x);
        float2 _785 = float2(_595 * 1.40999996662139892578125f, _596 * 1.40999996662139892578125f);
        float _787 = sqrt(dp2_f32(_785, _785));
        float _788 = min(_787, 1.0f);
        float _789 = _788 * _788;
        float _794 = clamp(_787 - 0.5f, 0.0f, 1.0f);
        float _797 = (_788 * _789) + (mad(-_788, _789, 1.0f) * (_794 * _794));
        float _798 = mad(mad(mad(sin(asfloat(cb0_m[43u].w) * 6.0f), 0.5f, 0.5f), 0.089999973773956298828125f, 0.910000026226043701171875f), _782, -1.0f);
        float _800 = _633 + _798;
        float _802 = clamp((_634 + _798) * 1.53846156597137451171875f, 0.0f, 1.0f);
        float _809 = clamp(_800 + _800, 0.0f, 1.0f);
        float _819 = mad(sin(_633 * 17.52899932861328125f) + 1.0f, -0.1149999797344207763671875f, 0.89999997615814208984375f);
        float _826 = dp3_f32(float3(t10.Load(8u).xyz), float3(0.21269999444484710693359375f, 0.715200006961822509765625f, 0.07209999859333038330078125f));
        float _831 = mad(exp2(log2(abs(_826)) * 0.699999988079071044921875f), 0.10000002384185791015625f, 0.89999997615814208984375f);
        float _835 = _819 * (_831 * 0.02999999932944774627685546875f);
        float _836 = mad(_782, -0.3499999940395355224609375f, 0.3499999940395355224609375f);
        float _840 = mad(mad(-_797, _797, 1.0f), 1.0f - _836, _836);
        float _841 = min((exp2(log2(_797) * 0.699999988079071044921875f) * (mad(_809, -2.0f, 3.0f) * (_809 * _809))) + (mad(_802, -2.0f, 3.0f) * (_802 * _802)), 1.0f);
        float _851 = mad(_841, mad((_819 * _831) * 0.62000000476837158203125f, _840, mad(_713, _764, -_713)), mad(-_713, _764, _713));
        float _852 = mad(_841, mad(_840, _835, mad(_764, _714, -_714)), mad(-_764, _714, _714));
        float _853 = mad(_841, mad(_840, _835, mad(_764, _715, -_715)), mad(-_764, _715, _715));
        float _856 = mad(_633, _634 * (1.0f - _635), _635);
        float _858;
        _858 = 0.0f;
        float _859;
        uint _862;
        uint _861 = 0u;
        for (;;)
        {
            if (int(_861) >= 8)
            {
                break;
            }
            float4 _869 = t9.Load(_861);
            float _871 = _869.y;
            float _873 = _869.x - _627;
            _859 = mad(_856 * (_869.w * clamp(((_871 - 3.1415927410125732421875f) + abs((_873 > 3.1415927410125732421875f) ? (_873 - 6.283185482025146484375f) : ((_873 < (-3.1415927410125732421875f)) ? (_873 + 6.283185482025146484375f) : _873))) / max(_871 * 0.699999988079071044921875f, 0.001000000047497451305389404296875f), 0.0f, 1.0f)), 1.0f - _858, _858);
            _862 = _861 + 1u;
            _858 = _859;
            _861 = _862;
            continue;
        }
        float _892 = clamp(_858 + _858, 0.0f, 1.0f) * 0.949999988079071044921875f;
        float _896 = mad(0.310000002384185791015625f - _851, _892, _851);
        float _897 = mad(0.014999999664723873138427734375f - _852, _892, _852);
        float _898 = mad(0.014999999664723873138427734375f - _853, _892, _853);
        float4 _899 = t9.Load(12u);
        float _900 = _899.x;
        float _928;
        float _929;
        float _930;
        if (_900 != 0.0f)
        {
            float _907 = clamp(_826, 0.0f, 1.0f);
            float _917 = clamp((_632 + (_900 - 1.0f)) / max(mad(_900, 0.5f, 0.5f), 0.001000000047497451305389404296875f), 0.0f, 1.0f);
            float _921 = clamp(_900 * 2.857142925262451171875f, 0.0f, 1.0f);
            float _924 = mad(_921, -2.0f, 3.0f) * (_921 * _921);
            _928 = mad(((_632 * 0.790000021457672119140625f) * _907) * _917, _924, _896);
            _929 = mad(((_632 * 0.85000002384185791015625f) * _907) * _917, _924, _897);
            _930 = mad(((_632 * 0.930000007152557373046875f) * _907) * _917, _924, _898);
        }
        else
        {
            _928 = _896;
            _929 = _897;
            _930 = _898;
        }
        _931 = _928;
        _932 = _929;
        _933 = _930;
    }
    else
    {
        _931 = _573;
        _932 = _574;
        _933 = _575;
    }
    float _938 = 1.0f / max(1.0f - max(max(_932, _933), _931), 6.099999882280826568603515625e-05f);
    float _945 = min(-(_938 * _931), 0.0f);
    float _946 = min(-(_938 * _932), 0.0f);
    float _947 = min(-(_938 * _933), 0.0f);
    float2 _950 = float2(_399 - 0.5f, _400 - 0.5f);
    float _961 = clamp(-((1.0f / cb2_m7.y) * (sqrt(dp2_f32(_950, _950)) - cb2_m7.x)), 0.0f, 1.0f);
    float _962 = mad(_961, -2.0f, 3.0f);
    float _963 = _961 * _961;
    float _964 = _962 * _963;
    float _966 = mad(-_962, _963, 1.0f);
    float _989 = cb2_m7.w * cb2_m7.z;
    float3 _1002 = float3(_403 ? (-_945) : mad(_945 + ((_966 * cb2_m5.x) - (_945 * _964)), _989, -_945), _403 ? (-_946) : mad(_989, ((_966 * cb2_m5.y) - (_964 * _946)) + _946, -_946), _403 ? (-_947) : mad(_989, ((_966 * cb2_m5.z) - (_964 * _947)) + _947, -_947));
#if 1
  float _1009 = (RENODX_TONE_MAP_TYPE == 0) ? min(dp3_f32(float3(0.4397009909152984619140625f, 0.3829779922962188720703125f, 0.1773349940776824951171875f), _1002) * 2.5f, 65504.0f) : min(dp3_f32(float3(0.4397009909152984619140625f, 0.3829779922962188720703125f, 0.1773349940776824951171875f), _1002), 65504.0f);
  float _1010 = (RENODX_TONE_MAP_TYPE == 0) ? min(dp3_f32(float3(0.08979229629039764404296875f, 0.813422977924346923828125f, 0.09676159918308258056640625f), _1002) * 2.5f, 65504.0f) : min(dp3_f32(float3(0.08979229629039764404296875f, 0.813422977924346923828125f, 0.09676159918308258056640625f), _1002), 65504.0f);
  float _1011 = (RENODX_TONE_MAP_TYPE == 0) ? min(dp3_f32(float3(0.01754399947822093963623046875f, 0.11154399812221527099609375f, 0.870703995227813720703125f), _1002) * 2.5f, 65504.0f) : min(dp3_f32(float3(0.01754399947822093963623046875f, 0.11154399812221527099609375f, 0.870703995227813720703125f), _1002), 65504.0f);
#endif
    float _1015 = max(max(_1010, _1009), _1011);
    float _1020 = (max(_1015, 9.9999997473787516355514526367188e-05f) - max(min(min(_1010, _1009), _1011), 9.9999997473787516355514526367188e-05f)) / max(_1015, 0.00999999977648258209228515625f);
    float _1031 = mad(sqrt(mad(_1009 - _1011, _1009, ((_1011 - _1010) * _1011) + ((_1010 - _1009) * _1010))), 1.75f, (_1011 + _1010) + _1009);
    float _1032 = _1020 - 0.4000000059604644775390625f;
    float _1036 = max(1.0f - abs(_1032 * 2.5f), 0.0f);
    float _1044 = mad(mad(clamp(mad(_1032, asfloat(0x7f800000u /* inf */), 0.5f), 0.0f, 1.0f), 2.0f, -1.0f), mad(-_1036, _1036, 1.0f), 1.0f) * 0.02500000037252902984619140625f;
    float _1052 = ((_1031 <= 0.1599999964237213134765625f) ? _1044 : ((_1031 >= 0.4799999892711639404296875f) ? 0.0f : (((0.07999999821186065673828125f / (_1031 * 0.3333333432674407958984375f)) - 0.5f) * _1044))) + 1.0f;
    float _1053 = _1052 * _1009;
    float _1054 = _1052 * _1010;
    float _1055 = _1052 * _1011;
    float _1060 = (_1054 - _1055) * 1.73205077648162841796875f;
    float _1062 = (_1053 * 2.0f) - _1054;
    float _1064 = mad(-_1052, _1011, _1062);
    float _1065 = abs(_1064);
    float _1066 = abs(_1060);
    float _1070 = min(_1065, _1066) * (1.0f / max(_1065, _1066));
    float _1071 = _1070 * _1070;
    float _1075 = mad(_1071, mad(_1071, mad(_1071, mad(_1071, 0.02083509974181652069091796875f, -0.08513300120830535888671875f), 0.1801410019397735595703125f), -0.33029949665069580078125f), 0.999866008758544921875f);
    float _1085 = mad(_1070, _1075, (_1065 < _1066) ? mad(_1070 * _1075, -2.0f, 1.57079637050628662109375f) : 0.0f) + ((_1064 < mad(_1052, _1011, -_1062)) ? (-3.1415927410125732421875f) : 0.0f);
    float _1086 = min(_1060, _1064);
    float _1087 = max(_1060, _1064);
    float _1096 = ((_1053 == _1054) && (_1055 == _1054)) ? 0.0f : ((((_1086 < (-_1086)) && (_1087 >= (-_1087))) ? (-_1085) : _1085) * 57.295780181884765625f);
    float _1099 = (_1096 < 0.0f) ? (_1096 + 360.0f) : _1096;
    float _1109 = max(1.0f - abs(((_1099 < (-180.0f)) ? (_1099 + 360.0f) : ((_1099 > 180.0f) ? (_1099 - 360.0f) : _1099)) * 0.01481481455266475677490234375f), 0.0f);
    float _1112 = mad(_1109, -2.0f, 3.0f) * (_1109 * _1109);
    float3 _1123 = float3(clamp(_1053 + (((_1020 * (_1112 * _1112)) * mad(-_1052, _1009, 0.02999999932944774627685546875f)) * 0.180000007152557373046875f), 0.0f, 65504.0f), clamp(_1054, 0.0f, 65504.0f), clamp(_1055, 0.0f, 65504.0f));
    float _1127 = clamp(dp3_f32(float3(1.45143926143646240234375f, -0.236510753631591796875f, -0.214928567409515380859375f), _1123), 0.0f, 65504.0f);
    float _1128 = clamp(dp3_f32(float3(-0.07655377686023712158203125f, 1.1762297153472900390625f, -0.0996759235858917236328125f), _1123), 0.0f, 65504.0f);
    float _1129 = clamp(dp3_f32(float3(0.0083161480724811553955078125f, -0.0060324496589601039886474609375f, 0.99771630764007568359375f), _1123), 0.0f, 65504.0f);

    float _1131 = dp3_f32(float3(_1127, _1128, _1129), float3(0.2722289860248565673828125f, 0.674081981182098388671875f, 0.0536894984543323516845703125f));
    float _1135 = mad(_1127 - _1131, 0.959999978542327880859375f, _1131);
    float _1136 = mad(_1128 - _1131, 0.959999978542327880859375f, _1131);
    float _1137 = mad(_1129 - _1131, 0.959999978542327880859375f, _1131);
#if 1
  if (RENODX_TONE_MAP_TYPE != 0) {
    u0[uint2(_391, _392)] = float4(CustomACES(float3(_1135, _1136, _1137)), 1.f);
    return;
  }
#endif

    float _1144 = (_1135 <= 0.0f) ? (-14.0f) : log2(_1135);
    float _1145 = (_1136 <= 0.0f) ? (-14.0f) : log2(_1136);
    float _1146 = (_1137 <= 0.0f) ? (-14.0f) : log2(_1137);
    float _1233;
    if (_1144 <= (-17.4739322662353515625f))
    {
        _1233 = -4.0f;
    }
    else
    {
        float _1232;
        if (_1144 < (-2.4739310741424560546875f))
        {
            float _1157 = mad(_1144, 0.3010300099849700927734375f, 5.2601776123046875f);
            float _1158 = _1157 * 0.6643855571746826171875f;
            int _1159 = cvt_f32_i32(_1158);
            float _1162 = mad(_1157, 0.6643855571746826171875f, -trunc(_1158));
            uint _1168 = min(uint(_1159 + 4), 10u);
            uint _1174 = min(uint((_1159 + 1) + 4), 10u);
            uint _1180 = min(uint((_1159 + 2) + 4), 10u);
            float2 _1186 = float2(_278[_1168].x, _278[_1174].x);
            _1232 = dp3_f32(float3(_1162 * _1162, _1162, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(_278[_1168].x, _278[_1174].x, _278[_1180].x)), dp2_f32(float2(-1.0f, 1.0f), _1186), dp2_f32(0.5f.xx, _1186)));
        }
        else
        {
            float _1231;
            if (_1144 < 15.52606868743896484375f)
            {
                float _1196 = mad(_1144, 0.3010300099849700927734375f, 0.74472749233245849609375f);
                float _1197 = _1196 * 0.55365467071533203125f;
                int _1198 = cvt_f32_i32(_1197);
                float _1201 = mad(_1196, 0.55365467071533203125f, -trunc(_1197));
                uint _1207 = min(uint(_1198 + 4), 10u);
                uint _1213 = min(uint((_1198 + 1) + 4), 10u);
                uint _1219 = min(uint((_1198 + 2) + 4), 10u);
                float2 _1225 = float2(_278[_1207].y, _278[_1213].y);
                _1231 = dp3_f32(float3(_1201 * _1201, _1201, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(_278[_1207].y, _278[_1213].y, _278[_1219].y)), dp2_f32(float2(-1.0f, 1.0f), _1225), dp2_f32(0.5f.xx, _1225)));
            }
            else
            {
                _1231 = 4.0f;
            }
            _1232 = _1231;
        }
        _1233 = _1232;
    }
    float _1319;
    if (_1145 <= (-17.4739322662353515625f))
    {
        _1319 = -4.0f;
    }
    else
    {
        float _1318;
        if (_1145 < (-2.4739310741424560546875f))
        {
            float _1243 = mad(_1145, 0.3010300099849700927734375f, 5.2601776123046875f);
            float _1244 = _1243 * 0.6643855571746826171875f;
            int _1245 = cvt_f32_i32(_1244);
            float _1248 = mad(_1243, 0.6643855571746826171875f, -trunc(_1244));
            uint _1254 = min(uint(_1245 + 4), 10u);
            uint _1260 = min(uint((_1245 + 1) + 4), 10u);
            uint _1266 = min(uint((_1245 + 2) + 4), 10u);
            float2 _1272 = float2(_278[_1254].x, _278[_1260].x);
            _1318 = dp3_f32(float3(_1248 * _1248, _1248, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(_278[_1254].x, _278[_1260].x, _278[_1266].x)), dp2_f32(float2(-1.0f, 1.0f), _1272), dp2_f32(0.5f.xx, _1272)));
        }
        else
        {
            float _1317;
            if (_1145 < 15.52606868743896484375f)
            {
                float _1282 = mad(_1145, 0.3010300099849700927734375f, 0.74472749233245849609375f);
                float _1283 = _1282 * 0.55365467071533203125f;
                int _1284 = cvt_f32_i32(_1283);
                float _1287 = mad(_1282, 0.55365467071533203125f, -trunc(_1283));
                uint _1293 = min(uint(_1284 + 4), 10u);
                uint _1299 = min(uint((_1284 + 1) + 4), 10u);
                uint _1305 = min(uint((_1284 + 2) + 4), 10u);
                float2 _1311 = float2(_278[_1293].y, _278[_1299].y);
                _1317 = dp3_f32(float3(_1287 * _1287, _1287, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(_278[_1293].y, _278[_1299].y, _278[_1305].y)), dp2_f32(float2(-1.0f, 1.0f), _1311), dp2_f32(0.5f.xx, _1311)));
            }
            else
            {
                _1317 = 4.0f;
            }
            _1318 = _1317;
        }
        _1319 = _1318;
    }
    float _1405;
    if (_1146 <= (-17.4739322662353515625f))
    {
        _1405 = -4.0f;
    }
    else
    {
        float _1404;
        if (_1146 < (-2.4739310741424560546875f))
        {
            float _1329 = mad(_1146, 0.3010300099849700927734375f, 5.2601776123046875f);
            float _1330 = _1329 * 0.6643855571746826171875f;
            int _1331 = cvt_f32_i32(_1330);
            float _1334 = mad(_1329, 0.6643855571746826171875f, -trunc(_1330));
            uint _1340 = min(uint(_1331 + 4), 10u);
            uint _1346 = min(uint((_1331 + 1) + 4), 10u);
            uint _1352 = min(uint((_1331 + 2) + 4), 10u);
            float2 _1358 = float2(_278[_1340].x, _278[_1346].x);
            _1404 = dp3_f32(float3(_1334 * _1334, _1334, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(_278[_1340].x, _278[_1346].x, _278[_1352].x)), dp2_f32(float2(-1.0f, 1.0f), _1358), dp2_f32(0.5f.xx, _1358)));
        }
        else
        {
            float _1403;
            if (_1146 < 15.52606868743896484375f)
            {
                float _1368 = mad(_1146, 0.3010300099849700927734375f, 0.74472749233245849609375f);
                float _1369 = _1368 * 0.55365467071533203125f;
                int _1370 = cvt_f32_i32(_1369);
                float _1373 = mad(_1368, 0.55365467071533203125f, -trunc(_1369));
                uint _1379 = min(uint(_1370 + 4), 10u);
                uint _1385 = min(uint((_1370 + 1) + 4), 10u);
                uint _1391 = min(uint((_1370 + 2) + 4), 10u);
                float2 _1397 = float2(_278[_1379].y, _278[_1385].y);
                _1403 = dp3_f32(float3(_1373 * _1373, _1373, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(_278[_1379].y, _278[_1385].y, _278[_1391].y)), dp2_f32(float2(-1.0f, 1.0f), _1397), dp2_f32(0.5f.xx, _1397)));
            }
            else
            {
                _1403 = 4.0f;
            }
            _1404 = _1403;
        }
        _1405 = _1404;
    }
    float3 _1408 = float3(exp2(_1233 * 3.3219280242919921875f), exp2(_1319 * 3.3219280242919921875f), exp2(_1405 * 3.3219280242919921875f));
    float3 _1412 = float3(dp3_f32(float3(0.695452213287353515625f, 0.140678703784942626953125f, 0.16386906802654266357421875f), _1408), dp3_f32(float3(0.0447945632040500640869140625f, 0.859671115875244140625f, 0.095534317195415496826171875f), _1408), dp3_f32(float3(-0.0055258828215301036834716796875f, 0.0040252101607620716094970703125f, 1.00150072574615478515625f), _1408));
    float _1413 = dp3_f32(float3(1.45143926143646240234375f, -0.236510753631591796875f, -0.214928567409515380859375f), _1412);
    float _1414 = dp3_f32(float3(-0.07655377686023712158203125f, 1.1762297153472900390625f, -0.0996759235858917236328125f), _1412);
    float _1415 = dp3_f32(float3(0.0083161480724811553955078125f, -0.0060324496589601039886474609375f, 0.99771630764007568359375f), _1412);
    float _1419 = (_1413 <= 0.0f) ? (-4.0f) : (log2(_1413) * 0.3010300099849700927734375f);
    float _1423 = log2(cb1_m[19u].y);
    float _1424 = _1423 * 0.3010300099849700927734375f;
    float _1532;
    if (_1424 >= _1419)
    {
        _1532 = mad(cb1_m[21u].x, _1419, (log2(cb1_m[19u].z) * 0.3010300099849700927734375f) - (_1424 * cb1_m[21u].x));
    }
    else
    {
        float _1441 = log2(cb1_m[20u].x);
        float _1442 = _1441 * 0.3010300099849700927734375f;
        float _1531;
        if ((_1424 < _1419) && (_1442 > _1419))
        {
            float _1451 = (mad(_1423, -0.3010300099849700927734375f, _1419) * 7.0f) / (_1442 - _1424);
            int _1452 = cvt_f32_i32(_1451);
            float _1454 = _1451 - trunc(_1451);
            uint _1456 = uint(_1452 + 1);
            uint _1458 = uint(_1452 + 2);
            uint _1460 = uint(_1452);
            float2 _1472 = float2(cb1_m[_1460].x, cb1_m[_1456].x);
            _1531 = dp3_f32(float3(_1454 * _1454, _1454, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(cb1_m[_1460].x, cb1_m[_1456].x, cb1_m[_1458].x)), dp2_f32(float2(-1.0f, 1.0f), _1472), dp2_f32(0.5f.xx, _1472)));
        }
        else
        {
            float _1482 = log2(cb1_m[20u].z) * 0.3010300099849700927734375f;
            float _1530;
            if ((_1442 <= _1419) && (_1482 > _1419))
            {
                float _1491 = (mad(_1441, -0.3010300099849700927734375f, _1419) * 7.0f) / (_1482 - _1442);
                int _1492 = cvt_f32_i32(_1491);
                float _1494 = _1491 - trunc(_1491);
                uint _1499 = uint(_1492 + 10);
                uint _1504 = uint((_1492 + 1) + 10);
                uint _1509 = uint((_1492 + 2) + 10);
                float2 _1515 = float2(cb1_m[_1499].x, cb1_m[_1504].x);
                _1530 = dp3_f32(float3(_1494 * _1494, _1494, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(cb1_m[_1499].x, cb1_m[_1504].x, cb1_m[_1509].x)), dp2_f32(float2(-1.0f, 1.0f), _1515), dp2_f32(0.5f.xx, _1515)));
            }
            else
            {
                _1530 = mad(cb1_m[21u].y, _1419, (log2(cb1_m[20u].w) * 0.3010300099849700927734375f) - (_1482 * cb1_m[21u].y));
            }
            _1531 = _1530;
        }
        _1532 = _1531;
    }
    float _1536 = (_1414 <= 0.0f) ? (-4.0f) : (log2(_1414) * 0.3010300099849700927734375f);
    float _1644;
    if (_1424 >= _1536)
    {
        _1644 = mad(cb1_m[21u].x, _1536, (log2(cb1_m[19u].z) * 0.3010300099849700927734375f) - (_1424 * cb1_m[21u].x));
    }
    else
    {
        float _1553 = log2(cb1_m[20u].x);
        float _1554 = _1553 * 0.3010300099849700927734375f;
        float _1643;
        if ((_1424 < _1536) && (_1554 > _1536))
        {
            float _1563 = (mad(_1423, -0.3010300099849700927734375f, _1536) * 7.0f) / (_1554 - _1424);
            int _1564 = cvt_f32_i32(_1563);
            float _1566 = _1563 - trunc(_1563);
            uint _1568 = uint(_1564 + 1);
            uint _1570 = uint(_1564 + 2);
            uint _1572 = uint(_1564);
            float2 _1584 = float2(cb1_m[_1572].x, cb1_m[_1568].x);
            _1643 = dp3_f32(float3(_1566 * _1566, _1566, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(cb1_m[_1572].x, cb1_m[_1568].x, cb1_m[_1570].x)), dp2_f32(float2(-1.0f, 1.0f), _1584), dp2_f32(0.5f.xx, _1584)));
        }
        else
        {
            float _1594 = log2(cb1_m[20u].z) * 0.3010300099849700927734375f;
            float _1642;
            if ((_1554 <= _1536) && (_1594 > _1536))
            {
                float _1603 = (mad(_1553, -0.3010300099849700927734375f, _1536) * 7.0f) / (_1594 - _1554);
                int _1604 = cvt_f32_i32(_1603);
                float _1606 = _1603 - trunc(_1603);
                uint _1611 = uint(_1604 + 10);
                uint _1616 = uint((_1604 + 1) + 10);
                uint _1621 = uint((_1604 + 2) + 10);
                float2 _1627 = float2(cb1_m[_1611].x, cb1_m[_1616].x);
                _1642 = dp3_f32(float3(_1606 * _1606, _1606, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(cb1_m[_1611].x, cb1_m[_1616].x, cb1_m[_1621].x)), dp2_f32(float2(-1.0f, 1.0f), _1627), dp2_f32(0.5f.xx, _1627)));
            }
            else
            {
                _1642 = mad(cb1_m[21u].y, _1536, (log2(cb1_m[20u].w) * 0.3010300099849700927734375f) - (_1594 * cb1_m[21u].y));
            }
            _1643 = _1642;
        }
        _1644 = _1643;
    }
    float _1648 = (_1415 <= 0.0f) ? (-4.0f) : (log2(_1415) * 0.3010300099849700927734375f);
    float _1756;
    if (_1424 >= _1648)
    {
        _1756 = mad(cb1_m[21u].x, _1648, (log2(cb1_m[19u].z) * 0.3010300099849700927734375f) - (_1424 * cb1_m[21u].x));
    }
    else
    {
        float _1665 = log2(cb1_m[20u].x);
        float _1666 = _1665 * 0.3010300099849700927734375f;
        float _1755;
        if ((_1424 < _1648) && (_1666 > _1648))
        {
            float _1675 = (mad(_1423, -0.3010300099849700927734375f, _1648) * 7.0f) / (_1666 - _1424);
            int _1676 = cvt_f32_i32(_1675);
            float _1678 = _1675 - trunc(_1675);
            uint _1680 = uint(_1676 + 1);
            uint _1682 = uint(_1676 + 2);
            uint _1684 = uint(_1676);
            float2 _1696 = float2(cb1_m[_1684].x, cb1_m[_1680].x);
            _1755 = dp3_f32(float3(_1678 * _1678, _1678, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(cb1_m[_1684].x, cb1_m[_1680].x, cb1_m[_1682].x)), dp2_f32(float2(-1.0f, 1.0f), _1696), dp2_f32(0.5f.xx, _1696)));
        }
        else
        {
            float _1706 = log2(cb1_m[20u].z) * 0.3010300099849700927734375f;
            float _1754;
            if ((_1666 <= _1648) && (_1706 > _1648))
            {
                float _1715 = (mad(_1665, -0.3010300099849700927734375f, _1648) * 7.0f) / (_1706 - _1666);
                int _1716 = cvt_f32_i32(_1715);
                float _1718 = _1715 - trunc(_1715);
                uint _1723 = uint(_1716 + 10);
                uint _1728 = uint((_1716 + 1) + 10);
                uint _1733 = uint((_1716 + 2) + 10);
                float2 _1739 = float2(cb1_m[_1723].x, cb1_m[_1728].x);
                _1754 = dp3_f32(float3(_1718 * _1718, _1718, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(cb1_m[_1723].x, cb1_m[_1728].x, cb1_m[_1733].x)), dp2_f32(float2(-1.0f, 1.0f), _1739), dp2_f32(0.5f.xx, _1739)));
            }
            else
            {
                _1754 = mad(cb1_m[21u].y, _1648, (log2(cb1_m[20u].w) * 0.3010300099849700927734375f) - (_1706 * cb1_m[21u].y));
            }
            _1755 = _1754;
        }
        _1756 = _1755;
    }
    if (_576)
    {
        float3 _1768 = float3(exp2(_1532 * 3.3219280242919921875f) - 3.5073844628641381859779357910156e-05f, exp2(_1644 * 3.3219280242919921875f) - 3.5073844628641381859779357910156e-05f, exp2(_1756 * 3.3219280242919921875f) - 3.5073844628641381859779357910156e-05f);
        float3 _1772 = float3(dp3_f32(float3(0.662454187870025634765625f, 0.1340042054653167724609375f, 0.1561876833438873291015625f), _1768), dp3_f32(float3(0.272228717803955078125f, 0.674081742763519287109375f, 0.053689517080783843994140625f), _1768), dp3_f32(float3(-0.0055746496655046939849853515625f, 0.0040607335977256298065185546875f, 1.01033914089202880859375f), _1768));
        float3 _1776 = float3(dp3_f32(float3(0.98722398281097412109375f, -0.0061132698319852352142333984375f, 0.01595330052077770233154296875f), _1772), dp3_f32(float3(-0.007598360069096088409423828125f, 1.00186002254486083984375f, 0.0053301998414099216461181640625f), _1772), dp3_f32(float3(0.003072570078074932098388671875f, -0.0050959498621523380279541015625f, 1.0816800594329833984375f), _1772));
        float _1785 = exp2(log2(abs(dp3_f32(float3(1.71665096282958984375f, -0.35567080974578857421875f, -0.2533662319183349609375f), _1776) * 9.9999997473787516355514526367188e-05f)) * 0.1593017578125f);
        float _1796 = exp2(log2(abs(dp3_f32(float3(-0.666684329509735107421875f, 1.616481304168701171875f, 0.0157685391604900360107421875f), _1776) * 9.9999997473787516355514526367188e-05f)) * 0.1593017578125f);
        float _1806 = exp2(log2(abs(dp3_f32(float3(0.0176398493349552154541015625f, -0.04277060925960540771484375f, 0.94210326671600341796875f), _1776) * 9.9999997473787516355514526367188e-05f)) * 0.1593017578125f);
        u0[uint2(_391, _392)] = float4(min(exp2(log2(mad(_1785, 18.8515625f, 0.8359375f) / mad(_1785, 18.6875f, 1.0f)) * 78.84375f), 1.0f), min(exp2(log2(mad(_1796, 18.8515625f, 0.8359375f) / mad(_1796, 18.6875f, 1.0f)) * 78.84375f), 1.0f), min(exp2(log2(mad(_1806, 18.8515625f, 0.8359375f) / mad(_1806, 18.6875f, 1.0f)) * 78.84375f), 1.0f), 1.0f);
    }
}

[numthreads(8, 8, 1)]
void main(SPIRV_Cross_Input stage_input)
{
    gl_LocalInvocationID = stage_input.gl_LocalInvocationID;
    gl_GlobalInvocationID = stage_input.gl_GlobalInvocationID;
    comp_main();
}
