#include "../common.hlsl"
struct _417
{
    uint2 _m0;
    uint _m1;
};

struct _2353
{
    uint3 _m0;
    uint _m1;
};

static const float _2487[30] = { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f };
static const float _65[10][30] = { { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f }, { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f }, { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f }, { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f }, { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f }, { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f }, { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f }, { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f }, { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f }, { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f } };
static const float _70[1] = { 0.0f };
static const float4 _354[5] = { float4(1.0f, 0.0f, 0.0f, 0.0f), float4(0.0f, 1.0f, 0.0f, 0.0f), float4(0.0f, 0.0f, 1.0f, 0.0f), float4(0.0f, 0.0f, 0.0f, 1.0f), 0.0f.xxxx };

cbuffer cb0_buf : register(b0)
{
    uint4 cb0_m[44] : packoffset(c0);
};

cbuffer cb1_buf : register(b1)
{
    float4 cb1_m[20] : packoffset(c0);
};

SamplerState s0 : register(s0);
SamplerState s1 : register(s1);
SamplerState s2 : register(s2);
SamplerState s3 : register(s3);
SamplerState s4 : register(s4);
SamplerState s5 : register(s5);
SamplerState s6 : register(s6);
SamplerState s7 : register(s7);
SamplerState s8 : register(s8);
SamplerState s9 : register(s9);
Buffer<float4> t0 : register(t0);
Texture2D<float4> t1 : register(t1);
Texture2D<float4> t2 : register(t2);
Texture2D<float4> t3 : register(t3);
Texture2D<float4> t4 : register(t4);
Texture2D<float4> t5 : register(t5);
Texture2D<float4> t6 : register(t6);
Texture2D<float4> t7 : register(t7);
Texture2D<float4> t8 : register(t8);
Texture2D<float4> t9 : register(t9);
Texture2D<float4> t10 : register(t10);
Texture3D<float4> t11 : register(t11);
Buffer<float4> t12 : register(t12);
Buffer<float4> t13 : register(t13);
RWTexture2D<float4> u0 : register(u0);
RWTexture2D<float4> u1 : register(u1);
RWTexture2D<float4> u2 : register(u2);
RWTexture2D<float4> u3 : register(u3);

static uint3 gl_LocalInvocationID;
static uint3 gl_GlobalInvocationID;
struct SPIRV_Cross_Input
{
    uint3 gl_LocalInvocationID : SV_GroupThreadID;
    uint3 gl_GlobalInvocationID : SV_DispatchThreadID;
};

groupshared float g0[10][30];
groupshared float g1[1];



uint3 spvTextureSize(Texture3D<float4> Tex, uint Level, out uint Param)
{
    uint3 ret;
    Tex.GetDimensions(Level, ret.x, ret.y, ret.z, Param);
    return ret;
}

uint2 spvImageSize(RWTexture2D<float4> Tex, out uint Param)
{
    uint2 ret;
    Tex.GetDimensions(ret.x, ret.y);
    Param = 0u;
    return ret;
}

uint spvBitfieldInsert(uint Base, uint Insert, uint Offset, uint Count)
{
    uint Mask = Count == 32 ? 0xffffffff : (((1u << Count) - 1) << (Offset & 31));
    return (Base & ~Mask) | ((Insert << Offset) & Mask);
}

uint2 spvBitfieldInsert(uint2 Base, uint2 Insert, uint Offset, uint Count)
{
    uint Mask = Count == 32 ? 0xffffffff : (((1u << Count) - 1) << (Offset & 31));
    return (Base & ~Mask) | ((Insert << Offset) & Mask);
}

uint3 spvBitfieldInsert(uint3 Base, uint3 Insert, uint Offset, uint Count)
{
    uint Mask = Count == 32 ? 0xffffffff : (((1u << Count) - 1) << (Offset & 31));
    return (Base & ~Mask) | ((Insert << Offset) & Mask);
}

uint4 spvBitfieldInsert(uint4 Base, uint4 Insert, uint Offset, uint Count)
{
    uint Mask = Count == 32 ? 0xffffffff : (((1u << Count) - 1) << (Offset & 31));
    return (Base & ~Mask) | ((Insert << Offset) & Mask);
}

uint spvBitfieldUExtract(uint Base, uint Offset, uint Count)
{
    uint Mask = Count == 32 ? 0xffffffff : ((1 << Count) - 1);
    return (Base >> Offset) & Mask;
}

uint2 spvBitfieldUExtract(uint2 Base, uint Offset, uint Count)
{
    uint Mask = Count == 32 ? 0xffffffff : ((1 << Count) - 1);
    return (Base >> Offset) & Mask;
}

uint3 spvBitfieldUExtract(uint3 Base, uint Offset, uint Count)
{
    uint Mask = Count == 32 ? 0xffffffff : ((1 << Count) - 1);
    return (Base >> Offset) & Mask;
}

uint4 spvBitfieldUExtract(uint4 Base, uint Offset, uint Count)
{
    uint Mask = Count == 32 ? 0xffffffff : ((1 << Count) - 1);
    return (Base >> Offset) & Mask;
}

int spvBitfieldSExtract(int Base, int Offset, int Count)
{
    int Mask = Count == 32 ? -1 : ((1 << Count) - 1);
    int Masked = (Base >> Offset) & Mask;
    int ExtendShift = (32 - Count) & 31;
    return (Masked << ExtendShift) >> ExtendShift;
}

int2 spvBitfieldSExtract(int2 Base, int Offset, int Count)
{
    int Mask = Count == 32 ? -1 : ((1 << Count) - 1);
    int2 Masked = (Base >> Offset) & Mask;
    int ExtendShift = (32 - Count) & 31;
    return (Masked << ExtendShift) >> ExtendShift;
}

int3 spvBitfieldSExtract(int3 Base, int Offset, int Count)
{
    int Mask = Count == 32 ? -1 : ((1 << Count) - 1);
    int3 Masked = (Base >> Offset) & Mask;
    int ExtendShift = (32 - Count) & 31;
    return (Masked << ExtendShift) >> ExtendShift;
}

int4 spvBitfieldSExtract(int4 Base, int Offset, int Count)
{
    int Mask = Count == 32 ? -1 : ((1 << Count) - 1);
    int4 Masked = (Base >> Offset) & Mask;
    int ExtendShift = (32 - Count) & 31;
    return (Masked << ExtendShift) >> ExtendShift;
}

float dp2_f32(float2 a, float2 b)
{
    precise float _408 = a.x * b.x;
    return mad(a.y, b.y, _408);
}

float dp3_f32(float3 a, float3 b)
{
    precise float _394 = a.x * b.x;
    return mad(a.z, b.z, mad(a.y, b.y, _394));
}

float dp4_f32(float4 a, float4 b)
{
    precise float _376 = a.x * b.x;
    return mad(a.w, b.w, mad(a.z, b.z, mad(a.y, b.y, _376)));
}

void comp_main()
{
    uint _416_dummy_parameter;
    _417 _418 = { spvImageSize(u0, _416_dummy_parameter), 1u };
    uint _430 = gl_GlobalInvocationID.x - gl_LocalInvocationID.x;
    uint _431 = gl_GlobalInvocationID.y - gl_LocalInvocationID.y;
    uint _433 = gl_LocalInvocationID.x + (gl_LocalInvocationID.y * 8u);
    uint _434 = spvBitfieldUExtract(_433, 1u, 3u);
    uint _436 = spvBitfieldInsert(spvBitfieldUExtract(gl_LocalInvocationID.y, 0u, 29u), _433, 0u, 1u);
    uint _437 = _430 + _434;
    uint _438 = _436 + _431;
    float _443 = float(_418._m0.x);
    float _444 = float(_418._m0.y);
    float _445 = (float(_437) + 0.5f) / _443;
    float _446 = (float(_438) + 0.5f) / _444;
    bool _450 = (_418._m0.x < _437) || (_418._m0.y < _438);
    bool _455 = cb1_m[3u].y == 1.0f;
    if (((gl_LocalInvocationID.x == 0u) && _455) && (gl_LocalInvocationID.y == 0u))
    {
        g1[0u] = t8.Load(int3(uint2(0u, 0u), 0u)).x;
    }
    GroupMemoryBarrierWithGroupSync();
    if (_433 < 36u)
    {
        bool _483 = _433 < 4u;
        bool _484 = _433 < 12u;
        bool _485 = _433 < 20u;
        bool _486 = _433 < 28u;
        uint _497 = _483 ? ((_433 >> 1u) * 9u) : (_484 ? 0u : (_485 ? 9u : (_486 ? (((_433 - 20u) & 7u) + 1u) : (((_433 - 28u) & 7u) + 1u))));
        uint _498 = _483 ? ((_433 & 1u) * 9u) : (_484 ? (((_433 - 4u) & 7u) + 1u) : (_485 ? (((_433 - 12u) & 7u) + 1u) : (_486 ? 0u : 9u)));
        float _499 = 1.0f / _443;
        float _500 = 1.0f / _444;
        float _519 = clamp((_499 * (float(int(_497 - 1u)) + 0.5f)) + (_499 * float(int(_430))), 0.0f, 1.0f);
        float _520 = clamp(((float(int(_498 - 1u)) + 0.5f) * _500) + (float(int(_431)) * _500), 0.0f, 1.0f);
        float2 _523 = float2(_519, _520);
        float _528 = mad(t6.SampleLevel(s5, _523, 0.0f).x, 2.0f, -1.0f);
        float _543;
        if (_528 > 0.0f)
        {
            _543 = min(sqrt(_528), t0.Load(8u).x);
        }
        else
        {
            _543 = max(_528, -t0.Load(7u).x);
        }
        float4 _547 = t5.SampleLevel(s4, _523, 0.0f);
        float2 _557 = float2(_547.x * cb1_m[2u].z, _547.y * cb1_m[2u].w);
        bool _569 = (cb1_m[7u].z != 0.0f) && (cb1_m[7u].w != 0.0f);
        bool _573 = (cb1_m[6u].w != 0.0f) && (cb1_m[7u].x != 0.0f);
        float _585 = exp2(max(_569 ? clamp((sqrt(dp2_f32(_557, _557)) - 2.0f) * 0.0555555559694766998291015625f, 0.0f, 1.0f) : 0.0f, _573 ? clamp((abs(_543) - 0.0471399985253810882568359375f) * 1.0494720935821533203125f, 0.0f, 1.0f) : 0.0f) * (-4.3280849456787109375f));
        float _587 = _519 - 0.5f;
        float _588 = _520 - 0.5f;
        float2 _589 = float2(_587, _588);
        float _593 = mad(dp2_f32(_589, _589), cb1_m[18u].x, 1.0f);
        float _615 = mad(exp2(log2(clamp(cb1_m[18u].x, 0.0f, 1.0f)) * 0.75f), -0.339999973773956298828125f, 1.0f) * mad(cb1_m[18u].y, -0.089999973773956298828125f, 1.0f);
        float _616 = (_593 * mad(mad(cb1_m[18u].z, -0.001999996602535247802734375f, 0.092000000178813934326171875f), cb1_m[18u].y, 1.0f)) * _615;
        float _617 = _615 * (_593 * mad(mad(cb1_m[18u].z, 0.04500000178813934326171875f, 0.046999998390674591064453125f), cb1_m[18u].y, 1.0f));
        float _618 = _615 * (_593 * mad(mad(cb1_m[18u].z, 0.0f, 0.04500000178813934326171875f), cb1_m[18u].y, 1.0f));
        float _619 = mad(_587, _616, 0.5f);
        float _620 = mad(_616, _588, 0.5f);
        float _621 = mad(_587, _617, 0.5f);
        float _622 = mad(_617, _588, 0.5f);
        float2 _625 = float2(_619, _620);
        float4 _627 = t1.SampleLevel(s0, _625, 0.0f);
        float _628 = _627.x;
        bool _629 = _573 || _569;
        float _663;
        if (_629)
        {
            float4 _635 = t2.SampleLevel(s1, _625, 0.0f);
            float _636 = _635.x;
            float _644 = asfloat(cb0_m[43u].w) * 20.0f;
            float _660 = mad(mad(t9.SampleLevel(s7, float2(mad(_619, 30.0f, sin(_644)), mad(_620, 30.0f, cos(_644))), 0.0f).x, 0.00999999977648258209228515625f, -0.004999999888241291046142578125f), sqrt(max(max(_636, max(_635.y, _635.z)), 1.0000000133514319600180897396058e-10f)), _636);
            _663 = mad(_585, _628 - _660, _660);
        }
        else
        {
            _663 = _628;
        }
        float2 _664 = float2(_621, _622);
        float4 _666 = t1.SampleLevel(s0, _664, 0.0f);
        float _667 = _666.y;
        float _700;
        if (_629)
        {
            float4 _673 = t2.SampleLevel(s1, _664, 0.0f);
            float _675 = _673.y;
            float _681 = asfloat(cb0_m[43u].w) * 20.0f;
            float _697 = mad(mad(t9.SampleLevel(s7, float2(mad(_621, 30.0f, sin(_681)), mad(_622, 30.0f, cos(_681))), 0.0f).x, 0.00999999977648258209228515625f, -0.004999999888241291046142578125f), sqrt(max(max(_673.x, max(_675, _673.z)), 1.0000000133514319600180897396058e-10f)), _675);
            _700 = mad(_585, _667 - _697, _697);
        }
        else
        {
            _700 = _667;
        }
        float _701 = mad(_587, _618, 0.5f);
        float _702 = mad(_618, _588, 0.5f);
        float2 _703 = float2(_701, _702);
        float4 _705 = t1.SampleLevel(s0, _703, 0.0f);
        float _706 = _705.z;
        float _739;
        if (_629)
        {
            float4 _712 = t2.SampleLevel(s1, _703, 0.0f);
            float _715 = _712.z;
            float _720 = asfloat(cb0_m[43u].w) * 20.0f;
            float _736 = mad(mad(t9.SampleLevel(s7, float2(mad(_701, 30.0f, sin(_720)), mad(_702, 30.0f, cos(_720))), 0.0f).x, 0.00999999977648258209228515625f, -0.004999999888241291046142578125f), sqrt(max(max(_712.x, max(_712.y, _715)), 1.0000000133514319600180897396058e-10f)), _715);
            _739 = mad(_585, _706 - _736, _736);
        }
        else
        {
            _739 = _706;
        }
        float _744 = _455 ? g1[0u] : cb1_m[3u].x;
        float4 _748 = t7.SampleLevel(s6, _523, 0.0f);
        float _749 = _748.x;
        float _757 = max(cb1_m[3u].w - dp3_f32(float3(_749, _748.yz), float3(0.21269999444484710693359375f, 0.715200006961822509765625f, 0.07209999859333038330078125f)), 6.099999882280826568603515625e-05f);
        float _761 = mad(_663, _744, _749 / _757);
        float _762 = mad(_700, _744, _748.y / _757);
        float _763 = mad(_739, _744, _748.z / _757);
        float _767 = 1.0f / (max(_761, max(_763, _762)) + 1.0f);
        float _768 = _761 * _767;
        float _770 = _767 * _763;
        float3 _771 = float3(_768, _770, _767 * _762);
        uint _776 = (_498 * 12u) >> 2u;
        g0[_497][_776] = dp3_f32(_771, float3(0.25f, 0.25f, 0.5f));
        uint _779 = _776 + 1u;
        g0[_497][_779] = dp2_f32(float2(_768, _770), float2(0.5f, -0.5f));
        uint _782 = _776 + 2u;
        g0[_497][_782] = dp3_f32(_771, float3(-0.25f, -0.25f, 0.5f));
    }
    float2 _787 = float2(_445, _446);
    float _791 = mad(t6.SampleLevel(s5, _787, 0.0f).x, 2.0f, -1.0f);
    float _806;
    if (_791 > 0.0f)
    {
        _806 = min(sqrt(_791), t0.Load(8u).x);
    }
    else
    {
        _806 = max(_791, -t0.Load(7u).x);
    }
    float4 _810 = t5.SampleLevel(s4, _787, 0.0f);
    float _811 = _810.x;
    float _812 = _810.y;
    float2 _823 = float2(_811 * cb1_m[2u].z, _812 * cb1_m[2u].w);
    bool _835 = (cb1_m[7u].z != 0.0f) && (cb1_m[7u].w != 0.0f);
    bool _839 = (cb1_m[6u].w != 0.0f) && (cb1_m[7u].x != 0.0f);
    float _843 = abs(_806);
    float _851 = exp2(max(_835 ? clamp((sqrt(dp2_f32(_823, _823)) - 2.0f) * 0.0555555559694766998291015625f, 0.0f, 1.0f) : 0.0f, _839 ? clamp((_843 - 0.0471399985253810882568359375f) * 1.0494720935821533203125f, 0.0f, 1.0f) : 0.0f) * (-4.3280849456787109375f));
    float _852 = _445 - 0.5f;
    float _853 = _446 - 0.5f;
    float2 _854 = float2(_852, _853);
    float _855 = dp2_f32(_854, _854);
    float _858 = mad(_855, cb1_m[18u].x, 1.0f);
    float _880 = mad(exp2(log2(clamp(cb1_m[18u].x, 0.0f, 1.0f)) * 0.75f), -0.339999973773956298828125f, 1.0f) * mad(cb1_m[18u].y, -0.089999973773956298828125f, 1.0f);
    float _881 = (_858 * mad(mad(cb1_m[18u].z, -0.001999996602535247802734375f, 0.092000000178813934326171875f), cb1_m[18u].y, 1.0f)) * _880;
    float _882 = _880 * (_858 * mad(mad(cb1_m[18u].z, 0.04500000178813934326171875f, 0.046999998390674591064453125f), cb1_m[18u].y, 1.0f));
    float _883 = _880 * (_858 * mad(mad(cb1_m[18u].z, 0.0f, 0.04500000178813934326171875f), cb1_m[18u].y, 1.0f));
    float _884 = mad(_852, _881, 0.5f);
    float _885 = mad(_881, _853, 0.5f);
    float _886 = mad(_852, _882, 0.5f);
    float _887 = mad(_882, _853, 0.5f);
    float2 _890 = float2(_884, _885);
    float4 _892 = t1.SampleLevel(s0, _890, 0.0f);
    float _893 = _892.x;
    bool _894 = _839 || _835;
    float _927;
    if (_894)
    {
        float4 _900 = t2.SampleLevel(s1, _890, 0.0f);
        float _901 = _900.x;
        float _908 = asfloat(cb0_m[43u].w) * 20.0f;
        float _924 = mad(mad(t9.SampleLevel(s7, float2(mad(_884, 30.0f, sin(_908)), mad(_885, 30.0f, cos(_908))), 0.0f).x, 0.00999999977648258209228515625f, -0.004999999888241291046142578125f), sqrt(max(max(_901, max(_900.y, _900.z)), 1.0000000133514319600180897396058e-10f)), _901);
        _927 = mad(_851, _893 - _924, _924);
    }
    else
    {
        _927 = _893;
    }
    float2 _928 = float2(_886, _887);
    float4 _930 = t1.SampleLevel(s0, _928, 0.0f);
    float _931 = _930.y;
    float _964;
    if (_894)
    {
        float4 _937 = t2.SampleLevel(s1, _928, 0.0f);
        float _939 = _937.y;
        float _945 = asfloat(cb0_m[43u].w) * 20.0f;
        float _961 = mad(mad(t9.SampleLevel(s7, float2(mad(_886, 30.0f, sin(_945)), mad(_887, 30.0f, cos(_945))), 0.0f).x, 0.00999999977648258209228515625f, -0.004999999888241291046142578125f), sqrt(max(max(_937.x, max(_939, _937.z)), 1.0000000133514319600180897396058e-10f)), _939);
        _964 = mad(_851, _931 - _961, _961);
    }
    else
    {
        _964 = _931;
    }
    float _965 = mad(_852, _883, 0.5f);
    float _966 = mad(_883, _853, 0.5f);
    float2 _967 = float2(_965, _966);
    float4 _969 = t1.SampleLevel(s0, _967, 0.0f);
    float _970 = _969.z;
    float _1003;
    if (_894)
    {
        float4 _976 = t2.SampleLevel(s1, _967, 0.0f);
        float _979 = _976.z;
        float _984 = asfloat(cb0_m[43u].w) * 20.0f;
        float _1000 = mad(mad(t9.SampleLevel(s7, float2(mad(_965, 30.0f, sin(_984)), mad(_966, 30.0f, cos(_984))), 0.0f).x, 0.00999999977648258209228515625f, -0.004999999888241291046142578125f), sqrt(max(max(_976.x, max(_976.y, _979)), 1.0000000133514319600180897396058e-10f)), _979);
        _1003 = mad(_851, _970 - _1000, _1000);
    }
    else
    {
        _1003 = _970;
    }
    float _1008 = _455 ? g1[0u] : cb1_m[3u].x;
    float4 _1012 = t7.SampleLevel(s6, _787, 0.0f);
    float _1013 = _1012.x;
    float _1021 = max(cb1_m[3u].w - dp3_f32(float3(_1013, _1012.yz), float3(0.21269999444484710693359375f, 0.715200006961822509765625f, 0.07209999859333038330078125f)), 6.099999882280826568603515625e-05f);
    float _1025 = mad(_927, _1008, _1013 / _1021);
    float _1026 = mad(_964, _1008, _1012.y / _1021);
    float _1027 = mad(_1003, _1008, _1012.z / _1021);
    float _1031 = 1.0f / (max(_1025, max(_1027, _1026)) + 1.0f);
    float _1032 = _1025 * _1031;
    float _1034 = _1031 * _1027;
    float3 _1035 = float3(_1032, _1034, _1031 * _1026);
    float _1036 = dp3_f32(_1035, float3(0.25f, 0.25f, 0.5f));
    float _1037 = dp3_f32(_1035, float3(-0.25f, -0.25f, 0.5f));
    float _1039 = dp2_f32(float2(_1032, _1034), float2(0.5f, -0.5f));
    uint _1040 = _434 + 1u;
    uint _1041 = _434 + 2u;
    uint _1042 = _436 * 12u;
    uint _1045 = (_1042 + 12u) >> 2u;
    g0[_1040][_1045] = _1036;
    uint _1048 = _1045 + 1u;
    g0[_1040][_1048] = _1039;
    uint _1051 = _1045 + 2u;
    g0[_1040][_1051] = _1037;
    float2 _1054 = float2(_811 * cb1_m[2u].x, _812 * cb1_m[2u].y);
    float _1058 = min(sqrt(dp2_f32(_1054, _1054)) * 0.07500000298023223876953125f, 1.0f);
    float _1059 = _445 - _811;
    float _1060 = _446 - _812;
    float _1068 = (max(abs(mad(_1060, 2.0f, -1.0f)), abs(mad(_1059, 2.0f, -1.0f))) >= 1.0f) ? (-_1058) : _1058;
    float _1075 = floor(mad(_1059, cb1_m[2u].x, -0.5f));
    float _1076 = floor(mad(_1060, cb1_m[2u].y, -0.5f));
    float _1077 = _1075 + 0.5f;
    float _1078 = _1076 + 0.5f;
    float _1082 = mad(_1059, cb1_m[2u].x, -_1077);
    float _1084 = mad(_1060, cb1_m[2u].y, -_1078);
    float _1086 = mad(-_1059, cb1_m[2u].x, _1077);
    float _1088 = mad(-_1060, cb1_m[2u].y, _1078);
    float _1095 = mad(_1082, mad(_1086, 1.5f, 2.0f), 0.5f);
    float _1096 = mad(_1084, mad(_1088, 1.5f, 2.0f), 0.5f);
    float _1097 = _1082 * _1082;
    float _1098 = _1084 * _1084;
    float _1103 = _1097 * mad(_1082, 0.5f, -0.5f);
    float _1104 = mad(_1084, 0.5f, -0.5f) * _1098;
    float _1107 = _1082 * mad(_1082, mad(_1086, 0.5f, 1.0f), -0.5f);
    float _1108 = _1084 * mad(_1084, mad(_1088, 0.5f, 1.0f), -0.5f);
    float _1111 = mad(_1082, _1095, mad(_1097, mad(_1082, 1.5f, -2.5f), 1.0f));
    float _1112 = mad(_1084, _1096, mad(mad(_1084, 1.5f, -2.5f), _1098, 1.0f));
    float _1119 = (_1075 - 0.5f) / cb1_m[2u].x;
    float _1120 = (_1076 - 0.5f) / cb1_m[2u].y;
    float _1121 = (_1075 + 2.5f) / cb1_m[2u].x;
    float _1122 = (_1076 + 2.5f) / cb1_m[2u].y;
    float _1123 = (_1078 + ((_1084 * _1096) / _1112)) / cb1_m[2u].y;
    float _1124 = (_1077 + ((_1082 * _1095) / _1111)) / cb1_m[2u].x;
    float4 _1129 = t3.SampleLevel(s2, float2(_1119, _1120), 0.0f);
    float4 _1138 = t3.SampleLevel(s2, float2(_1121, _1120), 0.0f);
    float4 _1156 = t3.SampleLevel(s2, float2(_1124, _1120), 0.0f);
    float4 _1168 = t3.SampleLevel(s2, float2(_1119, _1123), 0.0f);
    float4 _1180 = t3.SampleLevel(s2, float2(_1124, _1123), 0.0f);
    float4 _1192 = t3.SampleLevel(s2, float2(_1121, _1123), 0.0f);
    float4 _1204 = t3.SampleLevel(s2, float2(_1119, _1122), 0.0f);
    float4 _1216 = t3.SampleLevel(s2, float2(_1124, _1122), 0.0f);
    float4 _1228 = t3.SampleLevel(s2, float2(_1121, _1122), 0.0f);
    float _1235 = mad(_1103 * _1228.x, _1104, mad(_1111 * _1216.x, _1104, mad(_1107 * _1204.x, _1104, mad(_1103 * _1192.x, _1112, mad(_1111 * _1180.x, _1112, mad(_1107 * _1168.x, _1112, mad(_1111 * _1156.x, _1108, ((_1103 * _1138.x) * _1108) + ((_1107 * _1129.x) * _1108))))))));
    float _1237 = mad(_1103 * _1228.z, _1104, mad(_1111 * _1216.z, _1104, mad(_1107 * _1204.z, _1104, mad(_1103 * _1192.z, _1112, mad(_1111 * _1180.z, _1112, mad(_1107 * _1168.z, _1112, mad(_1111 * _1156.z, _1108, ((_1107 * _1129.z) * _1108) + ((_1103 * _1138.z) * _1108))))))));
    float3 _1238 = float3(_1235, _1237, mad(_1103 * _1228.y, _1104, mad(_1111 * _1216.y, _1104, mad(_1107 * _1204.y, _1104, mad(_1103 * _1192.y, _1112, mad(_1111 * _1180.y, _1112, mad(_1107 * _1168.y, _1112, mad(_1111 * _1156.y, _1108, ((_1107 * _1129.y) * _1108) + ((_1103 * _1138.y) * _1108)))))))));
    float _1239 = dp3_f32(_1238, float3(0.25f, 0.25f, 0.5f));
    float _1240 = dp3_f32(_1238, float3(-0.25f, -0.25f, 0.5f));
    float _1242 = dp2_f32(float2(_1235, _1237), float2(0.5f, -0.5f));
    GroupMemoryBarrierWithGroupSync();
    uint _1243 = _1042 >> 2u;
    uint _1247 = _1243 + 1u;
    uint _1251 = _1243 + 2u;
    uint _1337 = (_1042 + 24u) >> 2u;
    uint _1341 = _1337 + 1u;
    uint _1345 = _1337 + 2u;
    float _1366 = min(min(min(min(_1036, g0[_1040][_1243]), g0[_434][_1045]), g0[_1041][_1045]), g0[_1040][_1337]);
    float _1367 = max(max(max(max(_1036, g0[_1040][_1243]), g0[_434][_1045]), g0[_1041][_1045]), g0[_1040][_1337]);
    float _1385 = (((((((_1036 + g0[_1040][_1243]) + g0[_434][_1243]) + g0[_434][_1045]) + g0[_1041][_1243]) + g0[_1041][_1045]) + g0[_434][_1337]) + g0[_1040][_1337]) + g0[_1041][_1337];
    float _1399 = _1385 * 0.111111111938953399658203125f;
    float _1400 = (g0[_1041][_1341] + (g0[_1040][_1341] + (g0[_434][_1341] + (g0[_1041][_1048] + (g0[_1041][_1247] + (g0[_434][_1048] + (g0[_434][_1247] + (_1039 + g0[_1040][_1247])))))))) * 0.111111111938953399658203125f;
    float _1401 = (g0[_1041][_1345] + (g0[_1040][_1345] + (g0[_434][_1345] + (g0[_1041][_1051] + (g0[_1041][_1251] + (g0[_434][_1051] + (g0[_434][_1251] + (_1037 + g0[_1040][_1251])))))))) * 0.111111111938953399658203125f;
    float _1420 = mad(_1239 / max(mad(_1385, 0.111111111938953399658203125f, _1239), 1.0000000116860974230803549289703e-07f), 0.5f, 0.75f);
    float _1421 = sqrt(max((mad(g0[_1041][_1337], g0[_1041][_1337], mad(g0[_1040][_1337], g0[_1040][_1337], mad(g0[_434][_1337], g0[_434][_1337], mad(g0[_1041][_1045], g0[_1041][_1045], mad(g0[_1041][_1243], g0[_1041][_1243], mad(g0[_434][_1045], g0[_434][_1045], mad(g0[_434][_1243], g0[_434][_1243], (g0[_1040][_1243] * g0[_1040][_1243]) + (_1036 * _1036)))))))) * 0.111111111938953399658203125f) - (_1399 * _1399), 1.0000000133514319600180897396058e-10f)) * _1420;
    float _1422 = _1420 * sqrt(max((mad(g0[_1041][_1341], g0[_1041][_1341], mad(g0[_1040][_1341], g0[_1040][_1341], mad(g0[_434][_1341], g0[_434][_1341], mad(g0[_1041][_1048], g0[_1041][_1048], mad(g0[_1041][_1247], g0[_1041][_1247], mad(g0[_434][_1048], g0[_434][_1048], mad(g0[_434][_1247], g0[_434][_1247], (_1039 * _1039) + (g0[_1040][_1247] * g0[_1040][_1247])))))))) * 0.111111111938953399658203125f) - (_1400 * _1400), 1.0000000133514319600180897396058e-10f));
    float _1423 = _1420 * sqrt(max((mad(g0[_1041][_1345], g0[_1041][_1345], mad(g0[_1040][_1345], g0[_1040][_1345], mad(g0[_434][_1345], g0[_434][_1345], mad(g0[_1041][_1051], g0[_1041][_1051], mad(g0[_1041][_1251], g0[_1041][_1251], mad(g0[_434][_1051], g0[_434][_1051], mad(g0[_434][_1251], g0[_434][_1251], (_1037 * _1037) + (g0[_1040][_1251] * g0[_1040][_1251])))))))) * 0.111111111938953399658203125f) - (_1401 * _1401), 1.0000000133514319600180897396058e-10f));
    float _1427 = _1399 + _1421;
    float _1428 = _1422 + _1400;
    float _1429 = _1423 + _1401;
    float _1430 = (_1399 - _1421) + _1427;
    float _1431 = _1428 + (_1400 - _1422);
    float _1432 = _1429 + (_1401 - _1423);
    float _1442 = mad(_1430, -0.5f, _1239);
    float _1443 = mad(_1431, -0.5f, _1242);
    float _1444 = mad(_1432, -0.5f, _1240);
    float _1452 = max(max(abs(_1443 / mad((_1422 - _1400) + _1428, 0.5f, 9.9999997473787516355514526367188e-05f)), abs(_1442 / mad(_1427 + (_1421 - _1399), 0.5f, 9.9999997473787516355514526367188e-05f))), abs(_1444 / mad((_1423 - _1401) + _1429, 0.5f, 9.9999997473787516355514526367188e-05f)));
    bool _1453 = _1452 > 1.0f;
    uint2 _1471 = uint2(_437, _438);
    float _1475 = max((_1239 / ((_1239 + (mad(_1367, 0.5f, max(_1367 * 0.5f, max(max(max(max(_1036, g0[_434][_1243]), g0[_1041][_1243]), g0[_434][_1337]), g0[_1041][_1337]) * 0.5f)) - mad(_1366, 0.5f, min(_1366 * 0.5f, min(min(min(min(_1036, g0[_434][_1243]), g0[_1041][_1243]), g0[_434][_1337]), g0[_1041][_1337]) * 0.5f)))) + 1.0000000116860974230803549289703e-07f)) * mad(abs(_1068), 0.85000002384185791015625f, 0.100000001490116119384765625f), u2[_1471].x * 0.75f);
    bool _1476 = _1068 < 0.0f;
    float _1477 = _1476 ? _1036 : (_1453 ? mad(_1430, 0.5f, _1442 / _1452) : _1239);
    float _1478 = _1476 ? _1039 : (_1453 ? mad(_1431, 0.5f, _1443 / _1452) : _1242);
    float _1479 = _1476 ? _1037 : (_1453 ? mad(_1432, 0.5f, _1444 / _1452) : _1240);
    float _1487 = clamp(mad(t4.SampleLevel(s3, _787, 0.0f).y, 1.0f - _1475, _1475), 0.0039215688593685626983642578125f, 0.949999988079071044921875f);
    float _1491 = mad(1.0f - _1487, cb1_m[0u].x, _1487);
    float _1495 = mad(_1491, _1036 - _1477, _1477);
    float _1496 = mad(_1491, _1039 - _1478, _1478);
    float _1497 = mad(_1491, _1037 - _1479, _1479);
    float _1498 = _1495 - _1497;
    float _1499 = _1498 + _1496;
    float _1500 = _1495 + _1497;
    float _1501 = _1498 - _1496;
    u1[_1471] = float4(_1499, _1500, _1501, 0.0f);
    u2[_1471] = _1491.xxxx;
    u3[_1471] = float4(_1495, _1496, _1497, _1495);
    bool _1507 = !_450;
    float _1858;
    float _1859;
    float _1860;
    if (_1507)
    {
        float _1511 = dp3_f32(float3(_1499, _1500, _1501), float3(0.21269999444484710693359375f, 0.715200006961822509765625f, 0.07209999859333038330078125f));
        float _1518 = mad(-_843, cb1_m[7u].y, 1.0f) * cb1_m[6u].x;
        float _1522 = mad(_1518, _1499 - _1511, _1511);
        float _1523 = mad(_1518, _1500 - _1511, _1511);
        float _1524 = mad(_1518, _1501 - _1511, _1511);
        float _1525 = _853 + _853;
        float _1526 = _852 + _852;
        float _1527 = abs(_1526);
        float _1528 = abs(_1525);
        float _1532 = min(_1527, _1528) * (1.0f / max(_1527, _1528));
        float _1533 = _1532 * _1532;
        float _1537 = mad(_1533, mad(_1533, mad(_1533, mad(_1533, 0.02083509974181652069091796875f, -0.08513300120830535888671875f), 0.1801410019397735595703125f), -0.33029949665069580078125f), 0.999866008758544921875f);
        float _1546 = mad(_1532, _1537, (_1527 < _1528) ? mad(_1532 * _1537, -2.0f, 1.57079637050628662109375f) : 0.0f) + (((-_1526) > _1526) ? (-3.1415927410125732421875f) : 0.0f);
        float _1547 = min(_1525, _1526);
        float _1548 = max(_1525, _1526);
        float _1555 = ((_1547 < (-_1547)) && (_1548 >= (-_1548))) ? (-_1546) : _1546;
        float4 _1559 = t10.SampleLevel(s8, _787, 0.0f);
        float _1560 = _1559.x;
        float _1561 = _1559.y;
        float _1562 = _1559.z;
        float _1563 = _1559.w;
        float _1568 = (_1523 - _1524) * 1.73205077648162841796875f;
        float _1570 = mad(_1522, 2.0f, -_1523);
        float _1571 = _1570 - _1524;
        float _1572 = abs(_1571);
        float _1573 = abs(_1568);
        float _1577 = min(_1572, _1573) * (1.0f / max(_1572, _1573));
        float _1578 = _1577 * _1577;
        float _1582 = mad(_1578, mad(_1578, mad(_1578, mad(_1578, 0.02083509974181652069091796875f, -0.08513300120830535888671875f), 0.1801410019397735595703125f), -0.33029949665069580078125f), 0.999866008758544921875f);
        float _1591 = mad(_1577, _1582, (_1572 < _1573) ? mad(_1577 * _1582, -2.0f, 1.57079637050628662109375f) : 0.0f) + ((_1571 < (_1524 - _1570)) ? (-3.1415927410125732421875f) : 0.0f);
        float _1592 = min(_1568, _1571);
        float _1593 = max(_1568, _1571);
        float _1602 = ((_1522 == _1523) && (_1524 == _1523)) ? 0.0f : ((((_1592 < (-_1592)) && (_1593 >= (-_1593))) ? (-_1591) : _1591) * 57.295780181884765625f);
        float _1611 = mad(cb1_m[19u].x, -360.0f, (_1602 < 0.0f) ? (_1602 + 360.0f) : _1602);
        float _1621 = clamp(1.0f - (abs((_1611 < (-180.0f)) ? (_1611 + 360.0f) : ((_1611 > 180.0f) ? (_1611 - 360.0f) : _1611)) / (cb1_m[19u].y * 180.0f)), 0.0f, 1.0f);
        float _1626 = dp3_f32(float3(_1522, _1523, _1524), float3(0.21269999444484710693359375f, 0.715200006961822509765625f, 0.07209999859333038330078125f));
        float _1629 = (mad(_1621, -2.0f, 3.0f) * (_1621 * _1621)) * cb1_m[19u].z;
        float _1641 = mad(mad(_1629, _1522 - _1626, _1626) - _1522, cb1_m[18u].w, _1522);
        float _1642 = mad(cb1_m[18u].w, mad(_1629, _1523 - _1626, _1626) - _1523, _1523);
        float _1643 = mad(cb1_m[18u].w, mad(_1629, _1524 - _1626, _1626) - _1524, _1524);
        float _1645;
        _1645 = 0.0f;
        float _1646;
        uint _1649;
        uint _1648 = 0u;
        for (;;)
        {
            if (_1648 >= 8u)
            {
                break;
            }
            uint _1660 = min((_1648 & 3u), 4u);
            float _1680 = mad(float(_1648), 0.785398185253143310546875f, -_1555);
            float _1681 = _1680 + 1.57079637050628662109375f;
            _1646 = mad(_1563 * (dp4_f32(t12.Load((_1648 >> 2u) + 10u), float4(_354[_1660].x, _354[_1660].y, _354[_1660].z, _354[_1660].w)) * clamp((abs((_1681 > 3.1415927410125732421875f) ? (_1680 - 4.7123889923095703125f) : _1681) - 2.19911479949951171875f) * 2.1220657825469970703125f, 0.0f, 1.0f)), 1.0f - _1645, _1645);
            _1649 = _1648 + 1u;
            _1645 = _1646;
            _1648 = _1649;
            continue;
        }
        float _1692 = clamp(_1645, 0.0f, 1.0f);
        float _1710 = abs(t12.Load(8u).x);
        float2 _1713 = float2(_852 * 1.40999996662139892578125f, _853 * 1.40999996662139892578125f);
        float _1715 = sqrt(dp2_f32(_1713, _1713));
        float _1716 = min(_1715, 1.0f);
        float _1717 = _1716 * _1716;
        float _1722 = clamp(_1715 - 0.5f, 0.0f, 1.0f);
        float _1725 = (_1716 * _1717) + (mad(-_1716, _1717, 1.0f) * (_1722 * _1722));
        float _1726 = mad(mad(mad(sin(asfloat(cb0_m[43u].w) * 6.0f), 0.5f, 0.5f), 0.089999973773956298828125f, 0.910000026226043701171875f), _1710, -1.0f);
        float _1728 = _1561 + _1726;
        float _1730 = clamp((_1562 + _1726) * 1.53846156597137451171875f, 0.0f, 1.0f);
        float _1737 = clamp(_1728 + _1728, 0.0f, 1.0f);
        float _1754 = dp3_f32(float3(t13.Load(8u).xyz), float3(0.21269999444484710693359375f, 0.715200006961822509765625f, 0.07209999859333038330078125f));
        float _1760 = mad(sin(_1561 * 17.52899932861328125f) + 1.0f, -0.1149999797344207763671875f, 0.89999997615814208984375f) * mad(exp2(log2(abs(_1754)) * 0.699999988079071044921875f), 0.10000002384185791015625f, 0.89999997615814208984375f);
        float _1762 = _1760 * 0.02999999932944774627685546875f;
        float _1763 = mad(_1710, -0.3499999940395355224609375f, 0.3499999940395355224609375f);
        float _1767 = mad(mad(-_1725, _1725, 1.0f), 1.0f - _1763, _1763);
        float _1768 = min((exp2(log2(_1725) * 0.699999988079071044921875f) * (mad(_1737, -2.0f, 3.0f) * (_1737 * _1737))) + (mad(_1730, -2.0f, 3.0f) * (_1730 * _1730)), 1.0f);
        float _1778 = mad(_1768, mad(_1767, _1760 * 0.62000000476837158203125f, mad(_1641, _1692, -_1641)), mad(-_1641, _1692, _1641));
        float _1779 = mad(_1768, mad(_1767, _1762, mad(_1692, _1642, -_1642)), mad(-_1692, _1642, _1642));
        float _1780 = mad(_1768, mad(_1767, _1762, mad(_1692, _1643, -_1643)), mad(-_1692, _1643, _1643));
        float _1783 = mad(_1561, _1562 * (1.0f - _1563), _1563);
        float _1785;
        _1785 = 0.0f;
        float _1786;
        uint _1789;
        uint _1788 = 0u;
        for (;;)
        {
            if (int(_1788) >= 8)
            {
                break;
            }
            float4 _1796 = t12.Load(_1788);
            float _1798 = _1796.y;
            float _1800 = _1796.x - _1555;
            _1786 = mad(_1783 * (_1796.w * clamp((abs((_1800 > 3.1415927410125732421875f) ? (_1800 - 6.283185482025146484375f) : ((_1800 < (-3.1415927410125732421875f)) ? (_1800 + 6.283185482025146484375f) : _1800)) + (_1798 - 3.1415927410125732421875f)) / max(_1798 * 0.699999988079071044921875f, 0.001000000047497451305389404296875f), 0.0f, 1.0f)), 1.0f - _1785, _1785);
            _1789 = _1788 + 1u;
            _1785 = _1786;
            _1788 = _1789;
            continue;
        }
        float _1819 = clamp(_1785 + _1785, 0.0f, 1.0f) * 0.949999988079071044921875f;
        float _1823 = mad(_1819, 0.310000002384185791015625f - _1778, _1778);
        float _1824 = mad(_1819, 0.014999999664723873138427734375f - _1779, _1779);
        float _1825 = mad(_1819, 0.014999999664723873138427734375f - _1780, _1780);
        float4 _1826 = t12.Load(12u);
        float _1827 = _1826.x;
        float _1855;
        float _1856;
        float _1857;
        if (_1827 != 0.0f)
        {
            float _1834 = clamp(_1754, 0.0f, 1.0f);
            float _1844 = clamp((_1560 + (_1827 - 1.0f)) / max(mad(_1827, 0.5f, 0.5f), 0.001000000047497451305389404296875f), 0.0f, 1.0f);
            float _1848 = clamp(_1827 * 2.857142925262451171875f, 0.0f, 1.0f);
            float _1851 = mad(_1848, -2.0f, 3.0f) * (_1848 * _1848);
            _1855 = mad((_1834 * (_1560 * 0.790000021457672119140625f)) * _1844, _1851, _1823);
            _1856 = mad(_1851, _1844 * (_1834 * (_1560 * 0.85000002384185791015625f)), _1824);
            _1857 = mad(_1851, _1844 * (_1834 * (_1560 * 0.930000007152557373046875f)), _1825);
        }
        else
        {
            _1855 = _1823;
            _1856 = _1824;
            _1857 = _1825;
        }
        _1858 = _1855;
        _1859 = _1856;
        _1860 = _1857;
    }
    else
    {
        _1858 = _1499;
        _1859 = _1500;
        _1860 = _1501;
    }
    float _1865 = 1.0f / max(1.0f - max(max(_1859, _1860), _1858), 6.099999882280826568603515625e-05f);
    float _1872 = min(-(_1865 * _1858), 0.0f);
    float _1873 = min(-(_1865 * _1859), 0.0f);
    float _1874 = min(-(_1865 * _1860), 0.0f);
    float _1884 = clamp(-((1.0f / cb1_m[5u].y) * (sqrt(_855) - cb1_m[5u].x)), 0.0f, 1.0f);
    float _1885 = mad(_1884, -2.0f, 3.0f);
    float _1886 = _1884 * _1884;
    float _1887 = _1885 * _1886;
    float _1889 = mad(-_1885, _1886, 1.0f);
    float _1911 = cb1_m[5u].w * cb1_m[5u].z;
    float3 _1924 = float3(_450 ? (-_1872) : mad(_1872 + ((cb1_m[4u].x * _1889) - (_1872 * _1887)), _1911, -_1872), _450 ? (-_1873) : mad(_1911, ((cb1_m[4u].y * _1889) - (_1887 * _1873)) + _1873, -_1873), _450 ? (-_1874) : mad(_1911, ((cb1_m[4u].z * _1889) - (_1887 * _1874)) + _1874, -_1874));
    float _1925 = dp3_f32(float3(0.4397009909152984619140625f, 0.3829779922962188720703125f, 0.1773349940776824951171875f), _1924);
    float _1926 = dp3_f32(float3(0.08979229629039764404296875f, 0.813422977924346923828125f, 0.09676159918308258056640625f), _1924);
    float _1927 = dp3_f32(float3(0.01754399947822093963623046875f, 0.11154399812221527099609375f, 0.870703995227813720703125f), _1924);
    bool _1930 = cb1_m[8u].x != 0.0f;
    float _1947;
    float _1948;
    float _1949;
    if (!_1930)
    {
        _1947 = clamp(mad(cb1_m[9u].x, mad(_1927, cb1_m[9u].y, -0.1800537109375f), 0.1800537109375f), 0.0f, 65504.0f);
        _1948 = clamp(mad(cb1_m[9u].x, mad(_1926, cb1_m[9u].y, -0.1800537109375f), 0.1800537109375f), 0.0f, 65504.0f);
        _1949 = clamp(mad(cb1_m[9u].x, mad(_1925, cb1_m[9u].y, -0.1800537109375f), 0.1800537109375f), 0.0f, 65504.0f);
    }
    else
    {
        _1947 = _1927;
        _1948 = _1926;
        _1949 = _1925;
    }
    float _1952 = mad(cb1_m[8u].y, -0.0005000000237487256526947021484375f, 0.312709987163543701171875f);
    float _1959 = mad(cb1_m[8u].z, 0.0005000000237487256526947021484375f, (_1952 * 2.86999988555908203125f) - ((_1952 * _1952) * 3.0f));
    float _1960 = _1959 - 0.2750950753688812255859375f;
    float _1961 = _1952 / _1960;
    float _1965 = ((1.0f - _1952) + (0.2750950753688812255859375f - _1959)) / _1960;
    float3 _1975 = float3(_1949, _1948, _1947);
    float3 _1982 = float3((0.94923698902130126953125f / mad(_1965, -0.1624000072479248046875f, mad(_1961, 0.732800006866455078125f, 0.4296000003814697265625f))) * dp3_f32(float3(0.390404999256134033203125f, 0.549941003322601318359375f, 0.008926319889724254608154296875f), _1975), dp3_f32(float3(0.070841602981090545654296875f, 0.963172018527984619140625f, 0.001357750035822391510009765625f), _1975) * (1.035419940948486328125f / mad(_1965, 0.006099999882280826568603515625f, mad(_1961, -0.703599989414215087890625f, 1.6974999904632568359375f))), dp3_f32(float3(0.02310819923877716064453125f, 0.1280210018157958984375f, 0.936245024204254150390625f), _1975) * (1.0872800350189208984375f / mad(_1965, 0.98339998722076416015625f, mad(_1961, 0.0030000000260770320892333984375f, 0.013600000180304050445556640625f))));
    float3 _1992 = float3(dp3_f32(float3(2.85846996307373046875f, -1.62879002094268798828125f, -0.0248910002410411834716796875f), _1982), dp3_f32(float3(-0.21018199622631072998046875f, 1.1582000255584716796875f, 0.0003242809907533228397369384765625f), _1982), dp3_f32(float3(-0.0418119989335536956787109375f, -0.118169002234935760498046875f, 1.0686700344085693359375f), _1982));
    float _1994 = dp3_f32(_1992, float3(cb1_m[9u].w, cb1_m[10u].xy));
    float _2000 = dp3_f32(_1992, float3(cb1_m[10u].zw, cb1_m[11u].x));
    float _2007 = dp3_f32(_1992, float3(cb1_m[11u].yzw));
    float _2009 = dp3_f32(float3(_1994, _2000, _2007), float3(0.21267290413379669189453125f, 0.715152204036712646484375f, 0.072175003588199615478515625f));
    float _2018 = clamp((_2009 - cb1_m[14u].w) * (1.0f / (cb1_m[15u].x - cb1_m[14u].w)), 0.0f, 1.0f);
    float _2022 = mad(-mad(_2018, -2.0f, 3.0f), _2018 * _2018, 1.0f);
    float _2031 = clamp((_2009 - cb1_m[15u].y) * (1.0f / (cb1_m[15u].z - cb1_m[15u].y)), 0.0f, 1.0f);
    float _2032 = mad(_2031, -2.0f, 3.0f);
    float _2033 = _2031 * _2031;
    float _2034 = _2032 * _2033;
    float _2037 = 1.0f - clamp(mad(_2032, _2033, _2022), 0.0f, 1.0f);
    float _2062;
    float _2063;
    float _2064;
    if (_1930)
    {
        _2062 = cb1_m[16u].y + 1.0f;
        _2063 = cb1_m[15u].w + 1.0f;
        _2064 = cb1_m[16u].x + 1.0f;
    }
    else
    {
        _2062 = cb1_m[16u].y + mad(cb1_m[16u].x, 0.5f, mad(cb1_m[15u].w, 0.25f, 1.0f));
        _2063 = cb1_m[15u].w + 1.0f;
        _2064 = mad(cb1_m[15u].w, 0.5f, cb1_m[16u].x) + 1.0f;
    }
    float _2107 = mad(_2034 * (_2000 * cb1_m[14u].y), _2062, ((_2022 * (_2000 * cb1_m[12u].y)) * _2063) + ((_2037 * (_2000 * cb1_m[13u].y)) * _2064));
    float _2108 = mad(_2034 * (_2007 * cb1_m[14u].z), _2062, ((_2022 * (_2007 * cb1_m[12u].z)) * _2063) + ((_2037 * (_2007 * cb1_m[13u].z)) * _2064));
    float _2109 = mad(_2034 * (_1994 * cb1_m[14u].x), _2062, ((_2037 * (_1994 * cb1_m[13u].x)) * _2064) + ((_2022 * (_1994 * cb1_m[12u].x)) * _2063));
    float _2113 = float(_2107 >= _2108);
    float _2114 = mad(_2107 - _2108, _2113, _2108);
    float _2115 = mad(_2113, _2108 - _2107, _2107);
    float _2117 = mad(_2113, -1.0f, 0.666666686534881591796875f);
    float _2123 = float(_2114 <= _2109);
    float _2124 = mad(_2109 - _2114, _2123, _2114);
    float _2125 = mad(_2123, _2115 - _2115, _2115);
    float _2127 = mad(_2123, _2114 - _2109, _2109);
    float _2129 = _2124 - min(_2127, _2125);
    float _2135 = _2129 / (_2124 + 9.9999997473787516355514526367188e-05f);
    float _2139 = cb1_m[9u].z + abs(((_2127 - _2125) / mad(_2129, 6.0f, 9.9999997473787516355514526367188e-05f)) + mad(_2123, mad(_2113, 1.0f, -1.0f) - _2117, _2117));
    float _2145 = (_2139 < 0.0f) ? (_2139 + 1.0f) : ((_2139 > 1.0f) ? (_2139 - 1.0f) : _2139);
    float _2167 = mad(_2135, clamp(abs(mad(frac(_2145 + 1.0f), 6.0f, -3.0f)) - 1.0f, 0.0f, 1.0f) - 1.0f, 1.0f);
    float _2168 = mad(_2135, clamp(abs(mad(frac(_2145 + 0.666666686534881591796875f), 6.0f, -3.0f)) - 1.0f, 0.0f, 1.0f) - 1.0f, 1.0f);
    float _2169 = mad(_2135, clamp(abs(mad(frac(_2145 + 0.3333333432674407958984375f), 6.0f, -3.0f)) - 1.0f, 0.0f, 1.0f) - 1.0f, 1.0f);
    float _2174 = dp3_f32(float3(_2124 * _2167, _2124 * _2168, _2124 * _2169), float3(0.21267290413379669189453125f, 0.715152204036712646484375f, 0.072175003588199615478515625f));
    float _2183 = mad(cb1_m[8u].w, mad(_2124, _2167, -_2174), _2174);
    float _2184 = mad(cb1_m[8u].w, mad(_2124, _2168, -_2174), _2174);
    float _2185 = mad(cb1_m[8u].w, mad(_2124, _2169, -_2174), _2174);
    float _2204;
    float _2205;
    float _2206;
    if (_1930)
    {
        _2204 = cb1_m[9u].y * clamp(mad(cb1_m[9u].x, _2185 - 0.1800537109375f, 0.1800537109375f), 0.0f, 65504.0f);
        _2205 = cb1_m[9u].y * clamp(mad(cb1_m[9u].x, _2184 - 0.1800537109375f, 0.1800537109375f), 0.0f, 65504.0f);
        _2206 = cb1_m[9u].y * clamp(mad(cb1_m[9u].x, _2183 - 0.1800537109375f, 0.1800537109375f), 0.0f, 65504.0f);
    }
    else
    {
        _2204 = _2185;
        _2205 = _2184;
        _2206 = _2183;
    }
    if (_1507)
    {
#if 1
  float _2212 = (RENODX_TONE_MAP_TYPE == 0) ? min(_2206 * 2.5f, 65504.0f) : _2206;
  float _2213 = (RENODX_TONE_MAP_TYPE == 0) ? min(_2205 * 2.5f, 65504.0f) : _2205;
  float _2214 = (RENODX_TONE_MAP_TYPE == 0) ? min(_2204 * 2.5f, 65504.0f) : _2204;
#endif
        float _2218 = max(_2214, max(_2213, _2212));
        float _2223 = (max(_2218, 9.9999997473787516355514526367188e-05f) - max(min(_2214, min(_2213, _2212)), 9.9999997473787516355514526367188e-05f)) / max(_2218, 0.00999999977648258209228515625f);
        float _2234 = mad(sqrt(mad(_2212 - _2214, _2212, ((_2213 - _2212) * _2213) + (_2214 * (_2214 - _2213)))), 1.75f, _2212 + (_2214 + _2213));
        float _2235 = _2223 - 0.4000000059604644775390625f;
        float _2240 = max(1.0f - abs(_2235 * 2.5f), 0.0f);
        float _2247 = mad(mad(clamp(mad(_2235, asfloat(0x7f800000u /* inf */), 0.5f), 0.0f, 1.0f), 2.0f, -1.0f), mad(-_2240, _2240, 1.0f), 1.0f) * 0.02500000037252902984619140625f;
        float _2255 = ((_2234 <= 0.1599999964237213134765625f) ? _2247 : ((_2234 >= 0.4799999892711639404296875f) ? 0.0f : (_2247 * ((0.07999999821186065673828125f / (_2234 * 0.3333333432674407958984375f)) - 0.5f)))) + 1.0f;
        float _2256 = _2212 * _2255;
        float _2257 = _2213 * _2255;
        float _2258 = _2214 * _2255;
        float _2263 = (_2257 - _2258) * 1.73205077648162841796875f;
        float _2265 = (_2256 * 2.0f) - _2257;
        float _2267 = mad(-_2214, _2255, _2265);
        float _2268 = abs(_2267);
        float _2269 = abs(_2263);
        float _2273 = min(_2268, _2269) * (1.0f / max(_2268, _2269));
        float _2274 = _2273 * _2273;
        float _2278 = mad(_2274, mad(_2274, mad(_2274, mad(_2274, 0.02083509974181652069091796875f, -0.08513300120830535888671875f), 0.1801410019397735595703125f), -0.33029949665069580078125f), 0.999866008758544921875f);
        float _2288 = mad(_2273, _2278, (_2268 < _2269) ? mad(_2273 * _2278, -2.0f, 1.57079637050628662109375f) : 0.0f) + ((_2267 < mad(_2214, _2255, -_2265)) ? (-3.1415927410125732421875f) : 0.0f);
        float _2289 = min(_2263, _2267);
        float _2290 = max(_2263, _2267);
        float _2299 = ((_2258 == _2257) && (_2257 == _2256)) ? 0.0f : ((((_2289 < (-_2289)) && (_2290 >= (-_2290))) ? (-_2288) : _2288) * 57.295780181884765625f);
        float _2302 = (_2299 < 0.0f) ? (_2299 + 360.0f) : _2299;
        float _2312 = max(1.0f - abs(((_2302 < (-180.0f)) ? (_2302 + 360.0f) : ((_2302 > 180.0f) ? (_2302 - 360.0f) : _2302)) * 0.01481481455266475677490234375f), 0.0f);
        float _2315 = mad(_2312, -2.0f, 3.0f) * (_2312 * _2312);
        float3 _2326 = float3(clamp(_2256 + (((_2223 * (_2315 * _2315)) * mad(-_2212, _2255, 0.02999999932944774627685546875f)) * 0.180000007152557373046875f), 0.0f, 65504.0f), clamp(_2257, 0.0f, 65504.0f), clamp(_2258, 0.0f, 65504.0f));
        float _2330 = clamp(dp3_f32(float3(1.45143926143646240234375f, -0.236510753631591796875f, -0.214928567409515380859375f), _2326), 0.0f, 65504.0f);
        float _2331 = clamp(dp3_f32(float3(-0.07655377686023712158203125f, 1.1762297153472900390625f, -0.0996759235858917236328125f), _2326), 0.0f, 65504.0f);
        float _2332 = clamp(dp3_f32(float3(0.0083161480724811553955078125f, -0.0060324496589601039886474609375f, 0.99771630764007568359375f), _2326), 0.0f, 65504.0f);

        float _2334 = dp3_f32(float3(_2330, _2331, _2332), float3(0.2722289860248565673828125f, 0.674081981182098388671875f, 0.0536894984543323516845703125f));
        float3 _2341 = float3(mad(_2330 - _2334, 0.959999978542327880859375f, _2334), mad(_2331 - _2334, 0.959999978542327880859375f, _2334), mad(_2332 - _2334, 0.959999978542327880859375f, _2334));
#if 1
  if (RENODX_TONE_MAP_TYPE != 0) {
    u0[_1471] = float4(CustomACES(_2341), 1.f);
    return;
  }
#endif
        float3 _2345 = float3(dp3_f32(float3(0.695452213287353515625f, 0.140678703784942626953125f, 0.16386906802654266357421875f), _2341), dp3_f32(float3(0.0447945632040500640869140625f, 0.859671115875244140625f, 0.095534317195415496826171875f), _2341), dp3_f32(float3(-0.0055258828215301036834716796875f, 0.0040252101607620716094970703125f, 1.00150072574615478515625f), _2341));
        float _2346 = dp3_f32(float3(1.45143926143646240234375f, -0.236510753631591796875f, -0.214928567409515380859375f), _2345);
        float _2347 = dp3_f32(float3(-0.07655377686023712158203125f, 1.1762297153472900390625f, -0.0996759235858917236328125f), _2345);
        float _2348 = dp3_f32(float3(0.0083161480724811553955078125f, -0.0060324496589601039886474609375f, 0.99771630764007568359375f), _2345);
        uint _2350;
        spvTextureSize(t11, 0u, _2350);
        bool _2351 = _2350 > 0u;
        uint _2352_dummy_parameter;
        _2353 _2354 = { spvTextureSize(t11, 0u, _2352_dummy_parameter), 1u };
        float _2357 = float(_2351 ? _2354._m0.x : 0u);
        float _2360 = float(_2351 ? _2354._m0.y : 0u);
        float _2363 = float(_2351 ? _2354._m0.z : 0u);
        float _2367 = float(_2347 >= _2348);
        float _2368 = mad(_2347 - _2348, _2367, _2348);
        float _2369 = mad(_2348 - _2347, _2367, _2347);
        float _2371 = mad(_2367, -1.0f, 0.666666686534881591796875f);
        float _2377 = float(_2346 >= _2368);
        float _2378 = mad(_2346 - _2368, _2377, _2368);
        float _2379 = mad(_2369 - _2369, _2377, _2369);
        float _2381 = mad(_2368 - _2346, _2377, _2346);
        float _2383 = _2378 - min(_2381, _2379);
        float4 _2407 = t11.SampleLevel(s9, float3(abs(mad(mad(_2367, 1.0f, -1.0f) - _2371, _2377, _2371) + ((_2381 - _2379) / mad(_2383, 6.0f, 9.9999997473787516355514526367188e-05f))) + (1.0f / (_2357 + _2357)), (1.0f / (_2360 + _2360)) + (_2383 / (_2378 + 9.9999997473787516355514526367188e-05f)), mad(_2378 * 3.0f, 1.0f / mad(_2378, 3.0f, 1.5f), 1.0f / (_2363 + _2363))), 0.0f);
        float _2408 = _2407.x;
        float _2409 = _2407.y;
        float _2410 = _2407.z;
        float3 _2438 = float3(mad(_2410, mad(_2409, clamp(abs(mad(frac(_2408 + 1.0f), 6.0f, -3.0f)) - 1.0f, 0.0f, 1.0f) - 1.0f, 1.0f), -3.5073844628641381859779357910156e-05f), mad(mad(clamp(abs(mad(frac(_2408 + 0.666666686534881591796875f), 6.0f, -3.0f)) - 1.0f, 0.0f, 1.0f) - 1.0f, _2409, 1.0f), _2410, -3.5073844628641381859779357910156e-05f), mad(mad(clamp(abs(mad(frac(_2408 + 0.3333333432674407958984375f), 6.0f, -3.0f)) - 1.0f, 0.0f, 1.0f) - 1.0f, _2409, 1.0f), _2410, -3.5073844628641381859779357910156e-05f));
        float3 _2442 = float3(dp3_f32(float3(0.662454187870025634765625f, 0.1340042054653167724609375f, 0.1561876833438873291015625f), _2438), dp3_f32(float3(0.272228717803955078125f, 0.674081742763519287109375f, 0.053689517080783843994140625f), _2438), dp3_f32(float3(-0.0055746496655046939849853515625f, 0.0040607335977256298065185546875f, 1.01033914089202880859375f), _2438));
        float3 _2446 = float3(dp3_f32(float3(0.98722398281097412109375f, -0.0061132698319852352142333984375f, 0.01595330052077770233154296875f), _2442), dp3_f32(float3(-0.007598360069096088409423828125f, 1.00186002254486083984375f, 0.0053301998414099216461181640625f), _2442), dp3_f32(float3(0.003072570078074932098388671875f, -0.0050959498621523380279541015625f, 1.0816800594329833984375f), _2442));
        float _2455 = exp2(log2(abs(dp3_f32(float3(1.71665096282958984375f, -0.35567080974578857421875f, -0.2533662319183349609375f), _2446) * 9.9999997473787516355514526367188e-05f)) * 0.1593017578125f);
        float _2466 = exp2(log2(abs(dp3_f32(float3(-0.666684329509735107421875f, 1.616481304168701171875f, 0.0157685391604900360107421875f), _2446) * 9.9999997473787516355514526367188e-05f)) * 0.1593017578125f);
        float _2476 = exp2(log2(abs(dp3_f32(float3(0.0176398493349552154541015625f, -0.04277060925960540771484375f, 0.94210326671600341796875f), _2446) * 9.9999997473787516355514526367188e-05f)) * 0.1593017578125f);
        u0[_1471] = float4(min(exp2(log2(mad(_2455, 18.8515625f, 0.8359375f) / mad(_2455, 18.6875f, 1.0f)) * 78.84375f), 1.0f), min(exp2(log2(mad(_2466, 18.8515625f, 0.8359375f) / mad(_2466, 18.6875f, 1.0f)) * 78.84375f), 1.0f), min(exp2(log2(mad(_2476, 18.8515625f, 0.8359375f) / mad(_2476, 18.6875f, 1.0f)) * 78.84375f), 1.0f), 1.0f);
    }
}

[numthreads(8, 8, 1)]
void main(SPIRV_Cross_Input stage_input)
{
    gl_LocalInvocationID = stage_input.gl_LocalInvocationID;
    gl_GlobalInvocationID = stage_input.gl_GlobalInvocationID;
    comp_main();
}
