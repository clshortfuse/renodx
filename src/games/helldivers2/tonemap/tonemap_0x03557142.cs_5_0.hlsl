#include "../common.hlsl"
struct _372
{
    uint2 _m0;
    uint _m1;
};

static const float _58[1] = { 0.0f };
static const float4 _279[11] = { float4(1.0f, 0.0f, 0.0f, 0.0f), float4(0.0f, 1.0f, 0.0f, 0.0f), float4(0.0f, 0.0f, 1.0f, 0.0f), float4(0.0f, 0.0f, 0.0f, 1.0f), float4(-4.0f, -0.718548238277435302734375f, 0.0f, 0.0f), float4(-4.0f, 2.0810306072235107421875f, 0.0f, 0.0f), float4(-3.1573765277862548828125f, 3.66812419891357421875f, 0.0f, 0.0f), float4(-0.485249996185302734375f, 4.0f, 0.0f, 0.0f), float4(1.84773242473602294921875f, 4.0f, 0.0f, 0.0f), float4(1.84773242473602294921875f, 4.0f, 0.0f, 0.0f), 0.0f.xxxx };

cbuffer cb0_buf : register(b0)
{
    uint4 cb0_m[44] : packoffset(c0);
};

cbuffer cb1_buf : register(b1)
{
    float4 cb1_m[4096] : packoffset(c0);
};

cbuffer cb2_buf : register(b2)
{
    uint4 cb2_m0 : packoffset(c0);
    uint4 cb2_m1 : packoffset(c1);
    float2 cb2_m2 : packoffset(c2);
    float2 cb2_m3 : packoffset(c2.z);
    float4 cb2_m4 : packoffset(c3);
    float3 cb2_m5 : packoffset(c4);
    uint cb2_m6 : packoffset(c4.w);
    float4 cb2_m7 : packoffset(c5);
    float4 cb2_m8 : packoffset(c6);
    float2 cb2_m9 : packoffset(c7);
    float2 cb2_m10 : packoffset(c7.z);
    uint4 cb2_m11 : packoffset(c8);
    uint4 cb2_m12 : packoffset(c9);
    uint4 cb2_m13 : packoffset(c10);
    uint4 cb2_m14 : packoffset(c11);
    uint4 cb2_m15 : packoffset(c12);
    uint4 cb2_m16 : packoffset(c13);
    uint4 cb2_m17 : packoffset(c14);
    uint4 cb2_m18 : packoffset(c15);
    uint4 cb2_m19 : packoffset(c16);
    uint4 cb2_m20 : packoffset(c17);
    float4 cb2_m21 : packoffset(c18);
    float4 cb2_m22 : packoffset(c19);
};

SamplerState s0 : register(s0);
SamplerState s1 : register(s1);
SamplerState s2 : register(s2);
SamplerState s3 : register(s3);
SamplerState s4 : register(s4);
SamplerState s5 : register(s5);
SamplerState s6 : register(s6);
Buffer<float4> t0 : register(t0);
Texture2D<float4> t1 : register(t1);
Texture2D<float4> t2 : register(t2);
Texture2D<float4> t3 : register(t3);
Texture2D<float4> t4 : register(t4);
Texture2D<float4> t5 : register(t5);
Texture2D<float4> t6 : register(t6);
Texture2D<float4> t7 : register(t7);
Texture2D<float4> t8 : register(t8);
Buffer<float4> t9 : register(t9);
Buffer<float4> t10 : register(t10);
RWTexture2D<float4> u0 : register(u0);
RWTexture2D<float4> u1 : register(u1);

static uint3 gl_LocalInvocationID;
static uint3 gl_GlobalInvocationID;
struct SPIRV_Cross_Input
{
    uint3 gl_LocalInvocationID : SV_GroupThreadID;
    uint3 gl_GlobalInvocationID : SV_DispatchThreadID;
};

groupshared float g0[1];

uint2 spvImageSize(RWTexture2D<float4> Tex, out uint Param)
{
    uint2 ret;
    Tex.GetDimensions(ret.x, ret.y);
    Param = 0u;
    return ret;
}

uint spvBitfieldInsert(uint Base, uint Insert, uint Offset, uint Count)
{
    uint Mask = Count == 32 ? 0xffffffff : (((1u << Count) - 1) << (Offset & 31));
    return (Base & ~Mask) | ((Insert << Offset) & Mask);
}

uint2 spvBitfieldInsert(uint2 Base, uint2 Insert, uint Offset, uint Count)
{
    uint Mask = Count == 32 ? 0xffffffff : (((1u << Count) - 1) << (Offset & 31));
    return (Base & ~Mask) | ((Insert << Offset) & Mask);
}

uint3 spvBitfieldInsert(uint3 Base, uint3 Insert, uint Offset, uint Count)
{
    uint Mask = Count == 32 ? 0xffffffff : (((1u << Count) - 1) << (Offset & 31));
    return (Base & ~Mask) | ((Insert << Offset) & Mask);
}

uint4 spvBitfieldInsert(uint4 Base, uint4 Insert, uint Offset, uint Count)
{
    uint Mask = Count == 32 ? 0xffffffff : (((1u << Count) - 1) << (Offset & 31));
    return (Base & ~Mask) | ((Insert << Offset) & Mask);
}

uint spvBitfieldUExtract(uint Base, uint Offset, uint Count)
{
    uint Mask = Count == 32 ? 0xffffffff : ((1 << Count) - 1);
    return (Base >> Offset) & Mask;
}

uint2 spvBitfieldUExtract(uint2 Base, uint Offset, uint Count)
{
    uint Mask = Count == 32 ? 0xffffffff : ((1 << Count) - 1);
    return (Base >> Offset) & Mask;
}

uint3 spvBitfieldUExtract(uint3 Base, uint Offset, uint Count)
{
    uint Mask = Count == 32 ? 0xffffffff : ((1 << Count) - 1);
    return (Base >> Offset) & Mask;
}

uint4 spvBitfieldUExtract(uint4 Base, uint Offset, uint Count)
{
    uint Mask = Count == 32 ? 0xffffffff : ((1 << Count) - 1);
    return (Base >> Offset) & Mask;
}

int spvBitfieldSExtract(int Base, int Offset, int Count)
{
    int Mask = Count == 32 ? -1 : ((1 << Count) - 1);
    int Masked = (Base >> Offset) & Mask;
    int ExtendShift = (32 - Count) & 31;
    return (Masked << ExtendShift) >> ExtendShift;
}

int2 spvBitfieldSExtract(int2 Base, int Offset, int Count)
{
    int Mask = Count == 32 ? -1 : ((1 << Count) - 1);
    int2 Masked = (Base >> Offset) & Mask;
    int ExtendShift = (32 - Count) & 31;
    return (Masked << ExtendShift) >> ExtendShift;
}

int3 spvBitfieldSExtract(int3 Base, int Offset, int Count)
{
    int Mask = Count == 32 ? -1 : ((1 << Count) - 1);
    int3 Masked = (Base >> Offset) & Mask;
    int ExtendShift = (32 - Count) & 31;
    return (Masked << ExtendShift) >> ExtendShift;
}

int4 spvBitfieldSExtract(int4 Base, int Offset, int Count)
{
    int Mask = Count == 32 ? -1 : ((1 << Count) - 1);
    int4 Masked = (Base >> Offset) & Mask;
    int ExtendShift = (32 - Count) & 31;
    return (Masked << ExtendShift) >> ExtendShift;
}

float dp2_f32(float2 a, float2 b)
{
    precise float _363 = a.x * b.x;
    return mad(a.y, b.y, _363);
}

float dp3_f32(float3 a, float3 b)
{
    precise float _349 = a.x * b.x;
    return mad(a.z, b.z, mad(a.y, b.y, _349));
}

float dp4_f32(float4 a, float4 b)
{
    precise float _331 = a.x * b.x;
    return mad(a.w, b.w, mad(a.z, b.z, mad(a.y, b.y, _331)));
}

int cvt_f32_i32(float v)
{
    return isnan(v) ? 0 : ((v < (-2147483648.0f)) ? int(0x80000000) : ((v > 2147483520.0f) ? 2147483647 : int(v)));
}

void comp_main()
{
    uint _371_dummy_parameter;
    _372 _373 = { spvImageSize(u0, _371_dummy_parameter), 1u };
    uint _388 = gl_LocalInvocationID.x + (gl_LocalInvocationID.y * 8u);
    uint _392 = (gl_GlobalInvocationID.x - gl_LocalInvocationID.x) + spvBitfieldUExtract(_388, 1u, 3u);
    uint _393 = spvBitfieldInsert(spvBitfieldUExtract(gl_LocalInvocationID.y, 0u, 29u), _388, 0u, 1u) + (gl_GlobalInvocationID.y - gl_LocalInvocationID.y);
    float _400 = (float(_392) + 0.5f) / float(_373._m0.x);
    float _401 = (float(_393) + 0.5f) / float(_373._m0.y);
    bool _404 = (_373._m0.x < _392) || (_373._m0.y < _393);
    bool _409 = cb2_m3.y == 1.0f;
    if (((gl_LocalInvocationID.x == 0u) && _409) && (gl_LocalInvocationID.y == 0u))
    {
        g0[0u] = t6.Load(int3(uint2(0u, 0u), 0u)).x;
    }
    GroupMemoryBarrierWithGroupSync();
    float2 _424 = float2(_400, _401);
    float _429 = mad(t4.SampleLevel(s3, _424, 0.0f).x, 2.0f, -1.0f);
    float _444;
    if (_429 > 0.0f)
    {
        _444 = min(sqrt(_429), t0.Load(8u).x);
    }
    else
    {
        _444 = max(_429, -t0.Load(7u).x);
    }
    bool _455 = (cb2_m10.x != 0.0f) && (cb2_m10.y != 0.0f);
    bool _459 = (cb2_m8.w != 0.0f) && (cb2_m9.x != 0.0f);
    float4 _463 = t1.SampleLevel(s0, _424, 0.0f);
    float _464 = _463.x;
    float _465 = _463.y;
    float _466 = _463.z;
    float _534;
    float _535;
    float _536;
    if (_459 || _455)
    {
        float4 _473 = t3.SampleLevel(s2, _424, 0.0f);
        float2 _482 = float2(_473.x * cb2_m2.x, _473.y * cb2_m2.y);
        float _496 = exp2(max(_455 ? clamp((sqrt(dp2_f32(_482, _482)) - 2.0f) * 0.0555555559694766998291015625f, 0.0f, 1.0f) : 0.0f, _459 ? clamp((abs(_444) - 0.0471399985253810882568359375f) * 1.0494720935821533203125f, 0.0f, 1.0f) : 0.0f) * (-4.3280849456787109375f));
        float4 _500 = t2.SampleLevel(s1, _424, 0.0f);
        float _501 = _500.x;
        float _502 = _500.y;
        float _503 = _500.z;
        float _509 = asfloat(cb0_m[43u].w) * 20.0f;
        float _520 = mad(t7.SampleLevel(s5, float2(mad(_400, 30.0f, sin(_509)), mad(_401, 30.0f, cos(_509))), 0.0f).x, 0.00999999977648258209228515625f, -0.004999999888241291046142578125f);
        float _524 = sqrt(max(max(_501, max(_502, _503)), 1.0000000133514319600180897396058e-10f));
        float _525 = mad(_520, _524, _501);
        float _526 = mad(_520, _524, _502);
        float _527 = mad(_520, _524, _503);
        _534 = mad(_496, _466 - _527, _527);
        _535 = mad(_496, _465 - _526, _526);
        _536 = mad(_496, _464 - _525, _525);
    }
    else
    {
        _534 = _466;
        _535 = _465;
        _536 = _464;
    }
    float _541 = _409 ? g0[0u] : cb2_m3.x;
    float4 _545 = t5.SampleLevel(s4, _424, 0.0f);
    float _546 = _545.x;
    float _554 = max(cb2_m4.y - dp3_f32(float3(_546, _545.yz), float3(0.21269999444484710693359375f, 0.715200006961822509765625f, 0.07209999859333038330078125f)), 6.099999882280826568603515625e-05f);
    float _558 = mad(_536, _541, _546 / _554);
    float _559 = mad(_535, _541, _545.y / _554);
    float _560 = mad(_534, _541, _545.z / _554);
    float _564 = 1.0f / (max(_558, max(_559, _560)) + 1.0f);
    float _565 = _558 * _564;
    float _567 = _564 * _560;
    float3 _568 = float3(_565, _567, _564 * _559);
    float _569 = dp3_f32(_568, float3(0.25f, 0.25f, 0.5f));
    float _570 = dp3_f32(_568, float3(-0.25f, -0.25f, 0.5f));
    float _572 = dp2_f32(float2(_565, _567), float2(0.5f, -0.5f));
    uint2 _574 = uint2(_392, _393);
    u1[_574] = float4(_569, _572, _570, _569);
    float _576 = _569 - _570;
    float _577 = _572 + _576;
    float _578 = _569 + _570;
    float _579 = _576 - _572;
    bool _580 = !_404;
    float _935;
    float _936;
    float _937;
    if (_580)
    {
        float _584 = dp3_f32(float3(_577, _578, _579), float3(0.21269999444484710693359375f, 0.715200006961822509765625f, 0.07209999859333038330078125f));
        float _592 = mad(-abs(_444), cb2_m9.y, 1.0f) * cb2_m8.x;
        float _596 = mad(_592, _577 - _584, _584);
        float _597 = mad(_592, _578 - _584, _584);
        float _598 = mad(_592, _579 - _584, _584);
        float _599 = _400 - 0.5f;
        float _600 = _401 - 0.5f;
        float _601 = _600 + _600;
        float _602 = _599 + _599;
        float _603 = abs(_602);
        float _604 = abs(_601);
        float _608 = min(_603, _604) * (1.0f / max(_603, _604));
        float _609 = _608 * _608;
        float _613 = mad(_609, mad(_609, mad(_609, mad(_609, 0.02083509974181652069091796875f, -0.08513300120830535888671875f), 0.1801410019397735595703125f), -0.33029949665069580078125f), 0.999866008758544921875f);
        float _622 = mad(_608, _613, (_603 < _604) ? mad(_608 * _613, -2.0f, 1.57079637050628662109375f) : 0.0f) + (((-_602) > _602) ? (-3.1415927410125732421875f) : 0.0f);
        float _623 = min(_601, _602);
        float _624 = max(_601, _602);
        float _631 = ((_623 < (-_623)) && (_624 >= (-_624))) ? (-_622) : _622;
        float4 _635 = t8.SampleLevel(s6, _424, 0.0f);
        float _636 = _635.x;
        float _637 = _635.y;
        float _638 = _635.z;
        float _639 = _635.w;
        float _646 = (_597 - _598) * 1.73205077648162841796875f;
        float _648 = mad(_596, 2.0f, -_597);
        float _649 = _648 - _598;
        float _650 = abs(_649);
        float _651 = abs(_646);
        float _655 = min(_650, _651) * (1.0f / max(_650, _651));
        float _656 = _655 * _655;
        float _660 = mad(_656, mad(_656, mad(_656, mad(_656, 0.02083509974181652069091796875f, -0.08513300120830535888671875f), 0.1801410019397735595703125f), -0.33029949665069580078125f), 0.999866008758544921875f);
        float _669 = mad(_655, _660, (_650 < _651) ? mad(_655 * _660, -2.0f, 1.57079637050628662109375f) : 0.0f) + ((_649 < (_598 - _648)) ? (-3.1415927410125732421875f) : 0.0f);
        float _670 = min(_649, _646);
        float _671 = max(_649, _646);
        float _680 = ((_596 == _597) && (_598 == _597)) ? 0.0f : ((((_670 < (-_670)) && (_671 >= (-_671))) ? (-_669) : _669) * 57.295780181884765625f);
        float _689 = mad(cb2_m22.x, -360.0f, (_680 < 0.0f) ? (_680 + 360.0f) : _680);
        float _699 = clamp(1.0f - (abs((_689 < (-180.0f)) ? (_689 + 360.0f) : ((_689 > 180.0f) ? (_689 - 360.0f) : _689)) / (cb2_m22.y * 180.0f)), 0.0f, 1.0f);
        float _704 = dp3_f32(float3(_596, _597, _598), float3(0.21269999444484710693359375f, 0.715200006961822509765625f, 0.07209999859333038330078125f));
        float _707 = (mad(_699, -2.0f, 3.0f) * (_699 * _699)) * cb2_m22.z;
        float _719 = mad(mad(_707, _596 - _704, _704) - _596, cb2_m21.w, _596);
        float _720 = mad(cb2_m21.w, mad(_707, _597 - _704, _704) - _597, _597);
        float _721 = mad(cb2_m21.w, mad(_707, _598 - _704, _704) - _598, _598);
        float _723;
        _723 = 0.0f;
        float _724;
        uint _727;
        uint _726 = 0u;
        for (;;)
        {
            if (_726 >= 8u)
            {
                break;
            }
            uint _738 = min((_726 & 3u), 10u);
            float _758 = mad(float(_726), 0.785398185253143310546875f, -_631);
            float _759 = _758 + 1.57079637050628662109375f;
            _724 = mad(_639 * (dp4_f32(t9.Load((_726 >> 2u) + 10u), float4(_279[_738].x, _279[_738].y, _279[_738].z, _279[_738].w)) * clamp((abs((_759 > 3.1415927410125732421875f) ? (_758 - 4.7123889923095703125f) : _759) - 2.19911479949951171875f) * 2.1220657825469970703125f, 0.0f, 1.0f)), 1.0f - _723, _723);
            _727 = _726 + 1u;
            _723 = _724;
            _726 = _727;
            continue;
        }
        float _770 = clamp(_723, 0.0f, 1.0f);
        float _788 = abs(t9.Load(8u).x);
        float2 _789 = float2(_599 * 1.40999996662139892578125f, _600 * 1.40999996662139892578125f);
        float _791 = sqrt(dp2_f32(_789, _789));
        float _792 = min(_791, 1.0f);
        float _793 = _792 * _792;
        float _798 = clamp(_791 - 0.5f, 0.0f, 1.0f);
        float _801 = (_792 * _793) + (mad(-_792, _793, 1.0f) * (_798 * _798));
        float _802 = mad(mad(mad(sin(asfloat(cb0_m[43u].w) * 6.0f), 0.5f, 0.5f), 0.089999973773956298828125f, 0.910000026226043701171875f), _788, -1.0f);
        float _804 = _637 + _802;
        float _806 = clamp((_638 + _802) * 1.53846156597137451171875f, 0.0f, 1.0f);
        float _812 = clamp(_804 + _804, 0.0f, 1.0f);
        float _823 = mad(sin(_637 * 17.52899932861328125f) + 1.0f, -0.1149999797344207763671875f, 0.89999997615814208984375f);
        float _830 = dp3_f32(float3(t10.Load(8u).xyz), float3(0.21269999444484710693359375f, 0.715200006961822509765625f, 0.07209999859333038330078125f));
        float _835 = mad(exp2(log2(abs(_830)) * 0.699999988079071044921875f), 0.10000002384185791015625f, 0.89999997615814208984375f);
        float _839 = _823 * (_835 * 0.02999999932944774627685546875f);
        float _840 = mad(_788, -0.3499999940395355224609375f, 0.3499999940395355224609375f);
        float _844 = mad(mad(-_801, _801, 1.0f), 1.0f - _840, _840);
        float _845 = min((exp2(log2(_801) * 0.699999988079071044921875f) * (mad(_812, -2.0f, 3.0f) * (_812 * _812))) + ((_806 * _806) * mad(_806, -2.0f, 3.0f)), 1.0f);
        float _855 = mad(_845, mad((_823 * _835) * 0.62000000476837158203125f, _844, mad(_719, _770, -_719)), mad(-_719, _770, _719));
        float _856 = mad(_845, mad(_844, _839, mad(_770, _720, -_720)), mad(-_770, _720, _720));
        float _857 = mad(_845, mad(_844, _839, mad(_770, _721, -_721)), mad(-_770, _721, _721));
        float _860 = mad(_637, _638 * (1.0f - _639), _639);
        float _862;
        _862 = 0.0f;
        float _863;
        uint _866;
        uint _865 = 0u;
        for (;;)
        {
            if (int(_865) >= 8)
            {
                break;
            }
            float4 _873 = t9.Load(_865);
            float _875 = _873.y;
            float _877 = _873.x - _631;
            _863 = mad(_860 * (_873.w * clamp((abs((_877 > 3.1415927410125732421875f) ? (_877 - 6.283185482025146484375f) : ((_877 < (-3.1415927410125732421875f)) ? (_877 + 6.283185482025146484375f) : _877)) + (_875 - 3.1415927410125732421875f)) / max(_875 * 0.699999988079071044921875f, 0.001000000047497451305389404296875f), 0.0f, 1.0f)), 1.0f - _862, _862);
            _866 = _865 + 1u;
            _862 = _863;
            _865 = _866;
            continue;
        }
        float _896 = clamp(_862 + _862, 0.0f, 1.0f) * 0.949999988079071044921875f;
        float _900 = mad(0.310000002384185791015625f - _855, _896, _855);
        float _901 = mad(0.014999999664723873138427734375f - _856, _896, _856);
        float _902 = mad(0.014999999664723873138427734375f - _857, _896, _857);
        float4 _903 = t9.Load(12u);
        float _904 = _903.x;
        float _932;
        float _933;
        float _934;
        if (_904 != 0.0f)
        {
            float _911 = clamp(_830, 0.0f, 1.0f);
            float _921 = clamp((_636 + (_904 - 1.0f)) / max(mad(_904, 0.5f, 0.5f), 0.001000000047497451305389404296875f), 0.0f, 1.0f);
            float _925 = clamp(_904 * 2.857142925262451171875f, 0.0f, 1.0f);
            float _928 = mad(_925, -2.0f, 3.0f) * (_925 * _925);
            _932 = mad(((_636 * 0.790000021457672119140625f) * _911) * _921, _928, _900);
            _933 = mad(((_636 * 0.85000002384185791015625f) * _911) * _921, _928, _901);
            _934 = mad(((_636 * 0.930000007152557373046875f) * _911) * _921, _928, _902);
        }
        else
        {
            _932 = _900;
            _933 = _901;
            _934 = _902;
        }
        _935 = _932;
        _936 = _933;
        _937 = _934;
    }
    else
    {
        _935 = _577;
        _936 = _578;
        _937 = _579;
    }
    float _942 = 1.0f / max(1.0f - max(max(_936, _937), _935), 6.099999882280826568603515625e-05f);
    float _949 = min(-(_942 * _935), 0.0f);
    float _950 = min(-(_942 * _936), 0.0f);
    float _951 = min(-(_942 * _937), 0.0f);
    float2 _954 = float2(_400 - 0.5f, _401 - 0.5f);
    float _965 = clamp(-((1.0f / cb2_m7.y) * (sqrt(dp2_f32(_954, _954)) - cb2_m7.x)), 0.0f, 1.0f);
    float _966 = mad(_965, -2.0f, 3.0f);
    float _967 = _965 * _965;
    float _968 = _966 * _967;
    float _970 = mad(-_966, _967, 1.0f);
    float _993 = cb2_m7.w * cb2_m7.z;
    float3 _1006 = float3(_404 ? (-_949) : mad(_949 + ((_970 * cb2_m5.x) - (_949 * _968)), _993, -_949), _404 ? (-_950) : mad(_993, ((_970 * cb2_m5.y) - (_968 * _950)) + _950, -_950), _404 ? (-_951) : mad(_993, ((_970 * cb2_m5.z) - (_968 * _951)) + _951, -_951));
#if 1
  float _1013 = (RENODX_TONE_MAP_TYPE == 0) ? min(dp3_f32(float3(0.4397009909152984619140625f, 0.3829779922962188720703125f, 0.1773349940776824951171875f), _1006) * 2.5f, 65504.0f) : min(dp3_f32(float3(0.4397009909152984619140625f, 0.3829779922962188720703125f, 0.1773349940776824951171875f), _1006), 65504.0f);
  float _1014 = (RENODX_TONE_MAP_TYPE == 0) ? min(dp3_f32(float3(0.08979229629039764404296875f, 0.813422977924346923828125f, 0.09676159918308258056640625f), _1006) * 2.5f, 65504.0f) : min(dp3_f32(float3(0.08979229629039764404296875f, 0.813422977924346923828125f, 0.09676159918308258056640625f), _1006), 65504.0f);
  float _1015 = (RENODX_TONE_MAP_TYPE == 0) ? min(dp3_f32(float3(0.01754399947822093963623046875f, 0.11154399812221527099609375f, 0.870703995227813720703125f), _1006) * 2.5f, 65504.0f) : min(dp3_f32(float3(0.01754399947822093963623046875f, 0.11154399812221527099609375f, 0.870703995227813720703125f), _1006), 65504.0f);
#endif
    float _1019 = max(max(_1014, _1013), _1015);
    float _1024 = (max(_1019, 9.9999997473787516355514526367188e-05f) - max(min(min(_1014, _1013), _1015), 9.9999997473787516355514526367188e-05f)) / max(_1019, 0.00999999977648258209228515625f);
    float _1035 = mad(sqrt(mad(_1013 - _1015, _1013, ((_1015 - _1014) * _1015) + ((_1014 - _1013) * _1014))), 1.75f, (_1015 + _1014) + _1013);
    float _1036 = _1024 - 0.4000000059604644775390625f;
    float _1040 = max(1.0f - abs(_1036 * 2.5f), 0.0f);
    float _1048 = mad(mad(clamp(mad(_1036, asfloat(0x7f800000u /* inf */), 0.5f), 0.0f, 1.0f), 2.0f, -1.0f), mad(-_1040, _1040, 1.0f), 1.0f) * 0.02500000037252902984619140625f;
    float _1056 = ((_1035 <= 0.1599999964237213134765625f) ? _1048 : ((_1035 >= 0.4799999892711639404296875f) ? 0.0f : (((0.07999999821186065673828125f / (_1035 * 0.3333333432674407958984375f)) - 0.5f) * _1048))) + 1.0f;
    float _1057 = _1056 * _1013;
    float _1058 = _1056 * _1014;
    float _1059 = _1056 * _1015;
    float _1064 = (_1058 - _1059) * 1.73205077648162841796875f;
    float _1066 = (_1057 * 2.0f) - _1058;
    float _1068 = mad(-_1056, _1015, _1066);
    float _1069 = abs(_1068);
    float _1070 = abs(_1064);
    float _1074 = min(_1069, _1070) * (1.0f / max(_1069, _1070));
    float _1075 = _1074 * _1074;
    float _1079 = mad(_1075, mad(_1075, mad(_1075, mad(_1075, 0.02083509974181652069091796875f, -0.08513300120830535888671875f), 0.1801410019397735595703125f), -0.33029949665069580078125f), 0.999866008758544921875f);
    float _1089 = mad(_1074, _1079, (_1069 < _1070) ? mad(_1074 * _1079, -2.0f, 1.57079637050628662109375f) : 0.0f) + ((_1068 < mad(_1056, _1015, -_1066)) ? (-3.1415927410125732421875f) : 0.0f);
    float _1090 = min(_1064, _1068);
    float _1091 = max(_1064, _1068);
    float _1100 = ((_1057 == _1058) && (_1059 == _1058)) ? 0.0f : ((((_1090 < (-_1090)) && (_1091 >= (-_1091))) ? (-_1089) : _1089) * 57.295780181884765625f);
    float _1103 = (_1100 < 0.0f) ? (_1100 + 360.0f) : _1100;
    float _1113 = max(1.0f - abs(((_1103 < (-180.0f)) ? (_1103 + 360.0f) : ((_1103 > 180.0f) ? (_1103 - 360.0f) : _1103)) * 0.01481481455266475677490234375f), 0.0f);
    float _1116 = mad(_1113, -2.0f, 3.0f) * (_1113 * _1113);
    float3 _1127 = float3(clamp(_1057 + (((_1024 * (_1116 * _1116)) * mad(-_1056, _1013, 0.02999999932944774627685546875f)) * 0.180000007152557373046875f), 0.0f, 65504.0f), clamp(_1058, 0.0f, 65504.0f), clamp(_1059, 0.0f, 65504.0f));
    float _1131 = clamp(dp3_f32(float3(1.45143926143646240234375f, -0.236510753631591796875f, -0.214928567409515380859375f), _1127), 0.0f, 65504.0f);
    float _1132 = clamp(dp3_f32(float3(-0.07655377686023712158203125f, 1.1762297153472900390625f, -0.0996759235858917236328125f), _1127), 0.0f, 65504.0f);
    float _1133 = clamp(dp3_f32(float3(0.0083161480724811553955078125f, -0.0060324496589601039886474609375f, 0.99771630764007568359375f), _1127), 0.0f, 65504.0f);

    float _1135 = dp3_f32(float3(_1131, _1132, _1133), float3(0.2722289860248565673828125f, 0.674081981182098388671875f, 0.0536894984543323516845703125f));
    float _1139 = mad(_1131 - _1135, 0.959999978542327880859375f, _1135);
    float _1140 = mad(_1132 - _1135, 0.959999978542327880859375f, _1135);
    float _1141 = mad(_1133 - _1135, 0.959999978542327880859375f, _1135);
#if 1
  if (RENODX_TONE_MAP_TYPE != 0) {
    u0[_574] = float4(CustomACES(float3(_1139, _1140, _1141)), 1.f);
    return;
  }
#endif

    float _1148 = (_1139 <= 0.0f) ? (-14.0f) : log2(_1139);
    float _1149 = (_1140 <= 0.0f) ? (-14.0f) : log2(_1140);
    float _1150 = (_1141 <= 0.0f) ? (-14.0f) : log2(_1141);
    float _1237;
    if (_1148 <= (-17.4739322662353515625f))
    {
        _1237 = -4.0f;
    }
    else
    {
        float _1236;
        if (_1148 < (-2.4739310741424560546875f))
        {
            float _1161 = mad(_1148, 0.3010300099849700927734375f, 5.2601776123046875f);
            float _1162 = _1161 * 0.6643855571746826171875f;
            int _1163 = cvt_f32_i32(_1162);
            float _1166 = mad(_1161, 0.6643855571746826171875f, -trunc(_1162));
            uint _1172 = min(uint(_1163 + 4), 10u);
            uint _1178 = min(uint((_1163 + 1) + 4), 10u);
            uint _1184 = min(uint((_1163 + 2) + 4), 10u);
            float2 _1190 = float2(_279[_1172].x, _279[_1178].x);
            _1236 = dp3_f32(float3(_1166 * _1166, _1166, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(_279[_1172].x, _279[_1178].x, _279[_1184].x)), dp2_f32(float2(-1.0f, 1.0f), _1190), dp2_f32(0.5f.xx, _1190)));
        }
        else
        {
            float _1235;
            if (_1148 < 15.52606868743896484375f)
            {
                float _1200 = mad(_1148, 0.3010300099849700927734375f, 0.74472749233245849609375f);
                float _1201 = _1200 * 0.55365467071533203125f;
                int _1202 = cvt_f32_i32(_1201);
                float _1205 = mad(_1200, 0.55365467071533203125f, -trunc(_1201));
                uint _1211 = min(uint(_1202 + 4), 10u);
                uint _1217 = min(uint((_1202 + 1) + 4), 10u);
                uint _1223 = min(uint((_1202 + 2) + 4), 10u);
                float2 _1229 = float2(_279[_1211].y, _279[_1217].y);
                _1235 = dp3_f32(float3(_1205 * _1205, _1205, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(_279[_1211].y, _279[_1217].y, _279[_1223].y)), dp2_f32(float2(-1.0f, 1.0f), _1229), dp2_f32(0.5f.xx, _1229)));
            }
            else
            {
                _1235 = 4.0f;
            }
            _1236 = _1235;
        }
        _1237 = _1236;
    }
    float _1323;
    if (_1149 <= (-17.4739322662353515625f))
    {
        _1323 = -4.0f;
    }
    else
    {
        float _1322;
        if (_1149 < (-2.4739310741424560546875f))
        {
            float _1247 = mad(_1149, 0.3010300099849700927734375f, 5.2601776123046875f);
            float _1248 = _1247 * 0.6643855571746826171875f;
            int _1249 = cvt_f32_i32(_1248);
            float _1252 = mad(_1247, 0.6643855571746826171875f, -trunc(_1248));
            uint _1258 = min(uint(_1249 + 4), 10u);
            uint _1264 = min(uint((_1249 + 1) + 4), 10u);
            uint _1270 = min(uint((_1249 + 2) + 4), 10u);
            float2 _1276 = float2(_279[_1258].x, _279[_1264].x);
            _1322 = dp3_f32(float3(_1252 * _1252, _1252, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(_279[_1258].x, _279[_1264].x, _279[_1270].x)), dp2_f32(float2(-1.0f, 1.0f), _1276), dp2_f32(0.5f.xx, _1276)));
        }
        else
        {
            float _1321;
            if (_1149 < 15.52606868743896484375f)
            {
                float _1286 = mad(_1149, 0.3010300099849700927734375f, 0.74472749233245849609375f);
                float _1287 = _1286 * 0.55365467071533203125f;
                int _1288 = cvt_f32_i32(_1287);
                float _1291 = mad(_1286, 0.55365467071533203125f, -trunc(_1287));
                uint _1297 = min(uint(_1288 + 4), 10u);
                uint _1303 = min(uint((_1288 + 1) + 4), 10u);
                uint _1309 = min(uint((_1288 + 2) + 4), 10u);
                float2 _1315 = float2(_279[_1297].y, _279[_1303].y);
                _1321 = dp3_f32(float3(_1291 * _1291, _1291, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(_279[_1297].y, _279[_1303].y, _279[_1309].y)), dp2_f32(float2(-1.0f, 1.0f), _1315), dp2_f32(0.5f.xx, _1315)));
            }
            else
            {
                _1321 = 4.0f;
            }
            _1322 = _1321;
        }
        _1323 = _1322;
    }
    float _1409;
    if (_1150 <= (-17.4739322662353515625f))
    {
        _1409 = -4.0f;
    }
    else
    {
        float _1408;
        if (_1150 < (-2.4739310741424560546875f))
        {
            float _1333 = mad(_1150, 0.3010300099849700927734375f, 5.2601776123046875f);
            float _1334 = _1333 * 0.6643855571746826171875f;
            int _1335 = cvt_f32_i32(_1334);
            float _1338 = mad(_1333, 0.6643855571746826171875f, -trunc(_1334));
            uint _1344 = min(uint(_1335 + 4), 10u);
            uint _1350 = min(uint((_1335 + 1) + 4), 10u);
            uint _1356 = min(uint((_1335 + 2) + 4), 10u);
            float2 _1362 = float2(_279[_1344].x, _279[_1350].x);
            _1408 = dp3_f32(float3(_1338 * _1338, _1338, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(_279[_1344].x, _279[_1350].x, _279[_1356].x)), dp2_f32(float2(-1.0f, 1.0f), _1362), dp2_f32(0.5f.xx, _1362)));
        }
        else
        {
            float _1407;
            if (_1150 < 15.52606868743896484375f)
            {
                float _1372 = mad(_1150, 0.3010300099849700927734375f, 0.74472749233245849609375f);
                float _1373 = _1372 * 0.55365467071533203125f;
                int _1374 = cvt_f32_i32(_1373);
                float _1377 = mad(_1372, 0.55365467071533203125f, -trunc(_1373));
                uint _1383 = min(uint(_1374 + 4), 10u);
                uint _1389 = min(uint((_1374 + 1) + 4), 10u);
                uint _1395 = min(uint((_1374 + 2) + 4), 10u);
                float2 _1401 = float2(_279[_1383].y, _279[_1389].y);
                _1407 = dp3_f32(float3(_1377 * _1377, _1377, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(_279[_1383].y, _279[_1389].y, _279[_1395].y)), dp2_f32(float2(-1.0f, 1.0f), _1401), dp2_f32(0.5f.xx, _1401)));
            }
            else
            {
                _1407 = 4.0f;
            }
            _1408 = _1407;
        }
        _1409 = _1408;
    }
    float3 _1412 = float3(exp2(_1237 * 3.3219280242919921875f), exp2(_1323 * 3.3219280242919921875f), exp2(_1409 * 3.3219280242919921875f));
    float3 _1416 = float3(dp3_f32(float3(0.695452213287353515625f, 0.140678703784942626953125f, 0.16386906802654266357421875f), _1412), dp3_f32(float3(0.0447945632040500640869140625f, 0.859671115875244140625f, 0.095534317195415496826171875f), _1412), dp3_f32(float3(-0.0055258828215301036834716796875f, 0.0040252101607620716094970703125f, 1.00150072574615478515625f), _1412));
    float _1417 = dp3_f32(float3(1.45143926143646240234375f, -0.236510753631591796875f, -0.214928567409515380859375f), _1416);
    float _1418 = dp3_f32(float3(-0.07655377686023712158203125f, 1.1762297153472900390625f, -0.0996759235858917236328125f), _1416);
    float _1419 = dp3_f32(float3(0.0083161480724811553955078125f, -0.0060324496589601039886474609375f, 0.99771630764007568359375f), _1416);
    float _1423 = (_1417 <= 0.0f) ? (-4.0f) : (log2(_1417) * 0.3010300099849700927734375f);
    float _1427 = log2(cb1_m[19u].y);
    float _1428 = _1427 * 0.3010300099849700927734375f;
    float _1536;
    if (_1428 >= _1423)
    {
        _1536 = mad(cb1_m[21u].x, _1423, (log2(cb1_m[19u].z) * 0.3010300099849700927734375f) - (_1428 * cb1_m[21u].x));
    }
    else
    {
        float _1445 = log2(cb1_m[20u].x);
        float _1446 = _1445 * 0.3010300099849700927734375f;
        float _1535;
        if ((_1428 < _1423) && (_1446 > _1423))
        {
            float _1455 = (mad(_1427, -0.3010300099849700927734375f, _1423) * 7.0f) / (_1446 - _1428);
            int _1456 = cvt_f32_i32(_1455);
            float _1458 = _1455 - trunc(_1455);
            uint _1460 = uint(_1456 + 1);
            uint _1462 = uint(_1456 + 2);
            uint _1464 = uint(_1456);
            float2 _1476 = float2(cb1_m[_1464].x, cb1_m[_1460].x);
            _1535 = dp3_f32(float3(_1458 * _1458, _1458, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(cb1_m[_1464].x, cb1_m[_1460].x, cb1_m[_1462].x)), dp2_f32(float2(-1.0f, 1.0f), _1476), dp2_f32(0.5f.xx, _1476)));
        }
        else
        {
            float _1486 = log2(cb1_m[20u].z) * 0.3010300099849700927734375f;
            float _1534;
            if ((_1446 <= _1423) && (_1486 > _1423))
            {
                float _1495 = (mad(_1445, -0.3010300099849700927734375f, _1423) * 7.0f) / (_1486 - _1446);
                int _1496 = cvt_f32_i32(_1495);
                float _1498 = _1495 - trunc(_1495);
                uint _1503 = uint(_1496 + 10);
                uint _1508 = uint((_1496 + 1) + 10);
                uint _1513 = uint((_1496 + 2) + 10);
                float2 _1519 = float2(cb1_m[_1503].x, cb1_m[_1508].x);
                _1534 = dp3_f32(float3(_1498 * _1498, _1498, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(cb1_m[_1503].x, cb1_m[_1508].x, cb1_m[_1513].x)), dp2_f32(float2(-1.0f, 1.0f), _1519), dp2_f32(0.5f.xx, _1519)));
            }
            else
            {
                _1534 = mad(cb1_m[21u].y, _1423, (log2(cb1_m[20u].w) * 0.3010300099849700927734375f) - (_1486 * cb1_m[21u].y));
            }
            _1535 = _1534;
        }
        _1536 = _1535;
    }
    float _1540 = (_1418 <= 0.0f) ? (-4.0f) : (log2(_1418) * 0.3010300099849700927734375f);
    float _1648;
    if (_1428 >= _1540)
    {
        _1648 = mad(cb1_m[21u].x, _1540, (log2(cb1_m[19u].z) * 0.3010300099849700927734375f) - (_1428 * cb1_m[21u].x));
    }
    else
    {
        float _1557 = log2(cb1_m[20u].x);
        float _1558 = _1557 * 0.3010300099849700927734375f;
        float _1647;
        if ((_1428 < _1540) && (_1558 > _1540))
        {
            float _1567 = (mad(_1427, -0.3010300099849700927734375f, _1540) * 7.0f) / (_1558 - _1428);
            int _1568 = cvt_f32_i32(_1567);
            float _1570 = _1567 - trunc(_1567);
            uint _1572 = uint(_1568 + 1);
            uint _1574 = uint(_1568 + 2);
            uint _1576 = uint(_1568);
            float2 _1588 = float2(cb1_m[_1576].x, cb1_m[_1572].x);
            _1647 = dp3_f32(float3(_1570 * _1570, _1570, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(cb1_m[_1576].x, cb1_m[_1572].x, cb1_m[_1574].x)), dp2_f32(float2(-1.0f, 1.0f), _1588), dp2_f32(0.5f.xx, _1588)));
        }
        else
        {
            float _1598 = log2(cb1_m[20u].z) * 0.3010300099849700927734375f;
            float _1646;
            if ((_1558 <= _1540) && (_1598 > _1540))
            {
                float _1607 = (mad(_1557, -0.3010300099849700927734375f, _1540) * 7.0f) / (_1598 - _1558);
                int _1608 = cvt_f32_i32(_1607);
                float _1610 = _1607 - trunc(_1607);
                uint _1615 = uint(_1608 + 10);
                uint _1620 = uint((_1608 + 1) + 10);
                uint _1625 = uint((_1608 + 2) + 10);
                float2 _1631 = float2(cb1_m[_1615].x, cb1_m[_1620].x);
                _1646 = dp3_f32(float3(_1610 * _1610, _1610, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(cb1_m[_1615].x, cb1_m[_1620].x, cb1_m[_1625].x)), dp2_f32(float2(-1.0f, 1.0f), _1631), dp2_f32(0.5f.xx, _1631)));
            }
            else
            {
                _1646 = mad(cb1_m[21u].y, _1540, (log2(cb1_m[20u].w) * 0.3010300099849700927734375f) - (_1598 * cb1_m[21u].y));
            }
            _1647 = _1646;
        }
        _1648 = _1647;
    }
    float _1652 = (_1419 <= 0.0f) ? (-4.0f) : (log2(_1419) * 0.3010300099849700927734375f);
    float _1760;
    if (_1428 >= _1652)
    {
        _1760 = mad(cb1_m[21u].x, _1652, (log2(cb1_m[19u].z) * 0.3010300099849700927734375f) - (_1428 * cb1_m[21u].x));
    }
    else
    {
        float _1669 = log2(cb1_m[20u].x);
        float _1670 = _1669 * 0.3010300099849700927734375f;
        float _1759;
        if ((_1428 < _1652) && (_1670 > _1652))
        {
            float _1679 = (mad(_1427, -0.3010300099849700927734375f, _1652) * 7.0f) / (_1670 - _1428);
            int _1680 = cvt_f32_i32(_1679);
            float _1682 = _1679 - trunc(_1679);
            uint _1684 = uint(_1680 + 1);
            uint _1686 = uint(_1680 + 2);
            uint _1688 = uint(_1680);
            float2 _1700 = float2(cb1_m[_1688].x, cb1_m[_1684].x);
            _1759 = dp3_f32(float3(_1682 * _1682, _1682, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(cb1_m[_1688].x, cb1_m[_1684].x, cb1_m[_1686].x)), dp2_f32(float2(-1.0f, 1.0f), _1700), dp2_f32(0.5f.xx, _1700)));
        }
        else
        {
            float _1710 = log2(cb1_m[20u].z) * 0.3010300099849700927734375f;
            float _1758;
            if ((_1670 <= _1652) && (_1710 > _1652))
            {
                float _1719 = (mad(_1669, -0.3010300099849700927734375f, _1652) * 7.0f) / (_1710 - _1670);
                int _1720 = cvt_f32_i32(_1719);
                float _1722 = _1719 - trunc(_1719);
                uint _1727 = uint(_1720 + 10);
                uint _1732 = uint((_1720 + 1) + 10);
                uint _1737 = uint((_1720 + 2) + 10);
                float2 _1743 = float2(cb1_m[_1727].x, cb1_m[_1732].x);
                _1758 = dp3_f32(float3(_1722 * _1722, _1722, 1.0f), float3(dp3_f32(float3(0.5f, -1.0f, 0.5f), float3(cb1_m[_1727].x, cb1_m[_1732].x, cb1_m[_1737].x)), dp2_f32(float2(-1.0f, 1.0f), _1743), dp2_f32(0.5f.xx, _1743)));
            }
            else
            {
                _1758 = mad(cb1_m[21u].y, _1652, (log2(cb1_m[20u].w) * 0.3010300099849700927734375f) - (_1710 * cb1_m[21u].y));
            }
            _1759 = _1758;
        }
        _1760 = _1759;
    }
    if (_580)
    {
        float3 _1772 = float3(exp2(_1536 * 3.3219280242919921875f) - 3.5073844628641381859779357910156e-05f, exp2(_1648 * 3.3219280242919921875f) - 3.5073844628641381859779357910156e-05f, exp2(_1760 * 3.3219280242919921875f) - 3.5073844628641381859779357910156e-05f);
        float3 _1776 = float3(dp3_f32(float3(0.662454187870025634765625f, 0.1340042054653167724609375f, 0.1561876833438873291015625f), _1772), dp3_f32(float3(0.272228717803955078125f, 0.674081742763519287109375f, 0.053689517080783843994140625f), _1772), dp3_f32(float3(-0.0055746496655046939849853515625f, 0.0040607335977256298065185546875f, 1.01033914089202880859375f), _1772));
        float3 _1780 = float3(dp3_f32(float3(0.98722398281097412109375f, -0.0061132698319852352142333984375f, 0.01595330052077770233154296875f), _1776), dp3_f32(float3(-0.007598360069096088409423828125f, 1.00186002254486083984375f, 0.0053301998414099216461181640625f), _1776), dp3_f32(float3(0.003072570078074932098388671875f, -0.0050959498621523380279541015625f, 1.0816800594329833984375f), _1776));
        float _1789 = exp2(log2(abs(dp3_f32(float3(1.71665096282958984375f, -0.35567080974578857421875f, -0.2533662319183349609375f), _1780) * 9.9999997473787516355514526367188e-05f)) * 0.1593017578125f);
        float _1800 = exp2(log2(abs(dp3_f32(float3(-0.666684329509735107421875f, 1.616481304168701171875f, 0.0157685391604900360107421875f), _1780) * 9.9999997473787516355514526367188e-05f)) * 0.1593017578125f);
        float _1810 = exp2(log2(abs(dp3_f32(float3(0.0176398493349552154541015625f, -0.04277060925960540771484375f, 0.94210326671600341796875f), _1780) * 9.9999997473787516355514526367188e-05f)) * 0.1593017578125f);
        u0[_574] = float4(min(exp2(log2(mad(_1789, 18.8515625f, 0.8359375f) / mad(_1789, 18.6875f, 1.0f)) * 78.84375f), 1.0f), min(exp2(log2(mad(_1800, 18.8515625f, 0.8359375f) / mad(_1800, 18.6875f, 1.0f)) * 78.84375f), 1.0f), min(exp2(log2(mad(_1810, 18.8515625f, 0.8359375f) / mad(_1810, 18.6875f, 1.0f)) * 78.84375f), 1.0f), 1.0f);
    }
}

[numthreads(8, 8, 1)]
void main(SPIRV_Cross_Input stage_input)
{
    gl_LocalInvocationID = stage_input.gl_LocalInvocationID;
    gl_GlobalInvocationID = stage_input.gl_GlobalInvocationID;
    comp_main();
}
