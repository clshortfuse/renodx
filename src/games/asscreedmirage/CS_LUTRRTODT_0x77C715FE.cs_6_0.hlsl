#include "./tonemap.hlsli"
RWTexture3D<float4> u0_space6 : register(u0, space6);

cbuffer cb0_space6 : register(b0, space6) {
  float cb0_space6_003w : packoffset(c003.w);
  float cb0_space6_004x : packoffset(c004.x);
};

static const float _global_0[5] = { -4.0f, -4.0f, -3.157376527786255f, -0.48524999618530273f, 1.847732424736023f };
static const float _global_1[5] = { -0.7185482382774353f, 2.0810306072235107f, 3.668124198913574f, 4.0f, 4.0f };

[numthreads(16, 16, 1)]
void main(
    uint3 SV_DispatchThreadID: SV_DispatchThreadID,
    uint3 SV_GroupID: SV_GroupID,
    uint3 SV_GroupThreadID: SV_GroupThreadID,
    uint SV_GroupIndex: SV_GroupIndex) {
  float _6[9];
  float _7[9];

  float exposure = cb0_space6_004x;

  const float diffuse_white_nits = cb0_space6_004x * 203.f;  // 203 paper white at exposure slider 0.0
  const float peak_nits = cb0_space6_003w;
  bool is_hdr = !(cb0_space6_003w < 48.0f);

#if 1
  if (RENODX_TONE_MAP_TYPE != 0.f) {  // ShortFuse ACES - HDR only
    if (is_hdr) {                     // HDR
      float3 untonemapped_ap1 = exp2(float3(SV_DispatchThreadID.rgb) * 0.6451612710952759f) + (-12.473931312561035f);
      untonemapped_ap1 /= 5600.f;  // match exposure level before LUT encoding

      u0_space6[SV_DispatchThreadID] = float4(ApplyToneMapEncodePQ(untonemapped_ap1, peak_nits, diffuse_white_nits), 1.f);
      return;
    }
  }
#endif

  float _22 = exposure * exp2((float((uint)SV_DispatchThreadID.x) * 0.6451612710952759f) + -12.473931312561035f);
  float _23 = exposure * exp2((float((uint)SV_DispatchThreadID.y) * 0.6451612710952759f) + -12.473931312561035f);
  float _24 = exposure * exp2((float((uint)SV_DispatchThreadID.z) * 0.6451612710952759f) + -12.473931312561035f);

  // Mismatched color conversion???
  // BT.2020 -> XYZ
  float _27 = mad(_24, 0.16888095438480377f, mad(_23, 0.14461688697338104f, (_22 * 0.6369581818580627f)));
  float _30 = mad(_24, 0.0593017116189003f, mad(_23, 0.6779980063438416f, (_22 * 0.26270025968551636f)));
  float _32 = mad(_24, 1.0609849691390991f, mad(_23, 0.02807268314063549f, 0.0f));

  // XYZ -> AP0
  float _34 = mad(_32, -9.748452430358157e-05f, (_27 * 1.0498108863830566f));
  float _37 = mad(_32, 0.09824004769325256f, mad(_30, 1.3733131885528564f, (_27 * -0.4959030747413635f)));
  float _40 = mad(_32, 0.991252064704895f, mad(_30, -0.0f, (_27 * 4.020908050961225e-08f)));
  float _42 = max(_34, max(_37, _40));
  float _49 = (max(_42, 1.000000013351432e-10f) - max(min(_34, min(_37, _40)), 1.000000013351432e-10f)) / max(_42, 0.009999999776482582f);
  float _63 = ((_37 + _34) + _40) + (sqrt(max(((((_40 - _37) * _40) + ((_37 - _34) * _37)) + ((_34 - _40) * _34)), 0.0f)) * 1.75f);
  float _64 = _63 * 0.3333333432674408f;
  float _65 = _49 + -0.4000000059604645f;
  float _66 = _65 * 5.0f;
  float _70 = max((1.0f - abs(_65 * 2.5f)), 0.0f);
  float _76;
  float _90;
  float _123;
  float _135;
  float _174;
  float _264;
  float _322;
  float _380;
  float _455;
  float _456;
  float _457;
  float _458;
  float _459;
  float _460;
  float _461;
  float _462;
  float _463;
  float _464;
  float _465;
  float _466;
  float _467;
  float _468;
  float _469;
  float _470;
  float _471;
  float _472;
  float _473;
  float _474;
  float _475;
  float _476;
  float _477;
  float _478;
  float _479;
  float _480;
  float _481;
  float _482;
  float _483;
  float _484;
  float _485;
  float _486;
  float _487;
  float _488;
  float _489;
  float _490;
  float _662;
  float _728;
  float _738;
  float _739;
  float _740;
  float _741;
  float _742;
  float _819;
  float _896;
  float _973;
  if (!(_66 < 0.0f)) {
    if (!(_66 > 0.0f)) {
      _76 = 0.0f;
    } else {
      _76 = 1.0f;
    }
  } else {
    _76 = -1.0f;
  }
  float _81 = ((_76 * (1.0f - (_70 * _70))) + 1.0f) * 0.02500000037252903f;
  if (!(_64 <= 0.0533333346247673f)) {
    if (!(_64 >= 0.1599999964237213f)) {
      _90 = (((0.23999999463558197f / _63) + -0.5f) * _81);
    } else {
      _90 = 0.0f;
    }
  } else {
    _90 = _81;
  }
  float _91 = _90 + 1.0f;
  float _92 = _91 * _34;
  float _93 = _91 * _37;
  float _94 = _91 * _40;
  if (!((bool)(_92 == _93) && (bool)(_93 == _94))) {
    float _101 = ((_92 * 2.0f) - _93) - _94;
    float _104 = ((_37 - _40) * 1.7320507764816284f) * _91;
    float _106 = atan(_104 / _101);
    bool _109 = (_101 < 0.0f);
    bool _110 = (_101 == 0.0f);
    bool _111 = (_104 >= 0.0f);
    bool _112 = (_104 < 0.0f);
    _123 = select((_111 && _110), 90.0f, select((_112 && _110), -90.0f, (select((_112 && _109), (_106 + -3.1415927410125732f), select((_111 && _109), (_106 + 3.1415927410125732f), _106)) * 57.2957763671875f)));
  } else {
    // decompiled incorrectly
    _123 = asfloat(0xffc10000u /* nan */);  // _123 = -nan.0f;
  }
  float _126 = select((_123 < 0.0f), (_123 + 360.0f), _123);
  if (_126 < -180.0f) {
    _135 = (_126 + 360.0f);
  } else {
    if (_126 > 180.0f) {
      _135 = (_126 + -360.0f);
    } else {
      _135 = _126;
    }
  }
  if ((bool)(_135 > -67.5f) && (bool)(_135 < 67.5f)) {
    float _141 = (_135 + 67.5f) * 0.029629629105329514f;
    int _142 = int(_141);
    float _144 = _141 - float((int)(_142));
    float _145 = _144 * _144;
    float _146 = _145 * _144;
    if (_142 == 3) {
      _174 = (((0.1666666716337204f - (_144 * 0.5f)) + (_145 * 0.5f)) - (_146 * 0.1666666716337204f));
    } else {
      if (_142 == 2) {
        _174 = ((0.6666666865348816f - _145) + (_146 * 0.5f));
      } else {
        if (_142 == 1) {
          _174 = (((_146 * -0.5f) + 0.1666666716337204f) + ((_145 + _144) * 0.5f));
        } else {
          _174 = select((_142 == 0), (_146 * 0.1666666716337204f), 0.0f);
        }
      }
    }
  } else {
    _174 = 0.0f;
  }
  float _181 = max(0.0f, min(((((_49 * 0.27000001072883606f) * (0.029999999329447746f - _92)) * _174) + _92), 65520.0f));
  float _183 = max(0.0f, min(_93, 65520.0f));
  float _185 = max(0.0f, min(_94, 65520.0f));

  // AP0 -> AP1
  float _196 = max(0.0f, min(mad(_185, -0.2149285525083542f, mad(_183, -0.2365107238292694f, (_181 * 1.451439380645752f))), 65504.0f));
  float _198 = max(0.0f, min(mad(_185, -0.09967594593763351f, mad(_183, 1.1762299537658691f, (_181 * -0.07655376195907593f))), 65504.0f));
  float _200 = max(0.0f, min(mad(_185, 0.9977161884307861f, mad(_183, -0.0060324473306536674f, (_181 * 0.008316127583384514f))), 65504.0f));

#if 0
  if (is_hdr) {
    u0_space6[SV_DispatchThreadID] = float4(ApplyToneMapEncodePQ(float3(_196, _198, _200) * 0.85f, peak_nits, diffuse_white_nits, false), 1.f);
    return;
  }
#endif

  float _204 = _196 * 0.01088915579020977f;
  float _210 = log2(max(mad(_200, 0.0021475818939507008f, mad(_198, 0.026963278651237488f, (_196 * 0.970889151096344f))), 5.960464477539063e-08f));
  float _211 = _210 * 0.3010300099849701f;
  if (!(_211 <= -5.2601776123046875f)) {
    if ((bool)(_211 > -5.2601776123046875f) && (bool)(_211 < -0.7447274923324585f)) {
      float _219 = (_210 * 0.19999998807907104f) + 3.494786262512207f;
      int _220 = int(_219);
      float _222 = _219 - float((int)(_220));
      float _224 = _global_0[_220];
      float _227 = _global_0[(_220 + 1)];
      float _232 = _224 * 0.5f;
      _264 = dot(float3((_222 * _222), _222, 1.0f), float3(mad((_global_0[(_220 + 2)]), 0.5f, mad(_227, -1.0f, _232)), (_227 - _224), mad(_227, 0.5f, _232)));
    } else {
      if ((bool)(_211 >= -0.7447274923324585f) && (bool)(_211 < 4.673812389373779f)) {
        float _244 = (_210 * 0.1666666567325592f) + 0.4123218357563019f;
        int _245 = int(_244);
        float _247 = _244 - float((int)(_245));
        float _249 = _global_1[_245];
        float _252 = _global_1[(_245 + 1)];
        float _257 = _249 * 0.5f;
        _264 = dot(float3((_247 * _247), _247, 1.0f), float3(mad((_global_1[(_245 + 2)]), 0.5f, mad(_252, -1.0f, _257)), (_252 - _249), mad(_252, 0.5f, _257)));
      } else {
        _264 = 4.0f;
      }
    }
  } else {
    _264 = -4.0f;
  }
  float _266 = exp2(_264 * 3.321928024291992f);
  float _268 = log2(max(mad(_200, 0.0021475818939507008f, mad(_198, 0.9869632720947266f, _204)), 5.960464477539063e-08f));
  float _269 = _268 * 0.3010300099849701f;
  if (!(_269 <= -5.2601776123046875f)) {
    if ((bool)(_269 > -5.2601776123046875f) && (bool)(_269 < -0.7447274923324585f)) {
      float _277 = (_268 * 0.19999998807907104f) + 3.494786262512207f;
      int _278 = int(_277);
      float _280 = _277 - float((int)(_278));
      float _282 = _global_0[_278];
      float _285 = _global_0[(_278 + 1)];
      float _290 = _282 * 0.5f;
      _322 = dot(float3((_280 * _280), _280, 1.0f), float3(mad((_global_0[(_278 + 2)]), 0.5f, mad(_285, -1.0f, _290)), (_285 - _282), mad(_285, 0.5f, _290)));
    } else {
      if ((bool)(_269 >= -0.7447274923324585f) && (bool)(_269 < 4.673812389373779f)) {
        float _302 = (_268 * 0.1666666567325592f) + 0.4123218357563019f;
        int _303 = int(_302);
        float _305 = _302 - float((int)(_303));
        float _307 = _global_1[_303];
        float _310 = _global_1[(_303 + 1)];
        float _315 = _307 * 0.5f;
        _322 = dot(float3((_305 * _305), _305, 1.0f), float3(mad((_global_1[(_303 + 2)]), 0.5f, mad(_310, -1.0f, _315)), (_310 - _307), mad(_310, 0.5f, _315)));
      } else {
        _322 = 4.0f;
      }
    }
  } else {
    _322 = -4.0f;
  }
  float _324 = exp2(_322 * 3.321928024291992f);
  float _326 = log2(max(mad(_200, 0.9621475338935852f, mad(_198, 0.026963278651237488f, _204)), 5.960464477539063e-08f));
  float _327 = _326 * 0.3010300099849701f;
  if (!(_327 <= -5.2601776123046875f)) {
    if ((bool)(_327 > -5.2601776123046875f) && (bool)(_327 < -0.7447274923324585f)) {
      float _335 = (_326 * 0.19999998807907104f) + 3.494786262512207f;
      int _336 = int(_335);
      float _338 = _335 - float((int)(_336));
      float _340 = _global_0[_336];
      float _343 = _global_0[(_336 + 1)];
      float _348 = _340 * 0.5f;
      _380 = dot(float3((_338 * _338), _338, 1.0f), float3(mad((_global_0[(_336 + 2)]), 0.5f, mad(_343, -1.0f, _348)), (_343 - _340), mad(_343, 0.5f, _348)));
    } else {
      if ((bool)(_327 >= -0.7447274923324585f) && (bool)(_327 < 4.673812389373779f)) {
        float _360 = (_326 * 0.1666666567325592f) + 0.4123218357563019f;
        int _361 = int(_360);
        float _363 = _360 - float((int)(_361));
        float _365 = _global_1[_361];
        float _368 = _global_1[(_361 + 1)];
        float _373 = _365 * 0.5f;
        _380 = dot(float3((_363 * _363), _363, 1.0f), float3(mad((_global_1[(_361 + 2)]), 0.5f, mad(_368, -1.0f, _373)), (_368 - _365), mad(_368, 0.5f, _373)));
      } else {
        _380 = 4.0f;
      }
    }
  } else {
    _380 = -4.0f;
  }
  float _382 = exp2(_380 * 3.321928024291992f);

  // AP1 -> AP0
  float _385 = mad(_382, 0.16386906802654266f, mad(_324, 0.14067865908145905f, (_266 * 0.6954522132873535f)));
  float _388 = mad(_382, 0.0955343171954155f, mad(_324, 0.8596709966659546f, (_266 * 0.044794581830501556f)));
  float _391 = mad(_382, 1.0015007257461548f, mad(_324, 0.0040252115577459335f, (_266 * -0.00552586792036891f)));

  _6[0] = 0.0f;
  _6[1] = 0.0f;
  _6[2] = 0.0f;
  _6[3] = 0.0f;
  _6[4] = 0.0f;
  _6[5] = 0.0f;
  _6[6] = 0.0f;
  _6[7] = 0.0f;
  _6[8] = 0.0f;
  _7[0] = 0.0f;
  _7[1] = 0.0f;
  _7[2] = 0.0f;
  _7[3] = 0.0f;
  _7[4] = 0.0f;
  _7[5] = 0.0f;
  _7[6] = 0.0f;
  _7[7] = 0.0f;
  _7[8] = 0.0f;
  if (!(!(cb0_space6_003w >= 4000.0f))) {
    _6[0] = -2.301029920578003f;
    _6[1] = -2.301029920578003f;
    _6[2] = -1.9312000274658203f;
    _6[3] = -1.5204999446868896f;
    _6[4] = -1.057800054550171f;
    _6[5] = -0.4668000042438507f;
    _6[6] = 0.11937999725341797f;
    _6[7] = 0.7088134288787842f;
    _6[8] = 1.2911865711212158f;
    _7[0] = 0.7973186373710632f;
    _7[1] = 1.202681303024292f;
    _7[2] = 1.6093000173568726f;
    _7[3] = 2.0107998847961426f;
    _7[4] = 2.414799928665161f;
    _7[5] = 2.8178999423980713f;
    _7[6] = 3.172499895095825f;
    _7[7] = 3.5344996452331543f;
    _7[8] = 3.6696205139160156f;
    _738 = 0.00014179872232489288f;
    _739 = 0.004999999888241291f;
    _740 = 6824.36376953125f;
    _741 = 4000.0f;
    _742 = 0.30000001192092896f;
  } else {
    if (cb0_space6_003w < 48.0f) {
      _6[0] = -1.6989699602127075f;
      _6[1] = -1.6989699602127075f;
      _6[2] = -1.4779000282287598f;
      _6[3] = -1.229099988937378f;
      _6[4] = -0.864799976348877f;
      _6[5] = -0.4480000138282776f;
      _6[6] = 0.005179999861866236f;
      _6[7] = 0.45110803842544556f;
      _6[8] = 0.9113744497299194f;
      _7[0] = 0.5154386758804321f;
      _7[1] = 0.8470437526702881f;
      _7[2] = 1.1358000040054321f;
      _7[3] = 1.3802000284194946f;
      _7[4] = 1.519700050354004f;
      _7[5] = 1.5985000133514404f;
      _7[6] = 1.6467000246047974f;
      _7[7] = 1.6746091842651367f;
      _7[8] = 1.687873363494873f;
      _738 = 0.0028798936400562525f;
      _739 = 0.019999999552965164f;
      _740 = 1005.7189331054688f;
      _741 = 48.0f;
      _742 = 0.03999999910593033f;
    } else {
      float _430 = log2(cb0_space6_003w);
      do {
        if ((bool)(cb0_space6_003w >= 2000.0f) && (bool)(cb0_space6_003w < 4000.0f)) {
          _455 = 12.190215110778809f;
          _456 = 11.741353034973145f;
          _457 = 10.538816452026367f;
          _458 = 9.360860824584961f;
          _459 = 8.021791458129883f;
          _460 = 6.679732322692871f;
          _461 = 5.345978736877441f;
          _462 = 3.99522066116333f;
          _463 = 2.648635149002075f;
          _464 = 4.289228916168213f;
          _465 = 2.3546271324157715f;
          _466 = 0.3965717554092407f;
          _467 = -1.5506759881973267f;
          _468 = -3.5139355659484863f;
          _469 = -5.050991535186768f;
          _470 = -6.415307521820068f;
          _471 = -7.643855571746826f;
          _472 = 11.053484916687012f;
          _473 = 10.878083229064941f;
          _474 = 10.136863708496094f;
          _475 = 9.196425437927246f;
          _476 = 7.900541305541992f;
          _477 = 6.634886741638184f;
          _478 = 5.296149730682373f;
          _479 = 3.9796857833862305f;
          _480 = 2.664170503616333f;
          _481 = -12.0f;
          _482 = 11.0f;
          _483 = 12.0f;
          _484 = 0.004999999888241291f;
          _485 = 2000.0f;
          _486 = 4000.0f;
          _487 = 0.30000001192092896f;
          _488 = 0.11999999731779099f;
          _489 = saturate((cb0_space6_003w + -2000.0f) * 0.0005000000237487257f);
          _490 = saturate(_430 + -10.965784072875977f);
        } else {
          if ((bool)(cb0_space6_003w >= 1000.0f) && (bool)(cb0_space6_003w < 2000.0f)) {
            _455 = 11.053484916687012f;
            _456 = 10.878083229064941f;
            _457 = 10.136863708496094f;
            _458 = 9.196425437927246f;
            _459 = 7.900541305541992f;
            _460 = 6.634886741638184f;
            _461 = 5.296149730682373f;
            _462 = 3.9796857833862305f;
            _463 = 2.664170503616333f;
            _464 = 4.289228916168213f;
            _465 = 2.3546271324157715f;
            _466 = 0.3965717554092407f;
            _467 = -1.5506759881973267f;
            _468 = -3.5139355659484863f;
            _469 = -5.050991535186768f;
            _470 = -6.415307521820068f;
            _471 = -7.643855571746826f;
            _472 = 10.008102416992188f;
            _473 = 9.923465728759766f;
            _474 = 9.499053001403809f;
            _475 = 8.764575004577637f;
            _476 = 7.668006420135498f;
            _477 = 6.47211217880249f;
            _478 = 5.209779739379883f;
            _479 = 3.956704616546631f;
            _480 = 2.6871514320373535f;
            _481 = -12.0f;
            _482 = 10.0f;
            _483 = 11.0f;
            _484 = 0.004999999888241291f;
            _485 = 1000.0f;
            _486 = 2000.0f;
            _487 = 0.11999999731779099f;
            _488 = 0.05999999865889549f;
            _489 = saturate((cb0_space6_003w + -1000.0f) * 0.0010000000474974513f);
            _490 = saturate(_430 + -9.965784072875977f);
          } else {
            _455 = 10.008102416992188f;
            _456 = 9.923465728759766f;
            _457 = 9.499053001403809f;
            _458 = 8.764575004577637f;
            _459 = 7.668006420135498f;
            _460 = 6.47211217880249f;
            _461 = 5.209779739379883f;
            _462 = 3.956704616546631f;
            _463 = 2.6871514320373535f;
            _464 = 3.0275204181671143f;
            _465 = 1.4985483884811401f;
            _466 = 0.017207587137818336f;
            _467 = -1.4882237911224365f;
            _468 = -2.872803211212158f;
            _469 = -4.082981586456299f;
            _470 = -4.909477710723877f;
            _471 = -5.643856048583984f;
            _472 = 5.606993675231934f;
            _473 = 5.562931060791016f;
            _474 = 5.470219135284424f;
            _475 = 5.3101019859313965f;
            _476 = 5.048334121704102f;
            _477 = 4.584925174713135f;
            _478 = 3.773045778274536f;
            _479 = 2.8138184547424316f;
            _480 = 1.7122502326965332f;
            _481 = -6.5f;
            _482 = 6.5f;
            _483 = 10.0f;
            _484 = 0.019999999552965164f;
            _485 = 48.0f;
            _486 = 1000.0f;
            _487 = 0.05999999865889549f;
            _488 = 0.03999999910593033f;
            _489 = saturate((cb0_space6_003w + -48.0f) * 0.0010504202218726277f);
            _490 = saturate((_430 + -5.584962368011475f) * 0.22826768457889557f);
          }
        }
        float _491 = exp2(_471);
        float _496 = log2(lerp(_491, 0.005000002216547728f, _489)) * 0.3010300099849701f;
        _6[0] = _496;
        float _498 = exp2(_480);
        _7[0] = (log2(((exp2(_463) - _498) * _489) + _498) * 0.3010300099849701f);
        _6[1] = _496;
        float _505 = exp2(_479);
        _7[1] = (log2(((exp2(_462) - _505) * _489) + _505) * 0.3010300099849701f);
        float _511 = exp2(_470);
        _6[2] = (log2(lerp(_511, 0.01171655673533678f, _489)) * 0.3010300099849701f);
        float _518 = exp2(_478);
        _7[2] = (log2(((exp2(_461) - _518) * _489) + _518) * 0.3010300099849701f);
        float _524 = exp2(_469);
        _6[3] = (log2(lerp(_524, 0.030164770781993866f, _489)) * 0.3010300099849701f);
        float _531 = exp2(_477);
        _7[3] = (log2(((exp2(_460) - _531) * _489) + _531) * 0.3010300099849701f);
        float _537 = exp2(_468);
        _6[4] = (log2(lerp(_537, 0.08753868192434311f, _489)) * 0.3010300099849701f);
        float _544 = exp2(_476);
        _7[4] = (log2(((exp2(_459) - _544) * _489) + _544) * 0.3010300099849701f);
        float _550 = exp2(_467);
        _6[5] = (log2(lerp(_550, 0.34135007858276367f, _489)) * 0.3010300099849701f);
        float _557 = exp2(_475);
        _7[5] = (log2(((exp2(_458) - _557) * _489) + _557) * 0.3010300099849701f);
        float _563 = exp2(_466);
        _6[6] = (log2(lerp(_563, 1.3163760900497437f, _489)) * 0.3010300099849701f);
        float _570 = exp2(_474);
        _7[6] = (log2(((exp2(_457) - _570) * _489) + _570) * 0.3010300099849701f);
        float _576 = exp2(_465);
        _6[7] = (log2(lerp(_576, 5.114620208740234f, _489)) * 0.3010300099849701f);
        float _583 = exp2(_473);
        _7[7] = (log2(((exp2(_456) - _583) * _489) + _583) * 0.3010300099849701f);
        float _589 = exp2(_464);
        _6[8] = (log2(lerp(_589, 19.55179214477539f, _489)) * 0.3010300099849701f);
        float _596 = exp2(_472);
        _7[8] = (log2(((exp2(_455) - _596) * _489) + _596) * 0.3010300099849701f);
        float _608 = log2(max((exp2((_490 * (-12.0f - _481)) + _481) * 0.18000000715255737f), 5.960464477539063e-08f));
        float _609 = _608 * 0.3010300099849701f;
        do {
          if (!(_609 <= -5.2601776123046875f)) {
            if ((bool)(_609 > -5.2601776123046875f) && (bool)(_609 < -0.7447274923324585f)) {
              float _617 = (_608 * 0.19999998807907104f) + 3.494786262512207f;
              int _618 = int(_617);
              float _620 = _617 - float((int)(_618));
              float _622 = _global_0[_618];
              float _625 = _global_0[(_618 + 1)];
              float _630 = _622 * 0.5f;
              _662 = dot(float3((_620 * _620), _620, 1.0f), float3(mad((_global_0[(_618 + 2)]), 0.5f, mad(_625, -1.0f, _630)), (_625 - _622), mad(_625, 0.5f, _630)));
            } else {
              if ((bool)(_609 >= -0.7447274923324585f) && (bool)(_609 < 4.673812389373779f)) {
                float _642 = (_608 * 0.1666666567325592f) + 0.4123218357563019f;
                int _643 = int(_642);
                float _645 = _642 - float((int)(_643));
                float _647 = _global_1[_643];
                float _650 = _global_1[(_643 + 1)];
                float _655 = _647 * 0.5f;
                _662 = dot(float3((_645 * _645), _645, 1.0f), float3(mad((_global_1[(_643 + 2)]), 0.5f, mad(_650, -1.0f, _655)), (_650 - _647), mad(_650, 0.5f, _655)));
              } else {
                _662 = 4.0f;
              }
            }
          } else {
            _662 = -4.0f;
          }
          float _674 = log2(max((exp2((_490 * (_483 - _482)) + _482) * 0.18000000715255737f), 5.960464477539063e-08f));
          float _675 = _674 * 0.3010300099849701f;
          do {
            if (!(_675 <= -5.2601776123046875f)) {
              if ((bool)(_675 > -5.2601776123046875f) && (bool)(_675 < -0.7447274923324585f)) {
                float _683 = (_674 * 0.19999998807907104f) + 3.494786262512207f;
                int _684 = int(_683);
                float _686 = _683 - float((int)(_684));
                float _688 = _global_0[_684];
                float _691 = _global_0[(_684 + 1)];
                float _696 = _688 * 0.5f;
                _728 = dot(float3((_686 * _686), _686, 1.0f), float3(mad((_global_0[(_684 + 2)]), 0.5f, mad(_691, -1.0f, _696)), (_691 - _688), mad(_691, 0.5f, _696)));
              } else {
                if ((bool)(_675 >= -0.7447274923324585f) && (bool)(_675 < 4.673812389373779f)) {
                  float _708 = (_674 * 0.1666666567325592f) + 0.4123218357563019f;
                  int _709 = int(_708);
                  float _711 = _708 - float((int)(_709));
                  float _713 = _global_1[_709];
                  float _716 = _global_1[(_709 + 1)];
                  float _721 = _713 * 0.5f;
                  _728 = dot(float3((_711 * _711), _711, 1.0f), float3(mad((_global_1[(_709 + 2)]), 0.5f, mad(_716, -1.0f, _721)), (_716 - _713), mad(_716, 0.5f, _721)));
                } else {
                  _728 = 4.0f;
                }
              }
            } else {
              _728 = -4.0f;
            }
            _738 = exp2(_662 * 3.321928024291992f);
            _739 = ((_489 * (0.004999999888241291f - _484)) + _484);
            _740 = exp2(_728 * 3.321928024291992f);
            _741 = ((_489 * (_486 - _485)) + _485);
            _742 = ((_489 * (_487 - _488)) + _488);
          } while (false);
        } while (false);
      } while (false);
    }
  }
  float _744 = log2(max(mad(_391, -0.2149285525083542f, mad(_388, -0.2365107238292694f, (_385 * 1.451439380645752f))), 5.960464477539063e-08f));
  float _745 = _744 * 0.3010300099849701f;
  float _746 = log2(_738);
  float _747 = _746 * 0.3010300099849701f;
  if (!(!(_745 <= _747))) {
    _819 = (log2(_739) * 0.3010300099849701f);
  } else {
    if ((bool)(_745 < 0.6812411546707153f) && (bool)(_745 > _747)) {
      float _761 = ((_744 - _746) * 2.107210159301758f) / ((2.2630341053009033f - _746) * 0.3010300099849701f);
      int _762 = int(_761);
      float _764 = _761 - float((int)(_762));
      float _766 = _6[_762];
      float _769 = _6[(_762 + 1)];
      float _774 = _766 * 0.5f;
      _819 = dot(float3((_764 * _764), _764, 1.0f), float3(mad((_6[(_762 + 2)]), 0.5f, mad(_769, -1.0f, _774)), (_769 - _766), mad(_769, 0.5f, _774)));
    } else {
      float _782 = log2(_740);
      if ((bool)(_745 >= 0.6812411546707153f) && (bool)(_745 < (_782 * 0.3010300099849701f))) {
        float _791 = ((_744 + -2.2630341053009033f) * 2.107210159301758f) / ((_782 + -2.2630341053009033f) * 0.3010300099849701f);
        int _792 = int(_791);
        float _794 = _791 - float((int)(_792));
        float _796 = _7[_792];
        float _799 = _7[(_792 + 1)];
        float _804 = _796 * 0.5f;
        _819 = dot(float3((_794 * _794), _794, 1.0f), float3(mad((_7[(_792 + 2)]), 0.5f, mad(_799, -1.0f, _804)), (_799 - _796), mad(_799, 0.5f, _804)));
      } else {
        _819 = (((log2(_741) * 0.3010300099849701f) + (_745 * _742)) - ((_742 * 0.3010300099849701f) * _782));
      }
    }
  }
  float _823 = log2(max(mad(_391, -0.09967594593763351f, mad(_388, 1.1762299537658691f, (_385 * -0.07655376195907593f))), 5.960464477539063e-08f));
  float _824 = _823 * 0.3010300099849701f;
  if (!(!(_824 <= _747))) {
    _896 = (log2(_739) * 0.3010300099849701f);
  } else {
    if ((bool)(_824 < 0.6812411546707153f) && (bool)(_824 > _747)) {
      float _838 = ((_823 - _746) * 2.107210159301758f) / ((2.2630341053009033f - _746) * 0.3010300099849701f);
      int _839 = int(_838);
      float _841 = _838 - float((int)(_839));
      float _843 = _6[_839];
      float _846 = _6[(_839 + 1)];
      float _851 = _843 * 0.5f;
      _896 = dot(float3((_841 * _841), _841, 1.0f), float3(mad((_6[(_839 + 2)]), 0.5f, mad(_846, -1.0f, _851)), (_846 - _843), mad(_846, 0.5f, _851)));
    } else {
      float _859 = log2(_740);
      if ((bool)(_824 >= 0.6812411546707153f) && (bool)(_824 < (_859 * 0.3010300099849701f))) {
        float _868 = ((_823 + -2.2630341053009033f) * 2.107210159301758f) / ((_859 + -2.2630341053009033f) * 0.3010300099849701f);
        int _869 = int(_868);
        float _871 = _868 - float((int)(_869));
        float _873 = _7[_869];
        float _876 = _7[(_869 + 1)];
        float _881 = _873 * 0.5f;
        _896 = dot(float3((_871 * _871), _871, 1.0f), float3(mad((_7[(_869 + 2)]), 0.5f, mad(_876, -1.0f, _881)), (_876 - _873), mad(_876, 0.5f, _881)));
      } else {
        _896 = (((log2(_741) * 0.3010300099849701f) + (_824 * _742)) - ((_742 * 0.3010300099849701f) * _859));
      }
    }
  }
  float _900 = log2(max(mad(_391, 0.9977161884307861f, mad(_388, -0.0060324473306536674f, (_385 * 0.008316127583384514f))), 5.960464477539063e-08f));
  float _901 = _900 * 0.3010300099849701f;
  if (!(!(_901 <= _747))) {
    _973 = (log2(_739) * 0.3010300099849701f);
  } else {
    if ((bool)(_901 < 0.6812411546707153f) && (bool)(_901 > _747)) {
      float _915 = ((_900 - _746) * 2.107210159301758f) / ((2.2630341053009033f - _746) * 0.3010300099849701f);
      int _916 = int(_915);
      float _918 = _915 - float((int)(_916));
      float _920 = _6[_916];
      float _923 = _6[(_916 + 1)];
      float _928 = _920 * 0.5f;
      _973 = dot(float3((_918 * _918), _918, 1.0f), float3(mad((_6[(_916 + 2)]), 0.5f, mad(_923, -1.0f, _928)), (_923 - _920), mad(_923, 0.5f, _928)));
    } else {
      float _936 = log2(_740);
      if ((bool)(_901 >= 0.6812411546707153f) && (bool)(_901 < (_936 * 0.3010300099849701f))) {
        float _945 = ((_900 + -2.2630341053009033f) * 2.107210159301758f) / ((_936 + -2.2630341053009033f) * 0.3010300099849701f);
        int _946 = int(_945);
        float _948 = _945 - float((int)(_946));
        float _950 = _7[_946];
        float _953 = _7[(_946 + 1)];
        float _958 = _950 * 0.5f;
        _973 = dot(float3((_948 * _948), _948, 1.0f), float3(mad((_7[(_946 + 2)]), 0.5f, mad(_953, -1.0f, _958)), (_953 - _950), mad(_953, 0.5f, _958)));
      } else {
        _973 = (((log2(_741) * 0.3010300099849701f) + (_901 * _742)) - ((_742 * 0.3010300099849701f) * _936));
      }
    }
  }
  float _976 = exp2(_819 * 3.321928024291992f) + -3.507384462864138e-05f;
  float _977 = exp2(_896 * 3.321928024291992f) + -3.507384462864138e-05f;
  float _978 = exp2(_973 * 3.321928024291992f) + -3.507384462864138e-05f;
  float _981 = mad(_978, 0.15618771314620972f, mad(_977, 0.13400419056415558f, (_976 * 0.6624542474746704f)));
  float _984 = mad(_978, 0.05368952080607414f, mad(_977, 0.6740816235542297f, (_976 * 0.27222874760627747f)));
  float _987 = mad(_978, 1.0103391408920288f, mad(_977, 0.004060728941112757f, (_976 * -0.005574661307036877f)));
  float _990 = mad(_987, 0.015953272581100464f, mad(_984, -0.006113274954259396f, (_981 * 0.9872239828109741f)));
  float _993 = mad(_987, 0.005330018699169159f, mad(_984, 1.0018614530563354f, (_981 * -0.007598359137773514f)));
  float _996 = mad(_987, 1.081680417060852f, mad(_984, -0.0050959512591362f, (_981 * 0.0030725672841072083f)));
  float _1016 = exp2(log2(abs(max(0.0f, min(mad(_996, -0.25336623191833496f, mad(_993, -0.3556707501411438f, (_990 * 1.7166508436203003f))), 65520.0f)) * 9.999999747378752e-05f)) * 0.1593017578125f);
  float _1029 = exp2(log2(abs(max(0.0f, min(mad(_996, 0.015768539160490036f, mad(_993, 1.6164814233779907f, (_990 * -0.6666844487190247f))), 65520.0f)) * 9.999999747378752e-05f)) * 0.1593017578125f);
  float _1042 = exp2(log2(abs(max(0.0f, min(mad(_996, 0.9421032071113586f, mad(_993, -0.04277060925960541f, (_990 * 0.017639854922890663f))), 65520.0f)) * 9.999999747378752e-05f)) * 0.1593017578125f);
  u0_space6[int3((uint)(SV_DispatchThreadID.x), (uint)(SV_DispatchThreadID.y), (uint)(SV_DispatchThreadID.z))] = float4(exp2(log2(((_1016 * 18.8515625f) + 0.8359375f) / ((_1016 * 18.6875f) + 1.0f)) * 78.84375f), exp2(log2(((_1029 * 18.8515625f) + 0.8359375f) / ((_1029 * 18.6875f) + 1.0f)) * 78.84375f), exp2(log2(((_1042 * 18.8515625f) + 0.8359375f) / ((_1042 * 18.6875f) + 1.0f)) * 78.84375f), 1.0f);
}
